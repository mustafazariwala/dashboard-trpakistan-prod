{"version":3,"sources":["webpack:///node_modules/angular2_photoswipe/__ivy_ngcc__/fesm2015/angular2_photoswipe.js","webpack:///node_modules/desandro-matches-selector/matches-selector.js","webpack:///node_modules/ev-emitter/ev-emitter.js","webpack:///node_modules/fizzy-ui-utils/utils.js","webpack:///node_modules/get-size/get-size.js","webpack:///node_modules/imagesloaded/imagesloaded.js","webpack:///node_modules/masonry-layout/masonry.js","webpack:///node_modules/ngx-crystal-gallery/__ivy_ngcc__/fesm2015/ngx-crystal-gallery.js","webpack:///node_modules/ngx-masonry-gallery/__ivy_ngcc__/fesm2015/ngx-masonry-gallery.js","webpack:///node_modules/ngx-masonry/__ivy_ngcc__/fesm2015/ngx-masonry.js","webpack:///node_modules/outlayer/item.js","webpack:///node_modules/outlayer/outlayer.js","webpack:///node_modules/photoswipe/dist/photoswipe-ui-default.js","webpack:///node_modules/photoswipe/dist/photoswipe.js","webpack:///src/app/components/apps/gallery/gallery-desc/gallery-desc.component.html","webpack:///src/app/components/apps/gallery/gallery-desc/gallery-desc.component.ts","webpack:///src/app/components/apps/gallery/gallery-grid/gallery-grid.component.html","webpack:///src/app/components/apps/gallery/gallery-grid/gallery-grid.component.ts","webpack:///src/app/components/apps/gallery/gallery-routing.module.ts","webpack:///src/app/components/apps/gallery/gallery.module.ts","webpack:///src/app/components/apps/gallery/hover-effect/hover-effect.component.html","webpack:///src/app/components/apps/gallery/hover-effect/hover-effect.component.ts","webpack:///src/app/components/apps/gallery/mesonry/mesonry.component.ts","webpack:///src/app/components/apps/gallery/mesonry/mesonry.component.html"],"names":["_c0","_c1","a0","_c2","_c3","_c4","_c5","Angular2PhotoswipeService","ɵfac","Angular2PhotoswipeService_Factory","t","ɵprov","token","factory","providedIn","ctorParameters","ngInjectableDef","ngDevMode","type","Injectable","args","Angular2PhotoswipeComponent","Angular2PhotoswipeComponent_Factory","ɵcmp","selectors","decls","vars","template","Angular2PhotoswipeComponent_Template","rf","ctx","encapsulation","Component","selector","NgpService","NgpService_Factory","LightboxComponent","ngp","LightboxElement","el","LightboxComponent_Factory","viewQuery","LightboxComponent_Query","_t","first","consts","LightboxComponent_Template","styles","propDecorators","ViewChild","Image","ANGULAR2_PHOTO_SWIPE_FACTORY","DefaultLightboxAdapter","LightboxAdapter","LightboxAdapter_Factory","useFactory","arguments","allowPanToNext","spacing","bgOpacity","mouseUsed","loop","pinchToClose","closeOnScroll","closeOnVerticalDrag","hideAnimationDuration","showAnimationDuration","showHideOpacity","escKey","arrowKeys","ɵDefaultLightboxAdapter_BaseFactory","DefaultLightboxAdapter_Factory","GalleryItemComponent","adapter","clicked","EventEmitter","isBootstrapEnabled","enableBootstrap4","emit","image","GalleryItemComponent_Factory","hostVars","hostBindings","GalleryItemComponent_HostBindings","inputs","outputs","GalleryItemComponent_Template","GalleryItemComponent_Template_a_click_0_listener","onClick","largeUrl","width","height","author","thumbUrl","description","directives","Input","Output","HostBinding","GalleryComponent","shareLinkClick","subscriptions","images","galleryItems","toArray","map","cp","push","subscribe","data","forEach","sub","unsubscribe","openPhotoSwipe","galleryElement","img","galleryDOM","galleryUID","nativeElement","getAttribute","index","id","PSWP","pswp","getImagesAsPhotoswipe","_this","listen","e","target","init","src","w","h","pid","title","GalleryComponent_Factory","contentQueries","GalleryComponent_ContentQueries","dirIndex","GalleryComponent_Query","galleryId","ngContentSelectors","GalleryComponent_Template","ContentChildren","Angular2PhotoswipeModule","Angular2PhotoswipeModule_Factory","ɵmod","ɵinj","imports","CommonModule","NgModule","declarations","exports","ngJitMode","window","matchesMethod","ElemProto","Element","prototype","matches","matchesSelector","prefixes","i","length","prefix","method","elem","global","EvEmitter","proto","on","eventName","listener","events","_events","listeners","indexOf","once","onceEvents","_onceEvents","onceListeners","off","splice","emitEvent","slice","isOnce","apply","allOff","utils","extend","a","b","prop","modulo","num","div","arraySlice","Array","makeArray","obj","isArray","undefined","isArrayLike","call","removeFrom","ary","getParent","parentNode","document","body","getQueryElement","querySelector","handleEvent","event","filterFindElements","elems","ffElems","HTMLElement","childElems","querySelectorAll","debounceMethod","_class","methodName","threshold","timeoutName","timeout","clearTimeout","setTimeout","docReady","callback","readyState","addEventListener","toDashed","str","replace","match","$1","$2","toLowerCase","console","htmlInit","WidgetClass","namespace","dashedNamespace","dataAttr","dataAttrElems","jsDashElems","concat","dataOptionsAttr","jQuery","attr","options","JSON","parse","error","className","instance","getStyleSize","value","parseFloat","isValid","isNaN","noop","logError","message","measurements","measurementsLength","getZeroSize","size","innerWidth","innerHeight","outerWidth","outerHeight","measurement","getStyle","style","getComputedStyle","isSetup","isBoxSizeOuter","setup","createElement","padding","borderStyle","borderWidth","boxSizing","documentElement","appendChild","Math","round","getSize","removeChild","nodeType","display","offsetWidth","offsetHeight","isBorderBox","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","$","ImagesLoaded","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","bind","Object","create","addElementImages","nodeName","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","children","child","reURL","exec","backgroundImage","url","addBackground","loadingImage","LoadingImage","Background","progressedCount","hasAnyBroken","complete","onProgress","progress","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","onload","unbindEvents","onerror","removeEventListener","element","makeJQueryPlugin","fn","imagesLoaded","promise","Outlayer","Masonry","compatOptions","fitWidth","_resetLayout","_getMeasurement","measureColumns","colYs","cols","maxY","horizontalColIndex","getContainerWidth","columnWidth","firstItem","items","firstItemElem","containerWidth","gutter","excess","mathMethod","max","isFitWidth","_getOption","container","_getItemLayoutPosition","item","remainder","colSpan","min","colPosMethod","horizontalOrder","colPosition","position","x","col","y","setHeight","setMax","_getTopColPosition","colGroup","_getTopColGroup","minimumY","groupCount","_getColGroupY","groupColYs","_getHorizontalColPosition","isOver","hasSize","_manageStamp","stamp","stampSize","offset","_getElementOffset","isOriginLeft","firstX","left","right","lastX","firstCol","floor","lastCol","isOriginTop","stampMaxY","top","bottom","_getContainerSize","_getContainerFitWidth","unusedCols","needsResizeLayout","previousWidth","LightboxComponent_div_0_Template","ctx_r0","counter","LightboxComponent_div_1_Template","ctx_r1","LightboxComponent_div_4_Template","LightboxMobileComponent_img_4_Template","_r7","LightboxMobileComponent_img_4_Template_img_load_0_listener","ctx_r6","onImageLoaded","prevImage","loaded","prevImagePath","full","LightboxMobileComponent_div_5_Template","LightboxMobileComponent_div_6_div_2_Template","LightboxMobileComponent_div_6_Template","_r10","LightboxMobileComponent_div_6_Template_img_load_1_listener","ctx_r9","ctx_r3","currImage","currImagePath","LightboxMobileComponent_img_8_Template","_r12","LightboxMobileComponent_img_8_Template_img_load_0_listener","ctx_r11","ctx_r4","nextImage","nextImagePath","LightboxMobileComponent_div_9_Template","GalleryComponent_masonry_layout_3_Template","_r3","GalleryComponent_masonry_layout_3_Template_masonry_layout_events_0_listener","$event","ctx_r2","handleMasonryLayoutEvents","masonryMaxHeight","masonryGutter","masonryState","MasonryLayoutComponent_div_0_Template","_r5","MasonryLayoutComponent_div_0_Template_img_click_1_listener","restoredCtx","image_r1","$implicit","i_r2","clickOnImage","MasonryLayoutComponent_div_0_Template_img_load_1_listener","computedWidth","computedHeight","margin","CLASS_NAME","preview","elementRef","ref","currentImageIndex","spinnerHeight","descriptionHeight","close","showLightbox","hideControls","config","path","prevIndex","key","prev","next","closeLightbox","setBackgroundOpacity","backgroundOpacity","setMaxDimensions","setAnimationDuration","animationDuration","isLast","currImageLoaded","isFirst","latestImageIndex","detectChanges","opacity","hostStyleBackgroundColor","wrapperElem","currImageElem","maxHeight","lightboxMaxHeight","maxWidth","lightboxMaxWidth","hostStyleTransition","prevImageElem","LightboxComponent_HostBindings","LightboxComponent_keydown_HostBindingHandler","onKeyDown","LightboxComponent_mouseenter_HostBindingHandler","onMouseEnter","LightboxComponent_Template_div_click_2_listener","LightboxComponent_Template_img_load_7_listener","LightboxComponent_Template_div_click_9_listener","LightboxComponent_Template_div_click_10_listener","ElementRef","ChangeDetectorRef","HostListener","LightboxMobileComponent","show","lightboxShown","nextIndex","landscapeMode","isLandscape","afterSlide","eventType","defaultWrapperPosition","slide","wrapperEl","transition","transform","webkitTransform","LightboxMobileComponent_Factory","LightboxMobileComponent_Query","LightboxMobileComponent_HostBindings","LightboxMobileComponent_resize_HostBindingHandler","onWindowResize","LightboxMobileComponent_Template","LightboxMobileComponent_Template_div_click_0_listener","LightboxMobileComponent_Template_div_events_1_listener","handlePinchEvents","PinchDirective","defaultConfig","masonry","CrystalLightbox","componentFactoryResolver","appRef","injector","test","substr","navigator","userAgent","vendor","component","componentRef","resolveComponentFactory","attachView","hostView","domElem","rootNodes","detachView","destroy","applyConfigDefaults","getLightboxComponent","appendComponentToBody","isMobile","defaultConfig$$1","assign","CrystalLightbox_Factory","ComponentFactoryResolver","ApplicationRef","Injector","lightbox","contentWrapper","open","isNgContent","MasonryLayoutComponent","GUTTER","savedNodeDimensions","gridState","ENABLE_MASONRY","MAX_HEIGHT","resizeTimer","buildGrid","changesTimer","parentWidth","row","startIndex","endIndex","totalWidth","node","getComputedWidth","isLastChild","scaling","setColDimensions","totalRowWidth","getNodeMargin","nodeWidth","MasonryLayoutComponent_Factory","MasonryLayoutComponent_HostBindings","MasonryLayoutComponent_resize_HostBindingHandler","features","MasonryLayoutComponent_Template","scale","initialScale","moveX","moveY","initialMoveX","initialMoveY","isNextImageLoaded","transformOrigin","touches","preventDefault","startX","pageX","startY","pageY","transformElem","getElementsByTagName","onSlide","evenType","duration","matrixVal","Number","PinchDirective_Factory","ɵdir","PinchDirective_HostBindings","PinchDirective_touchstart_HostBindingHandler","touchstartHandler","PinchDirective_touchmove_HostBindingHandler","touchmoveHandler","PinchDirective_touchend_HostBindingHandler","touchendHandler","Directive","CrystalGalleryModule","CrystalGalleryModule_Factory","providers","bootstrap","entryComponents","Utilities","c","r","random","v","toString","utilities","MasonryGalleryComponent","renderer","verticalGutter","imageClasses","clickImage","removeComplete","layoutComplete","galleryGuid","newGuid","mansonryItemSelectorClass","activeImages","viewReady","changes","currentValue","changesToProcess","processImages","msnry","initMasonry","addImagesToGallery","removeImageFromGallery","imagesToProcess","getAddedAndRemovesImages","addImages","addedImages","removeImages","removedImages","newImagesValue","oldImagesValue","previousValue","newImage","existingImage","find","m","imageUrl","oldImage","grid","getElementById","innerHTML","Error","itemSelector","that","imageIdResult","warn","imageElem","remove","layout","idWithImage","imagesWrapper","imageId","getImageId","setAttribute","alt","getImageClass","handleClick","imgLoad","setStyle","appended","reloadItems","customClass","join","MasonryGalleryComponent_Factory","MasonryGalleryComponent_Template","changeDetection","Renderer2","ChangeDetectionStrategy","MasonryGalleryModule","MasonryGalleryModule_Factory","IMasonryGalleryImage","masonryConstructor","NgxMasonryComponent","platformId","_element","updateLayout","ordered","itemsLoaded","pendingItems","isPlatformBrowser","masonryInstance","firstChange","newItem","entries","itemLoaded","prepend","prepended","playAnimation","NgxMasonryComponent_Factory","PLATFORM_ID","attrs","NgxMasonryComponent_Template","decorators","Inject","NgxMasonryDirective","builder","parent","animations","animate","hide","addPendingItem","from","add","Set","imageRef","hasAttribute","imageLoaded","_","metadata","player","build","play","NgxMasonryDirective_Factory","forwardRef","AnimationBuilder","NgxMasonryModule","NgxMasonryModule_Factory","isEmptyObj","docElemStyle","transitionProperty","transformProperty","transitionEndEvent","WebkitTransition","vendorProperties","transitionDuration","transitionDelay","Item","_create","constructor","_transn","ingProperties","clean","onEnd","css","elemStyle","supportedProp","getPosition","xValue","yValue","layoutSize","layoutPosition","xPadding","xProperty","xResetProperty","getXValue","yPadding","yProperty","yResetProperty","getYValue","isHorizontal","percentPosition","_transitionTo","curX","curY","didNotMove","setPosition","isTransitioning","transX","transY","transitionStyle","getTranslate","to","onTransitionEnd","isCleaning","goTo","moveTo","_nonTransition","_removeStyles","_transition","enableTransition","toDashedAll","transitionProps","staggerDelay","onwebkitTransitionEnd","ontransitionend","onotransitionend","dashedVendorProperties","propertyName","disableTransition","removeTransitionStyles","cleanStyle","cleanTransitionStyle","stagger","delay","removeElem","reveal","isHidden","transitionEndProperty","getHideRevealTransitionEndProperty","onRevealTransitionEnd","hiddenStyle","visibleStyle","styleProperty","optionStyle","onHideTransitionEnd","GUID","instances","queryElement","$element","defaults","option","outlayerGUID","isInitLayout","containerStyle","initLayout","originLeft","originTop","resize","resizeContainer","opts","oldOption","horizontal","layoutInstant","stamps","canBindResize","bindResize","_itemize","itemElems","_filterFindItemElements","getItemElements","_manageStamps","isInstant","_isLayoutInited","layoutItems","_init","_getItemsForLayout","_layoutItems","_postLayout","filter","isIgnored","_emitCompleteOnItems","queue","isLayoutInstant","_processLayoutQueue","updateStagger","_positionItem","getMilliseconds","isResizingContainer","_setContainerMeasure","measure","isWidth","elemSize","onComplete","dispatchEvent","count","doneCount","tick","emitArgs","Event","trigger","ignore","getItem","unignore","_find","unstamp","_getBoundingRect","boundingRect","getBoundingClientRect","_boundingRect","thisRect","isResizeBound","unbindResize","onresize","hasSizes","addItems","previousItems","revealItemElements","getItems","hideItemElements","removeItems","removeData","Layout","subclass","bridget","Parent","SubClass","msUnits","ms","s","time","unit","mult","root","PhotoSwipeUI_Default","framework","ui","_overlayUIUpdated","_controlsVisible","_fullscrenAPI","_controls","_captionContainer","_fakeCaptionContainer","_indexIndicator","_shareButton","_shareModal","_shareModalHidden","_initalCloseOnScrollValue","_isIdle","_listen","_loadingIndicator","_loadingIndicatorHidden","_loadingIndicatorTimeout","_galleryHasOneSlide","_options","_defaultUIOptions","barsSize","closeElClasses","timeToIdle","timeToIdleOutside","loadingIndicatorDelay","addCaptionHTMLFn","captionEl","closeEl","fullscreenEl","zoomEl","shareEl","counterEl","arrowEl","preloaderEl","tapToClose","tapToToggleControls","clickToCloseNonZoomable","shareButtons","label","download","getImageURLForShare","currItem","getPageURLForShare","location","href","getTextForShare","indexIndicatorSep","fitControlsWidth","_blockControlsTap","_blockControlsTapTimeout","_onControlsTap","_onIdleMouseMove","srcElement","uiElement","clickedClass","found","_uiElements","onTap","name","stopPropagation","tapDelay","isOldAndroid","_fitControlsInViewport","likelyTouchDevice","screen","_togglePswpClass","cName","_countNumItems","hasOneSlide","getNumItemsFn","_toggleShareModalClass","_toggleShareModal","addClass","removeClass","_updateShareURLs","_openWindowPopup","shout","shareButtonOut","shareButtonData","shareURL","image_url","page_url","share_text","encodeURIComponent","parseShareButtonOut","onclick","_hasCloseClass","hasClass","_idleInterval","_idleTimer","_idleIncrement","setIdle","_onMouseLeaveWindow","relatedTarget","toElement","_setupFullscreenAPI","getFullscreenAPI","eventK","updateFullscreen","_setupLoadingIndicator","_toggleLoadingIndicator","loading","allowProgressiveImg","_applyNavBarGaps","gap","vGap","bars","createEl","insertBefore","captionSize","clientHeight","parseInt","_setupIdle","setInterval","_setupHidingControlsDuringGestures","now","showControls","pinchControlsHidden","onInit","toggleDesktopZoom","isFullscreen","exit","enter","_setupUIElements","classAttr","loopThroughChildElements","sChildren","l","topBar","getChildByClass","scrollWrap","update","point","initialZoomLevel","getZoomLevel","zoomTo","getDoubleTapZoom","isDown","preventObj","tagName","prevent","onGlobalTap","onMouseOver","clearInterval","unbind","isIdle","updateIndexIndicator","setScrollOffset","getScrollY","getCurrentIndex","detail","pointerType","fitRatio","releasePoint","supportsFullscreen","d","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","dE","api","tF","requestFullscreen","enterK","exitK","elementK","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","ALLOW_KEYBOARD_INPUT","PhotoSwipe","UiClass","split","classes","tag","yOffset","pageYOffset","scrollTop","reg","RegExp","parentEl","childClassName","firstChild","nextSibling","arraySearch","array","o1","o2","preventOverwrite","hasOwnProperty","easing","sine","out","k","sin","PI","inOut","cos","cubic","detectFeatures","helperEl","helperStyle","oldIE","all","touch","requestAnimationFrame","raf","caf","cancelAnimationFrame","pointerEvent","PointerEvent","msPointerEnabled","ua","platform","appVersion","isOldIOSPhone","androidversion","androidVersion","isMobileOpera","styleChecks","vendors","styleCheckItem","styleName","charAt","toUpperCase","lastTime","currTime","Date","getTime","timeToCall","svg","createElementNS","createSVGRect","evName","_handleEv","self","DOUBLE_TAP_RADIUS","NUM_HOLDERS","verticalDragRange","focus","mainScrollEndFriction","panEndFriction","isClickableElement","isMouseClick","maxSpreadZoom","modal","scaleMode","_getEmptyPoint","_isOpen","_isDestroying","_closedByScroll","_currentItemIndex","_containerStyle","_containerShiftIndex","_currPanDist","_startPanOffset","_panOffset","_upMoveEvents","_downEvents","_globalEventHandlers","_viewportSize","_currZoomLevel","_startZoomLevel","_translatePrefix","_translateSufix","_updateSizeInterval","_itemsNeedUpdate","_currPositionIndex","_offset","_slideSize","_itemHolders","_prevItemIndex","_indexDiff","_dragStartEvent","_dragMoveEvent","_dragEndEvent","_dragCancelEvent","_transformKey","_pointerEventEnabled","_isFixedPosition","_likelyTouchDevice","_modules","_requestAF","_cancelAF","_initalClassName","_initalWindowScrollY","_oldIE","_currentWindowScrollY","_features","_windowVisibleSize","_renderMaxResolution","_orientationChangeTimeout","_registerModule","module","publicMethods","_getLoopedId","numSlides","_getNumItems","_listeners","_shout","shift","_getCurrentTime","_applyBgOpacity","_bgOpacity","bg","_applyZoomTransform","styleObj","zoom","_applyCurrentZoomPan","allowRenderResolution","_currZoomElementStyle","_setImageSize","_applyZoomPanToItem","initialPosition","_setTranslateX","elStyle","_moveMainScroll","dragging","newSlideIndexOffset","delta","_mainScrollPos","_calculatePanOffset","axis","zoomLevel","_midZoomPoint","_equalizePoints","p1","p2","_roundPoint","p","_mouseMoveTimeout","_onFirstMouseMove","_bindEvents","_unbindEvents","scroll","_isDragging","_calculatePanBounds","bounds","_calculateItemSize","_currPanBounds","_getMinZoomLevel","_getMaxZoomLevel","_modifyDestPanOffset","destPanBounds","destPanOffset","destZoomLevel","_setupTransforms","allow3dTransform","perspective","zoomRatio","_onKeyDown","keydownAction","keyCode","ctrlKey","altKey","shiftKey","metaKey","returnValue","_onGlobalClick","_moved","_zoomStarted","_mainScrollAnimating","_verticalDragInitiated","_updatePageScrollOffset","_animations","_numAnimations","_stopAnimation","_registerStartAnimation","_stopAllAnimations","_animateProp","endProp","easingFn","onUpdate","startAnimTime","animloop","viewportSize","isMainScrollAnimating","isDragging","isZooming","_isZooming","applyZoomPan","panX","panY","itemHolders","wrap","updateSize","orientationchange","clientWidth","keydown","click","oldPhone","animationName","_getItemAt","rootClasses","mainClass","setContent","updateCurrItem","_showOrHide","_showOrHideTimeout","_stopDragUpdateLoop","panTo","force","diff","updateCurrZoomItem","emulateSetContent","zoomElement","center","invalidateCurrItems","needsUpdate","beforeAnimation","diffAbs","abs","tempHolder","pop","unshift","prevItem","windowScrollY","holder","hIndex","cleanSlide","centerPoint","speed","updateFn","initialPanOffset","MIN_SWIPE_DISTANCE","DIRECTION_CHECK_OFFSET","_gestureStartTime","_gestureCheckSpeedTime","_currPoint","_startPoint","_currPointers","_startMainScrollPos","_releaseAnimData","_posPoints","_tempPoint","_isZoomingIn","_oldAndroidTouchEndTimeout","_currZoomedItemIndex","_centerPoint","_lastReleaseTime","_isMultitouch","_dragAnimFrame","_mainScrollShifted","_currentPoints","_currPointsDistance","_startPointsDistance","_currCenterPoint","_direction","_isFirstMove","_opacityChanged","_wasOverInitialZoom","_isEqualPoints","_isNearbyPoints","touch0","touch1","_calculatePointsDistance","sqrt","_dragUpdateLoop","_renderMovement","_canPan","_closestElement","_preventObj","_preventDefaultEventBehaviour","_convertTouchToPoint","identifier","_findCenterOfPoints","pCenter","_pushPosPoint","o","_calculateVerticalDragOpacityRatio","_ePoint1","_ePoint2","_tempPointsArr","_tempCounter","_getTouchPoints","_panOrMoveMainScroll","panFriction","overDiff","newOffset","startOverDiff","dir","newMainScrollPosition","mainScrollDiff","newPanPos","newMainScrollPos","_onDragStart","button","_initialZoomRunning","pointerIndex","pointerId","startPointsList","numPoints","_onDragMove","touchesList","pointsDistance","_calculateZoomLevel","zoomFriction","minZoomLevel","maxZoomLevel","minusDiff","percent","opacityRatio","mainScrollChanged","_onDragRelease","MSPOINTER_TYPES","touchList","gestureType","changedTouches","releaseTimeDiff","_initDragReleaseAnimationData","calculateSwipeSpeed","initalPanY","initialBgOpacity","itemChanged","_finishSwipeMainScrollGesture","_completeZoomGesture","_completePanGesture","lastFlickDuration","tempReleasePos","lastFlickOffset","lastFlickDist","lastFlickSpeed","slowDownRatio","slowDownRatioReverse","speedDecelerationRatio","speedDecelerationRatioAbs","distanceOffset","backAnimDestination","backAnimStarted","calculateOverBoundsAnimOffset","pos","calculateAnimOffset","timeDiff","panAnimLoop","zoomPan","lastNow","animData","itemsDiff","totalShiftDist","isFastLastFlick","nextCircle","animateToX","animateToDist","finishAnimDuration","touchesDistance","destOpacity","initialOpacity","initGestures","addEventNames","pref","down","move","up","cancel","maxTouchPoints","msMaxTouchPoints","mousedown","mousemove","mouseup","completeFn","_initialContentSet","thumbBounds","initialLayout","getThumbBoundsFn","removeAttribute","startAnimation","closeWithRaf","fadeEverything","loadError","miniImg","webkitBackfaceVisibility","initalBgOpacity","_items","_tempPanAreaSize","_imagesToAppendPool","_controllerDefaultOptions","errorMsg","forceProgressiveLoading","preload","_initialIsLoop","_getZeroBounds","_calculateSingleItemPanBounds","realPanElementW","realPanElementH","isInitial","hRatio","vRatio","_appendImage","baseDiv","preventAnimation","keepPlaceholder","imageAppended","placeholder","_preloadImage","loadComplete","_checkForError","cleanUp","maxRes","lastChild","_appendImagesPool","poolItem","clearPlaceholder","lazyLoadItem","initController","getItemAt","isNext","preloadBefore","preloadAfter","preloader","html","placeholderClassName","msrc","tapTimer","tapReleasePoint","_dispatchTapEvent","origEvent","createEvent","eDetail","initCustomEvent","initTap","onTapStart","onTapRelease","p0","clickedTagName","_wheelDelta","initDesktopZoom","setupDesktopZoom","handleMouseWheel","mouseZoomedIn","hasDraggingClass","updateZoomable","removeDraggingClass","deltaY","deltaMode","deltaX","wheelDeltaX","wheelDeltaY","wheelDelta","newPanX","newPanY","doubleTapZoomLevel","zoomOut","_historyDefaultOptions","history","_historyUpdateTimeout","_hashChangeTimeout","_hashAnimCheckTimeout","_hashChangedByScript","_hashChangedByHistory","_hashReseted","_initialHash","_historyChanged","_closedFromURL","_urlChangedOnce","_windowLoc","_supportsPushState","_getHash","hash","substring","_cleanHistoryTimeouts","_parseItemIndexFromURL","params","pair","galleryPIDs","searchfor","_updateHash","newHash","newURL","initHistory","updateURL","onHashChange","returnToOriginal","back","pushState","pathname","search","GalleryDescComponent","galleryService","imagesRect","extUrl","buttonsConfigDefault","visible","strategy","ButtonsStrategy","buttonsConfigSimple","buttonsConfigAdvanced","buttonsConfigFull","buttonsConfigCustom","buttons","KS_DEFAULT_BTN_FULL_SCREEN","KS_DEFAULT_BTN_DELETE","KS_DEFAULT_BTN_EXTURL","KS_DEFAULT_BTN_DOWNLOAD","KS_DEFAULT_BTN_CLOSE","customPlainGalleryRowDescConfig","PlainGalleryStrategy","AdvancedLayout","getCurrentIndexCustomLayout","ButtonType","val","addRandomImage","openGallery","imageToCopy","plain","GalleryGridComponent","onButtonBeforeHook","onButtonAfterHook","routes","MesonryComponent","HoverEffectComponent","GalleryRoutingModule","RouterModule","GalleryDemoModule","GalleryModule","SharedModule","imageIndex","isPlaying","customPlainGalleryRowConfig","isShownAutoNavigate","numberOfInitiallyShownImages","numberOfImages","multipleImagesCount","usedImages","pool","urls","initialImages"],"mappings":"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","file":"src_app_components_apps_gallery_gallery_module_ts-es5.js","sourcesContent":["import { CommonModule } from '@angular/common';\nimport * as PhotoSwipe from 'photoswipe';\nimport * as PhotoSwipeUI_Default from 'photoswipe/dist/photoswipe-ui-default';\nimport { Injectable, Component, Input, Output, EventEmitter, HostBinding, ContentChildren, ViewChild, ɵɵdefineInjectable, NgModule } from '@angular/core';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"ngpLightbox\"];\nconst _c1 = function (a0) { return { \"card-img-top\": a0 }; };\nconst _c2 = [\"ngpGallery\"];\nconst _c3 = [[[\"ngp-gallery-item\"]]];\nconst _c4 = function (a0) { return { \"card-columns\": a0 }; };\nconst _c5 = [\"ngp-gallery-item\"];\nclass Angular2PhotoswipeService {\n    constructor() { }\n}\nAngular2PhotoswipeService.ɵfac = function Angular2PhotoswipeService_Factory(t) { return new (t || Angular2PhotoswipeService)(); };\nAngular2PhotoswipeService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: Angular2PhotoswipeService, factory: Angular2PhotoswipeService.ɵfac, providedIn: 'root' });\n/** @nocollapse */\nAngular2PhotoswipeService.ctorParameters = () => [];\n/** @nocollapse */ Angular2PhotoswipeService.ngInjectableDef = ɵɵdefineInjectable({ factory: function Angular2PhotoswipeService_Factory() { return new Angular2PhotoswipeService(); }, token: Angular2PhotoswipeService, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Angular2PhotoswipeService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], function () { return []; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Angular2PhotoswipeComponent {\n    constructor() { }\n    /**\n     * @return {?}\n     */\n    ngOnInit() {\n    }\n}\nAngular2PhotoswipeComponent.ɵfac = function Angular2PhotoswipeComponent_Factory(t) { return new (t || Angular2PhotoswipeComponent)(); };\nAngular2PhotoswipeComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: Angular2PhotoswipeComponent, selectors: [[\"ngp-angular2-photoswipe\"]], decls: 2, vars: 0, template: function Angular2PhotoswipeComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"p\");\n        ɵngcc0.ɵɵtext(1, \" angular2-photoswipe works! \");\n        ɵngcc0.ɵɵelementEnd();\n    } }, encapsulation: 2 });\n/** @nocollapse */\nAngular2PhotoswipeComponent.ctorParameters = () => [];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Angular2PhotoswipeComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngp-angular2-photoswipe',\n                template: `\n    <p>\n      angular2-photoswipe works!\n    </p>\n  `\n            }]\n    }], function () { return []; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass NgpService {\n}\nNgpService.ɵfac = function NgpService_Factory(t) { return new (t || NgpService)(); };\nNgpService.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: NgpService, factory: NgpService.ɵfac, providedIn: 'root' });\n/** @nocollapse */ NgpService.ngInjectableDef = ɵɵdefineInjectable({ factory: function NgpService_Factory() { return new NgpService(); }, token: NgpService, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgpService, [{\n        type: Injectable,\n        args: [{\n                providedIn: 'root'\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass LightboxComponent {\n    /**\n     * @param {?} ngp\n     */\n    constructor(ngp) {\n        this.ngp = ngp;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this.ngp.LightboxElement = this.el;\n    }\n}\nLightboxComponent.ɵfac = function LightboxComponent_Factory(t) { return new (t || LightboxComponent)(ɵngcc0.ɵɵdirectiveInject(NgpService)); };\nLightboxComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: LightboxComponent, selectors: [[\"ngp-lightbox\"]], viewQuery: function LightboxComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.el = _t.first);\n    } }, decls: 25, vars: 0, consts: [[\"tabindex\", \"-1\", \"role\", \"dialog\", \"aria-hidden\", \"true\", 1, \"pswp\"], [\"ngpLightbox\", \"\"], [1, \"pswp__bg\"], [1, \"pswp__scroll-wrap\"], [1, \"pswp__container\"], [1, \"pswp__item\"], [1, \"pswp__ui\", \"pswp__ui--hidden\"], [1, \"pswp__top-bar\"], [1, \"pswp__counter\"], [\"title\", \"Close (Esc)\", 1, \"pswp__button\", \"pswp__button--close\"], [\"title\", \"Share\", 1, \"pswp__button\", \"pswp__button--share\"], [\"title\", \"Toggle fullscreen\", 1, \"pswp__button\", \"pswp__button--fs\"], [\"title\", \"Zoom in/out\", 1, \"pswp__button\", \"pswp__button--zoom\"], [1, \"pswp__preloader\"], [1, \"pswp__preloader__icn\"], [1, \"pswp__preloader__cut\"], [1, \"pswp__preloader__donut\"], [1, \"pswp__share-modal\", \"pswp__share-modal--hidden\", \"pswp__single-tap\"], [1, \"pswp__share-tooltip\"], [\"title\", \"Previous (arrow left)\", 1, \"pswp__button\", \"pswp__button--arrow--left\"], [\"title\", \"Next (arrow right)\", 1, \"pswp__button\", \"pswp__button--arrow--right\"], [1, \"pswp__caption\"], [1, \"pswp__caption__center\"]], template: function LightboxComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵelement(2, \"div\", 2);\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵelementStart(4, \"div\", 4);\n        ɵngcc0.ɵɵelement(5, \"div\", 5);\n        ɵngcc0.ɵɵelement(6, \"div\", 5);\n        ɵngcc0.ɵɵelement(7, \"div\", 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(8, \"div\", 6);\n        ɵngcc0.ɵɵelementStart(9, \"div\", 7);\n        ɵngcc0.ɵɵelement(10, \"div\", 8);\n        ɵngcc0.ɵɵelement(11, \"button\", 9);\n        ɵngcc0.ɵɵelement(12, \"button\", 10);\n        ɵngcc0.ɵɵelement(13, \"button\", 11);\n        ɵngcc0.ɵɵelement(14, \"button\", 12);\n        ɵngcc0.ɵɵelementStart(15, \"div\", 13);\n        ɵngcc0.ɵɵelementStart(16, \"div\", 14);\n        ɵngcc0.ɵɵelementStart(17, \"div\", 15);\n        ɵngcc0.ɵɵelement(18, \"div\", 16);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(19, \"div\", 17);\n        ɵngcc0.ɵɵelement(20, \"div\", 18);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelement(21, \"button\", 19);\n        ɵngcc0.ɵɵelement(22, \"button\", 20);\n        ɵngcc0.ɵɵelementStart(23, \"div\", 21);\n        ɵngcc0.ɵɵelement(24, \"div\", 22);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } }, styles: [\".pswp[_ngcontent-%COMP%]{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:0}.pswp[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{box-sizing:border-box}.pswp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:none}.pswp--animate_opacity[_ngcontent-%COMP%]{opacity:.001;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open[_ngcontent-%COMP%]{display:block}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__zoom-wrap[_ngcontent-%COMP%]{touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-backface-visibility:hidden}.pswp__container[_ngcontent-%COMP%], .pswp__img[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap[_ngcontent-%COMP%]{position:absolute;width:100%;-webkit-transform-origin:left top;transform-origin:left top;transition:transform 333ms cubic-bezier(.4,0,.22,1),-webkit-transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg[_ngcontent-%COMP%]{will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in[_ngcontent-%COMP%]   .pswp__bg[_ngcontent-%COMP%], .pswp--animated-in[_ngcontent-%COMP%]   .pswp__zoom-wrap[_ngcontent-%COMP%]{transition:none}.pswp__item[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img[_ngcontent-%COMP%]{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank[_ngcontent-%COMP%]{background:#222}.pswp--ie[_ngcontent-%COMP%]   .pswp__img[_ngcontent-%COMP%]{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg[_ngcontent-%COMP%]{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ccc;text-decoration:underline}.pswp__button[_ngcontent-%COMP%]{position:relative;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;transition:opacity .2s;box-shadow:none}.pswp__button[_ngcontent-%COMP%]:focus, .pswp__button[_ngcontent-%COMP%]:hover{opacity:1}.pswp__button[_ngcontent-%COMP%]:active{outline:0;opacity:.9}.pswp__button[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close[_ngcontent-%COMP%]   .pswp__button--close[_ngcontent-%COMP%]{opacity:1}.pswp__button[_ngcontent-%COMP%], .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background:url(/assets/media/default-skin.png) 0 0/264px 88px no-repeat;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:105dpi),(min-resolution:1.1dppx){.pswp--svg[_ngcontent-%COMP%]   .pswp__button[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]:before{background-image:url(/assets/media/default-skin.svg)}.pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--svg[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{background:0 0}}.pswp__button--close[_ngcontent-%COMP%]{background-position:0 -44px}.pswp__button--share[_ngcontent-%COMP%]{background-position:-44px -44px}.pswp__button--fs[_ngcontent-%COMP%]{display:none}.pswp--supports-fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{display:block}.pswp--fs[_ngcontent-%COMP%]   .pswp__button--fs[_ngcontent-%COMP%]{background-position:-44px 0}.pswp__button--zoom[_ngcontent-%COMP%]{display:none;background-position:-88px 0}.pswp--zoom-allowed[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{display:block}.pswp--zoomed-in[_ngcontent-%COMP%]   .pswp__button--zoom[_ngcontent-%COMP%]{background-position:-132px 0}.pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--touch[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:hidden}.pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__button--arrow--right[_ngcontent-%COMP%]{background:0 0;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]{left:0}.pswp__button--arrow--right[_ngcontent-%COMP%]{right:0}.pswp__button--arrow--left[_ngcontent-%COMP%]:before, .pswp__button--arrow--right[_ngcontent-%COMP%]:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left[_ngcontent-%COMP%]:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right[_ngcontent-%COMP%]:before{right:6px;background-position:-94px -44px}.pswp__counter[_ngcontent-%COMP%], .pswp__share-modal[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal[_ngcontent-%COMP%]{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden[_ngcontent-%COMP%]{display:none}.pswp__share-tooltip[_ngcontent-%COMP%]{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);transform:translateY(6px);transition:transform .25s;transition:transform .25s,-webkit-transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#000}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in[_ngcontent-%COMP%]{opacity:1}.pswp__share-modal--fade-in[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]{-webkit-transform:translateY(0);transform:translateY(0)}.pswp--touch[_ngcontent-%COMP%]   .pswp__share-tooltip[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:16px 12px}a.pswp__share--facebook[_ngcontent-%COMP%]:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook[_ngcontent-%COMP%]:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook[_ngcontent-%COMP%]:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter[_ngcontent-%COMP%]:hover{background:#55acee;color:#fff}a.pswp__share--pinterest[_ngcontent-%COMP%]:hover{background:#ccc;color:#ce272d}a.pswp__share--download[_ngcontent-%COMP%]:hover{background:#ddd}.pswp__counter[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:11px;color:#bbb}.pswp__caption__center[_ngcontent-%COMP%]{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty[_ngcontent-%COMP%]{display:none}.pswp__caption--fake[_ngcontent-%COMP%]{visibility:hidden}.pswp__preloader[_ngcontent-%COMP%]{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn[_ngcontent-%COMP%]{width:20px;height:20px;margin:12px}.pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:url(/assets/media/preloader.gif) no-repeat}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]{opacity:1}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{-webkit-animation:.5s linear infinite clockwise;animation:.5s linear infinite clockwise}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader--active[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{-webkit-animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate;animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__icn[_ngcontent-%COMP%]{background:0 0;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__cut[_ngcontent-%COMP%]{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation[_ngcontent-%COMP%]   .pswp__preloader__donut[_ngcontent-%COMP%]{box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:0 0;margin:0}@media screen and (max-width:1024px){.pswp__preloader[_ngcontent-%COMP%]{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}@keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}.pswp__ui[_ngcontent-%COMP%]{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp--has_mouse[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%]{visibility:visible}.pswp__caption[_ngcontent-%COMP%], .pswp__top-bar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.5)}.pswp__ui--fit[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--fit[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.3)}.pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--idle[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:0}.pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__caption[_ngcontent-%COMP%], .pswp__ui--hidden[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{opacity:.001}.pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--left[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__button--arrow--right[_ngcontent-%COMP%], .pswp__ui--one-slide[_ngcontent-%COMP%]   .pswp__counter[_ngcontent-%COMP%]{display:none}.pswp__element--disabled[_ngcontent-%COMP%]{display:none!important}.pswp--minimal--dark[_ngcontent-%COMP%]   .pswp__top-bar[_ngcontent-%COMP%]{background:0 0}\"] });\n/** @nocollapse */\nLightboxComponent.ctorParameters = () => [\n    { type: NgpService }\n];\nLightboxComponent.propDecorators = {\n    el: [{ type: ViewChild, args: ['ngpLightbox', { static: true },] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LightboxComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngp-lightbox',\n                template: \"<!-- Root element of PhotoSwipe. Must have class pswp. -->\\n<div class=\\\"pswp\\\" #ngpLightbox tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-hidden=\\\"true\\\">\\n    <!-- Background of PhotoSwipe.\\n         It's a separate element, as animating opacity is faster than rgba(). -->\\n    <div class=\\\"pswp__bg\\\"></div>\\n    <!-- Slides wrapper with overflow:hidden. -->\\n    <div class=\\\"pswp__scroll-wrap\\\">\\n        <!-- Container that holds slides. PhotoSwipe keeps only 3 slides in DOM to save memory. -->\\n        <!-- don't modify these 3 pswp__item elements, data is added later on. -->\\n        <div class=\\\"pswp__container\\\">\\n            <div class=\\\"pswp__item\\\"></div>\\n            <div class=\\\"pswp__item\\\"></div>\\n            <div class=\\\"pswp__item\\\"></div>\\n        </div>\\n        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->\\n        <div class=\\\"pswp__ui pswp__ui--hidden\\\">\\n            <div class=\\\"pswp__top-bar\\\">\\n                <!--  Controls are self-explanatory. Order can be changed. -->\\n                <div class=\\\"pswp__counter\\\"></div>\\n                <button class=\\\"pswp__button pswp__button--close\\\" title=\\\"Close (Esc)\\\"></button>\\n                <button class=\\\"pswp__button pswp__button--share\\\" title=\\\"Share\\\"></button>\\n                <button class=\\\"pswp__button pswp__button--fs\\\" title=\\\"Toggle fullscreen\\\"></button>\\n                <button class=\\\"pswp__button pswp__button--zoom\\\" title=\\\"Zoom in/out\\\"></button>\\n                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->\\n                <!-- element will get class pswp__preloader--active when preloader is running -->\\n                <div class=\\\"pswp__preloader\\\">\\n                    <div class=\\\"pswp__preloader__icn\\\">\\n                        <div class=\\\"pswp__preloader__cut\\\">\\n                            <div class=\\\"pswp__preloader__donut\\\"></div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\\\">\\n                <div class=\\\"pswp__share-tooltip\\\"></div>\\n            </div>\\n            <button class=\\\"pswp__button pswp__button--arrow--left\\\" title=\\\"Previous (arrow left)\\\">\\n            </button>\\n            <button class=\\\"pswp__button pswp__button--arrow--right\\\" title=\\\"Next (arrow right)\\\">\\n            </button>\\n            <div class=\\\"pswp__caption\\\">\\n                <div class=\\\"pswp__caption__center\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\",\n                styles: [\"/*! PhotoSwipe main CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp{display:none;position:absolute;width:100%;height:100%;left:0;top:0;overflow:hidden;touch-action:none;z-index:1500;-webkit-text-size-adjust:100%;-webkit-backface-visibility:hidden;outline:0}.pswp *{box-sizing:border-box}.pswp img{max-width:none}.pswp--animate_opacity{opacity:.001;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--open{display:block}.pswp--zoom-allowed .pswp__img{cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.pswp--zoomed-in .pswp__img{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.pswp--dragging .pswp__img{cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.pswp__bg{position:absolute;left:0;top:0;width:100%;height:100%;background:#000;opacity:0;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-backface-visibility:hidden;will-change:opacity}.pswp__scroll-wrap{position:absolute;left:0;top:0;width:100%;height:100%;overflow:hidden}.pswp__container,.pswp__zoom-wrap{touch-action:none;position:absolute;left:0;right:0;top:0;bottom:0;-webkit-backface-visibility:hidden}.pswp__container,.pswp__img{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;-webkit-touch-callout:none}.pswp__zoom-wrap{position:absolute;width:100%;-webkit-transform-origin:left top;transform-origin:left top;transition:transform 333ms cubic-bezier(.4,0,.22,1),-webkit-transform 333ms cubic-bezier(.4,0,.22,1)}.pswp__bg{will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--animated-in .pswp__bg,.pswp--animated-in .pswp__zoom-wrap{transition:none}.pswp__item{position:absolute;left:0;right:0;top:0;bottom:0;overflow:hidden}.pswp__img{position:absolute;width:auto;height:auto;top:0;left:0}.pswp__img--placeholder{-webkit-backface-visibility:hidden}.pswp__img--placeholder--blank{background:#222}.pswp--ie .pswp__img{width:100%!important;height:auto!important;left:0;top:0}.pswp__error-msg{position:absolute;left:0;top:50%;width:100%;text-align:center;font-size:14px;line-height:16px;margin-top:-8px;color:#ccc}.pswp__error-msg a{color:#ccc;text-decoration:underline}/*! PhotoSwipe Default UI CSS by Dmitry Semenov | photoswipe.com | MIT license */.pswp__button{position:relative;cursor:pointer;overflow:visible;-webkit-appearance:none;display:block;border:0;padding:0;margin:0;float:right;opacity:.75;transition:opacity .2s;box-shadow:none}.pswp__button:focus,.pswp__button:hover{opacity:1}.pswp__button:active{outline:0;opacity:.9}.pswp__button::-moz-focus-inner{padding:0;border:0}.pswp__ui--over-close .pswp__button--close{opacity:1}.pswp__button,.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{background:url(/assets/media/default-skin.png) 0 0/264px 88px no-repeat;width:44px;height:44px}@media (-webkit-min-device-pixel-ratio:1.1),(-webkit-min-device-pixel-ratio:1.09375),(min-resolution:105dpi),(min-resolution:1.1dppx){.pswp--svg .pswp__button,.pswp--svg .pswp__button--arrow--left:before,.pswp--svg .pswp__button--arrow--right:before{background-image:url(/assets/media/default-skin.svg)}.pswp--svg .pswp__button--arrow--left,.pswp--svg .pswp__button--arrow--right{background:0 0}}.pswp__button--close{background-position:0 -44px}.pswp__button--share{background-position:-44px -44px}.pswp__button--fs{display:none}.pswp--supports-fs .pswp__button--fs{display:block}.pswp--fs .pswp__button--fs{background-position:-44px 0}.pswp__button--zoom{display:none;background-position:-88px 0}.pswp--zoom-allowed .pswp__button--zoom{display:block}.pswp--zoomed-in .pswp__button--zoom{background-position:-132px 0}.pswp--touch .pswp__button--arrow--left,.pswp--touch .pswp__button--arrow--right{visibility:hidden}.pswp__button--arrow--left,.pswp__button--arrow--right{background:0 0;top:50%;margin-top:-50px;width:70px;height:100px;position:absolute}.pswp__button--arrow--left{left:0}.pswp__button--arrow--right{right:0}.pswp__button--arrow--left:before,.pswp__button--arrow--right:before{content:'';top:35px;background-color:rgba(0,0,0,.3);height:30px;width:32px;position:absolute}.pswp__button--arrow--left:before{left:6px;background-position:-138px -44px}.pswp__button--arrow--right:before{right:6px;background-position:-94px -44px}.pswp__counter,.pswp__share-modal{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pswp__share-modal{display:block;background:rgba(0,0,0,.5);width:100%;height:100%;top:0;left:0;padding:10px;position:absolute;z-index:1600;opacity:0;transition:opacity .25s ease-out;-webkit-backface-visibility:hidden;will-change:opacity}.pswp__share-modal--hidden{display:none}.pswp__share-tooltip{z-index:1620;position:absolute;background:#fff;top:56px;border-radius:2px;display:block;width:auto;right:44px;box-shadow:0 2px 5px rgba(0,0,0,.25);-webkit-transform:translateY(6px);transform:translateY(6px);transition:transform .25s;transition:transform .25s,-webkit-transform .25s;-webkit-backface-visibility:hidden;will-change:transform}.pswp__share-tooltip a{display:block;padding:8px 12px;color:#000;text-decoration:none;font-size:14px;line-height:18px}.pswp__share-tooltip a:hover{text-decoration:none;color:#000}.pswp__share-tooltip a:first-child{border-radius:2px 2px 0 0}.pswp__share-tooltip a:last-child{border-radius:0 0 2px 2px}.pswp__share-modal--fade-in{opacity:1}.pswp__share-modal--fade-in .pswp__share-tooltip{-webkit-transform:translateY(0);transform:translateY(0)}.pswp--touch .pswp__share-tooltip a{padding:16px 12px}a.pswp__share--facebook:before{content:'';display:block;width:0;height:0;position:absolute;top:-12px;right:15px;border:6px solid transparent;border-bottom-color:#fff;-webkit-pointer-events:none;-moz-pointer-events:none;pointer-events:none}a.pswp__share--facebook:hover{background:#3e5c9a;color:#fff}a.pswp__share--facebook:hover:before{border-bottom-color:#3e5c9a}a.pswp__share--twitter:hover{background:#55acee;color:#fff}a.pswp__share--pinterest:hover{background:#ccc;color:#ce272d}a.pswp__share--download:hover{background:#ddd}.pswp__counter{position:absolute;left:0;top:0;height:44px;font-size:13px;line-height:44px;color:#fff;opacity:.75;padding:0 10px}.pswp__caption{position:absolute;left:0;bottom:0;width:100%;min-height:44px}.pswp__caption small{font-size:11px;color:#bbb}.pswp__caption__center{text-align:left;max-width:420px;margin:0 auto;font-size:13px;padding:10px;line-height:20px;color:#ccc}.pswp__caption--empty{display:none}.pswp__caption--fake{visibility:hidden}.pswp__preloader{width:44px;height:44px;position:absolute;top:0;left:50%;margin-left:-22px;opacity:0;transition:opacity .25s ease-out;will-change:opacity;direction:ltr}.pswp__preloader__icn{width:20px;height:20px;margin:12px}.pswp__preloader--active{opacity:1}.pswp__preloader--active .pswp__preloader__icn{background:url(/assets/media/preloader.gif) no-repeat}.pswp--css_animation .pswp__preloader--active{opacity:1}.pswp--css_animation .pswp__preloader--active .pswp__preloader__icn{-webkit-animation:.5s linear infinite clockwise;animation:.5s linear infinite clockwise}.pswp--css_animation .pswp__preloader--active .pswp__preloader__donut{-webkit-animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate;animation:1s cubic-bezier(.4,0,.22,1) infinite donut-rotate}.pswp--css_animation .pswp__preloader__icn{background:0 0;opacity:.75;width:14px;height:14px;position:absolute;left:15px;top:15px;margin:0}.pswp--css_animation .pswp__preloader__cut{position:relative;width:7px;height:14px;overflow:hidden}.pswp--css_animation .pswp__preloader__donut{box-sizing:border-box;width:14px;height:14px;border:2px solid #fff;border-radius:50%;border-left-color:transparent;border-bottom-color:transparent;position:absolute;top:0;left:0;background:0 0;margin:0}@media screen and (max-width:1024px){.pswp__preloader{position:relative;left:auto;top:auto;margin:0;float:right}}@-webkit-keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes clockwise{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}@keyframes donut-rotate{0%,100%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(-140deg);transform:rotate(-140deg)}}.pswp__ui{-webkit-font-smoothing:auto;visibility:visible;opacity:1;z-index:1550}.pswp__top-bar{position:absolute;left:0;top:0;height:44px;width:100%}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right,.pswp__caption,.pswp__top-bar{-webkit-backface-visibility:hidden;will-change:opacity;transition:opacity 333ms cubic-bezier(.4,0,.22,1)}.pswp--has_mouse .pswp__button--arrow--left,.pswp--has_mouse .pswp__button--arrow--right{visibility:visible}.pswp__caption,.pswp__top-bar{background-color:rgba(0,0,0,.5)}.pswp__ui--fit .pswp__caption,.pswp__ui--fit .pswp__top-bar{background-color:rgba(0,0,0,.3)}.pswp__ui--idle .pswp__button--arrow--left,.pswp__ui--idle .pswp__button--arrow--right,.pswp__ui--idle .pswp__top-bar{opacity:0}.pswp__ui--hidden .pswp__button--arrow--left,.pswp__ui--hidden .pswp__button--arrow--right,.pswp__ui--hidden .pswp__caption,.pswp__ui--hidden .pswp__top-bar{opacity:.001}.pswp__ui--one-slide .pswp__button--arrow--left,.pswp__ui--one-slide .pswp__button--arrow--right,.pswp__ui--one-slide .pswp__counter{display:none}.pswp__element--disabled{display:none!important}.pswp--minimal--dark .pswp__top-bar{background:0 0}\"]\n            }]\n    }], function () { return [{ type: NgpService }]; }, { el: [{\n            type: ViewChild,\n            args: ['ngpLightbox', { static: true }]\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Image {\n    constructor() { }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n/**\n * @return {?}\n */\nfunction ANGULAR2_PHOTO_SWIPE_FACTORY() {\n    return new DefaultLightboxAdapter();\n}\n/**\n * @abstract\n */\nclass LightboxAdapter {\n}\nLightboxAdapter.ɵfac = function LightboxAdapter_Factory(t) { return new (t || LightboxAdapter)(); };\nLightboxAdapter.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: LightboxAdapter, factory: function () { return ANGULAR2_PHOTO_SWIPE_FACTORY(); }, providedIn: 'root' });\n/** @nocollapse */ LightboxAdapter.ngInjectableDef = ɵɵdefineInjectable({ factory: ANGULAR2_PHOTO_SWIPE_FACTORY, token: LightboxAdapter, providedIn: \"root\" });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LightboxAdapter, [{\n        type: Injectable,\n        args: [{ providedIn: 'root', useFactory: ANGULAR2_PHOTO_SWIPE_FACTORY }]\n    }], null, null); })();\nclass DefaultLightboxAdapter extends LightboxAdapter {\n    constructor() {\n        super(...arguments);\n        this.allowPanToNext = true;\n        this.spacing = 0.12;\n        this.bgOpacity = 1.0;\n        this.mouseUsed = false;\n        this.loop = true;\n        this.pinchToClose = true;\n        this.closeOnScroll = true;\n        this.closeOnVerticalDrag = true;\n        this.hideAnimationDuration = 333;\n        this.showAnimationDuration = 333;\n        this.showHideOpacity = false;\n        this.escKey = true;\n        this.arrowKeys = true;\n    }\n}\nDefaultLightboxAdapter.ɵfac = /*@__PURE__*/ function () { let ɵDefaultLightboxAdapter_BaseFactory; return function DefaultLightboxAdapter_Factory(t) { return (ɵDefaultLightboxAdapter_BaseFactory || (ɵDefaultLightboxAdapter_BaseFactory = ɵngcc0.ɵɵgetInheritedFactory(DefaultLightboxAdapter)))(t || DefaultLightboxAdapter); }; }();\nDefaultLightboxAdapter.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: DefaultLightboxAdapter, factory: DefaultLightboxAdapter.ɵfac });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(DefaultLightboxAdapter, [{\n        type: Injectable\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass GalleryItemComponent {\n    /**\n     * @param {?} adapter\n     */\n    constructor(adapter) {\n        this.adapter = adapter;\n        this.clicked = new EventEmitter();\n        this.isBootstrapEnabled = false;\n        this.isBootstrapEnabled = this.adapter.enableBootstrap4;\n    }\n    /**\n     * @return {?}\n     */\n    onClick() {\n        this.clicked.emit(this.image);\n        return false;\n    }\n}\nGalleryItemComponent.ɵfac = function GalleryItemComponent_Factory(t) { return new (t || GalleryItemComponent)(ɵngcc0.ɵɵdirectiveInject(LightboxAdapter)); };\nGalleryItemComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: GalleryItemComponent, selectors: [[\"ngp-gallery-item\"]], hostVars: 2, hostBindings: function GalleryItemComponent_HostBindings(rf, ctx) { if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"card\", ctx.isBootstrapEnabled);\n    } }, inputs: { image: \"image\" }, outputs: { clicked: \"clicked\" }, decls: 2, vars: 8, consts: [[\"itemprop\", \"contentUrl\", 3, \"href\", \"click\"], [\"itemprop\", \"thumbnail\", 3, \"src\", \"ngClass\", \"alt\"]], template: function GalleryItemComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"a\", 0);\n        ɵngcc0.ɵɵlistener(\"click\", function GalleryItemComponent_Template_a_click_0_listener() { return ctx.onClick(); });\n        ɵngcc0.ɵɵelement(1, \"img\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵpropertyInterpolate(\"href\", ctx.image.largeUrl, ɵngcc0.ɵɵsanitizeUrl);\n        ɵngcc0.ɵɵattribute(\"data-size\", ctx.image.width + \"x\" + ctx.image.height)(\"data-author\", ctx.image.author);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵpropertyInterpolate(\"src\", ctx.image.thumbUrl, ɵngcc0.ɵɵsanitizeUrl);\n        ɵngcc0.ɵɵpropertyInterpolate(\"alt\", ctx.image.description);\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(6, _c1, ctx.isBootstrapEnabled));\n    } }, directives: [ɵngcc1.NgClass], styles: [\"\"] });\n/** @nocollapse */\nGalleryItemComponent.ctorParameters = () => [\n    { type: LightboxAdapter }\n];\nGalleryItemComponent.propDecorators = {\n    image: [{ type: Input }],\n    clicked: [{ type: Output }],\n    isBootstrapEnabled: [{ type: HostBinding, args: ['class.card',] }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(GalleryItemComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngp-gallery-item',\n                template: \"<a href=\\\"{{image.largeUrl}}\\\" itemprop=\\\"contentUrl\\\" [attr.data-size]=\\\"image.width + 'x' + image.height\\\"\\n    [attr.data-author]=\\\"image.author\\\" (click)=\\\"onClick()\\\">\\n    <img src=\\\"{{image.thumbUrl}}\\\" [ngClass]=\\\"{'card-img-top': isBootstrapEnabled }\\\"  itemprop=\\\"thumbnail\\\" alt=\\\"{{image.description}}\\\" />\\n</a>\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: LightboxAdapter }]; }, { clicked: [{\n            type: Output\n        }], isBootstrapEnabled: [{\n            type: HostBinding,\n            args: ['class.card']\n        }], image: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass GalleryComponent {\n    /**\n     * @param {?} ngp\n     * @param {?} adapter\n     */\n    constructor(ngp, adapter) {\n        this.ngp = ngp;\n        this.adapter = adapter;\n        this.shareLinkClick = new EventEmitter();\n        this.subscriptions = [];\n        this.images = [];\n        this.isBootstrapEnabled = this.adapter.enableBootstrap4;\n    }\n    /**\n     * @return {?}\n     */\n    ngAfterContentInit() {\n        this.images = (/** @type {?} */ (this.galleryItems.toArray().map((/**\n         * @param {?} cp\n         * @return {?}\n         */\n        cp => {\n            // listen for clicks;\n            this.subscriptions.push(cp.clicked.subscribe((/**\n             * @param {?} data\n             * @return {?}\n             */\n            (data) => this.onClick(data))));\n            return cp.image;\n        }))));\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.subscriptions.forEach((/**\n         * @param {?} sub\n         * @return {?}\n         */\n        sub => sub.unsubscribe()));\n    }\n    /**\n     * @param {?} data\n     * @return {?}\n     */\n    onClick(data) {\n        this.openPhotoSwipe(data, this.galleryElement);\n    }\n    /**\n     * @private\n     * @param {?} img\n     * @param {?} galleryDOM\n     * @return {?}\n     */\n    openPhotoSwipe(img, galleryDOM) {\n        this.adapter.galleryUID = galleryDOM.nativeElement.getAttribute('data-pswp-uid');\n        this.adapter.index = img.id;\n        /** @type {?} */\n        const PSWP = (/** @type {?} */ (this.ngp.LightboxElement.nativeElement));\n        this.pswp = new PhotoSwipe(PSWP, PhotoSwipeUI_Default, this.getImagesAsPhotoswipe(), this.adapter);\n        /** @type {?} */\n        const _this = this;\n        this.pswp.listen('shareLinkClick', (/**\n         * @param {?} e\n         * @param {?} target\n         * @return {?}\n         */\n        function (e, target) {\n            _this.shareLinkClick.emit({ e, target });\n        }));\n        this.pswp.init();\n        return false;\n    }\n    /**\n     * @private\n     * @return {?}\n     */\n    getImagesAsPhotoswipe() {\n        return this.images.map((/**\n         * @param {?} image\n         * @return {?}\n         */\n        image => {\n            return {\n                src: image.largeUrl,\n                w: image.width,\n                h: image.height,\n                pid: image.id,\n                title: image.description,\n                author: image.author\n            };\n        }));\n    }\n}\nGalleryComponent.ɵfac = function GalleryComponent_Factory(t) { return new (t || GalleryComponent)(ɵngcc0.ɵɵdirectiveInject(NgpService), ɵngcc0.ɵɵdirectiveInject(LightboxAdapter)); };\nGalleryComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: GalleryComponent, selectors: [[\"ngp-gallery\"]], contentQueries: function GalleryComponent_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {\n        ɵngcc0.ɵɵcontentQuery(dirIndex, GalleryItemComponent, 4);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.galleryItems = _t);\n    } }, viewQuery: function GalleryComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c2, 7);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.galleryElement = _t.first);\n    } }, inputs: { galleryId: \"galleryId\" }, outputs: { shareLinkClick: \"shareLinkClick\" }, ngContentSelectors: _c5, decls: 3, vars: 3, consts: [[\"id\", \"sampleId\", \"itemscope\", \"\", \"itemtype\", \"http://schema.org/ImageGallery\", 1, \"angular2_photoswipe\", 3, \"ngClass\"], [\"ngpGallery\", \"\"]], template: function GalleryComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c3);\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngClass\", ɵngcc0.ɵɵpureFunction1(1, _c4, ctx.isBootstrapEnabled));\n    } }, directives: [ɵngcc1.NgClass], styles: [\"\"] });\n/** @nocollapse */\nGalleryComponent.ctorParameters = () => [\n    { type: NgpService },\n    { type: LightboxAdapter }\n];\nGalleryComponent.propDecorators = {\n    galleryElement: [{ type: ViewChild, args: ['ngpGallery', { static: true },] }],\n    galleryItems: [{ type: ContentChildren, args: [GalleryItemComponent,] }],\n    galleryId: [{ type: Input }],\n    shareLinkClick: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(GalleryComponent, [{\n        type: Component,\n        args: [{\n                selector: 'ngp-gallery',\n                template: \"<div class=\\\"angular2_photoswipe\\\" [ngClass]=\\\"{'card-columns': isBootstrapEnabled }\\\"  #ngpGallery id=\\\"sampleId\\\" itemscope itemtype=\\\"http://schema.org/ImageGallery\\\">\\n  <ng-content select=\\\"ngp-gallery-item\\\"></ng-content>\\n</div>\",\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: NgpService }, { type: LightboxAdapter }]; }, { shareLinkClick: [{\n            type: Output\n        }], galleryElement: [{\n            type: ViewChild,\n            args: ['ngpGallery', { static: true }]\n        }], galleryItems: [{\n            type: ContentChildren,\n            args: [GalleryItemComponent]\n        }], galleryId: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\nclass Angular2PhotoswipeModule {\n}\nAngular2PhotoswipeModule.ɵfac = function Angular2PhotoswipeModule_Factory(t) { return new (t || Angular2PhotoswipeModule)(); };\nAngular2PhotoswipeModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: Angular2PhotoswipeModule });\nAngular2PhotoswipeModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[CommonModule]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(Angular2PhotoswipeModule, [{\n        type: NgModule,\n        args: [{\n                imports: [CommonModule],\n                declarations: [Angular2PhotoswipeComponent, LightboxComponent, GalleryComponent, GalleryItemComponent],\n                exports: [LightboxComponent, GalleryComponent, GalleryItemComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(Angular2PhotoswipeModule, { declarations: function () { return [Angular2PhotoswipeComponent, LightboxComponent, GalleryComponent, GalleryItemComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [LightboxComponent, GalleryComponent, GalleryItemComponent]; } }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nexport { Angular2PhotoswipeService, Angular2PhotoswipeComponent, LightboxAdapter, Angular2PhotoswipeModule, Image, GalleryItemComponent as ɵf, GalleryComponent as ɵe, ANGULAR2_PHOTO_SWIPE_FACTORY as ɵa, DefaultLightboxAdapter as ɵb, LightboxComponent as ɵc, NgpService as ɵd };\n\n//# sourceMappingURL=angular2_photoswipe.js.map","/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.matchesSelector = factory();\n  }\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'desandro-matches-selector/matches-selector'\n    ], function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n","/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n'use strict';\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'outlayer/outlayer',\n        'get-size/get-size'\n      ],\n      factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      require('outlayer'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Masonry = factory(\n      window.Outlayer,\n      window.getSize\n    );\n  }\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n","import { Component, Input, EventEmitter, HostBinding, HostListener, ViewChild, ElementRef, ChangeDetectorRef, Injectable, Injector, ComponentFactoryResolver, ApplicationRef, Output, Directive, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/common';\n\nconst _c0 = [\"currImageElem\"];\nconst _c1 = [\"prevImageElem\"];\nconst _c2 = [\"wrapper\"];\nfunction LightboxComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 10);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r0.counter);\n} }\nfunction LightboxComponent_div_1_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelementStart(0, \"div\", 11);\n    ɵngcc0.ɵɵtext(1);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵtextInterpolate(ctx_r1.description);\n} }\nfunction LightboxComponent_div_4_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 12);\n} }\nfunction LightboxMobileComponent_img_4_Template(rf, ctx) { if (rf & 1) {\n    const _r7 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"img\", 8);\n    ɵngcc0.ɵɵlistener(\"load\", function LightboxMobileComponent_img_4_Template_img_load_0_listener() { ɵngcc0.ɵɵrestoreView(_r7); const ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.onImageLoaded(\"prevImage\"); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"cg-hide\", !ctx_r1.prevImage.loaded);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r1.prevImagePath.full, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction LightboxMobileComponent_div_5_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 9);\n} }\nfunction LightboxMobileComponent_div_6_div_2_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 9);\n} }\nfunction LightboxMobileComponent_div_6_Template(rf, ctx) { if (rf & 1) {\n    const _r10 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 10);\n    ɵngcc0.ɵɵelementStart(1, \"img\", 8);\n    ɵngcc0.ɵɵlistener(\"load\", function LightboxMobileComponent_div_6_Template_img_load_1_listener() { ɵngcc0.ɵɵrestoreView(_r10); const ctx_r9 = ɵngcc0.ɵɵnextContext(); return ctx_r9.onImageLoaded(\"currImage\"); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵtemplate(2, LightboxMobileComponent_div_6_div_2_Template, 1, 0, \"div\", 5);\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r3 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵclassProp(\"cg-hide\", !ctx_r3.currImage.loaded);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r3.currImagePath == null ? null : ctx_r3.currImagePath.full, ɵngcc0.ɵɵsanitizeUrl);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵproperty(\"ngIf\", !ctx_r3.currImage.loaded);\n} }\nfunction LightboxMobileComponent_img_8_Template(rf, ctx) { if (rf & 1) {\n    const _r12 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"img\", 8);\n    ɵngcc0.ɵɵlistener(\"load\", function LightboxMobileComponent_img_8_Template_img_load_0_listener() { ɵngcc0.ɵɵrestoreView(_r12); const ctx_r11 = ɵngcc0.ɵɵnextContext(); return ctx_r11.onImageLoaded(\"nextImage\"); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r4 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵclassProp(\"cg-hide\", !ctx_r4.nextImage.loaded);\n    ɵngcc0.ɵɵproperty(\"src\", ctx_r4.nextImagePath.full, ɵngcc0.ɵɵsanitizeUrl);\n} }\nfunction LightboxMobileComponent_div_9_Template(rf, ctx) { if (rf & 1) {\n    ɵngcc0.ɵɵelement(0, \"div\", 9);\n} }\nconst _c3 = [\"contentWrapper\"];\nfunction GalleryComponent_masonry_layout_3_Template(rf, ctx) { if (rf & 1) {\n    const _r3 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"masonry-layout\", 3);\n    ɵngcc0.ɵɵlistener(\"events\", function GalleryComponent_masonry_layout_3_Template_masonry_layout_events_0_listener($event) { ɵngcc0.ɵɵrestoreView(_r3); const ctx_r2 = ɵngcc0.ɵɵnextContext(); return ctx_r2.handleMasonryLayoutEvents($event); });\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const ctx_r1 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵproperty(\"max-height\", ctx_r1.masonryMaxHeight)(\"gutter\", ctx_r1.masonryGutter)(\"masonry\", ctx_r1.masonryState)(\"class-name\", \"cg-image\")(\"images\", ctx_r1.images);\n} }\nconst _c4 = [\"*\"];\nfunction MasonryLayoutComponent_div_0_Template(rf, ctx) { if (rf & 1) {\n    const _r5 = ɵngcc0.ɵɵgetCurrentView();\n    ɵngcc0.ɵɵelementStart(0, \"div\", 1);\n    ɵngcc0.ɵɵelementStart(1, \"img\", 2, 3);\n    ɵngcc0.ɵɵlistener(\"click\", function MasonryLayoutComponent_div_0_Template_img_click_1_listener() { const restoredCtx = ɵngcc0.ɵɵrestoreView(_r5); const image_r1 = restoredCtx.$implicit; const i_r2 = restoredCtx.index; const ctx_r4 = ɵngcc0.ɵɵnextContext(); return ctx_r4.clickOnImage(image_r1, i_r2); })(\"load\", function MasonryLayoutComponent_div_0_Template_img_load_1_listener() { ɵngcc0.ɵɵrestoreView(_r5); const _r3 = ɵngcc0.ɵɵreference(2); const ctx_r6 = ɵngcc0.ɵɵnextContext(); return ctx_r6.onImageLoaded(_r3); });\n    ɵngcc0.ɵɵelementEnd();\n    ɵngcc0.ɵɵelementEnd();\n} if (rf & 2) {\n    const image_r1 = ctx.$implicit;\n    const ctx_r0 = ɵngcc0.ɵɵnextContext();\n    ɵngcc0.ɵɵstyleProp(\"width\", image_r1.computedWidth)(\"height\", image_r1.computedHeight)(\"float\", \"left\")(\"margin\", image_r1.margin)(\"background\", \"#eeeeee\")(\"line-height\", 0);\n    ɵngcc0.ɵɵproperty(\"ngClass\", ctx_r0.CLASS_NAME);\n    ɵngcc0.ɵɵadvance(1);\n    ɵngcc0.ɵɵstyleProp(\"width\", 100, \"%\")(\"height\", \"auto\")(\"opacity\", 0);\n    ɵngcc0.ɵɵproperty(\"src\", image_r1.preview || image_r1.full, ɵngcc0.ɵɵsanitizeUrl);\n} }\nclass LightboxComponent {\r\n    /**\r\n     * @param {?} elementRef\r\n     * @param {?} ref\r\n     */\r\n    constructor(elementRef, ref) {\r\n        this.elementRef = elementRef;\r\n        this.ref = ref;\r\n        this.currentImageIndex = 0;\r\n        this.spinnerHeight = 30;\r\n        this.descriptionHeight = 43;\r\n        this.close = new EventEmitter();\r\n        this.showLightbox = false;\r\n        this.hideControls = false;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get images() {\r\n        return this.data.images;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get config() {\r\n        return this.data.config;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get index() {\r\n        return this.currentImageIndex;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get currImagePath() {\r\n        /** @type {?} */\r\n        let image = this.images[this.index];\r\n        if (!image) {\r\n            return false;\r\n        }\r\n        if (image.path) {\r\n            image.full = image.path;\r\n        }\r\n        return image;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get prevImagePath() {\r\n        return this.images[this.prevIndex];\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    set prevImagePath(value) {\r\n        this.images[this.prevIndex] = value;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isFirst() {\r\n        return this.index === 0;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isLast() {\r\n        return this.index === (this.images.length - 1);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get latestImageIndex() {\r\n        return this.images.length - 1;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get description() {\r\n        return this.images[this.index].description;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get counter() {\r\n        return this.currentImageIndex + 1 + '/' + this.images.length;\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    onKeyDown(event) {\r\n        switch (event.key) {\r\n            case 'ArrowLeft':\r\n                this.prev();\r\n                break;\r\n            case 'ArrowRight':\r\n                this.next();\r\n                break;\r\n            case 'Escape':\r\n                this.closeLightbox();\r\n                break;\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    onMouseEnter(event) {\r\n        this.hideControls = false;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnInit() {\r\n        this.setBackgroundOpacity(this.config.backgroundOpacity);\r\n        this.currentImageIndex = this.config.index;\r\n        //document.body.style.overflow = 'hidden';\r\n        setTimeout(() => {\r\n            this.showLightbox = true;\r\n        }, 30);\r\n        this.setMaxDimensions();\r\n        this.setAnimationDuration();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    closeLightbox() {\r\n        this.showLightbox = false;\r\n        setTimeout(() => {\r\n            this.close.emit('close');\r\n            //document.body.style.overflow = '';\r\n        }, this.config.animationDuration);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    next() {\r\n        if (this.isLast) {\r\n            if (this.config.loop) {\r\n                this.currentImageIndex = 0;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            this.currentImageIndex++;\r\n        }\r\n        this.currImageLoaded = 'loading';\r\n        setTimeout(() => {\r\n            if (this.currImageLoaded === 'loading') {\r\n                this.currImageLoaded = false;\r\n            }\r\n        }, 50);\r\n        this.setMaxDimensions();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    prev() {\r\n        if (this.isFirst) {\r\n            if (this.config.loop) {\r\n                this.currentImageIndex = this.latestImageIndex;\r\n            }\r\n            else {\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            this.currentImageIndex--;\r\n        }\r\n        setTimeout(() => {\r\n            if (this.currImageLoaded === 'loading') {\r\n                this.currImageLoaded = false;\r\n            }\r\n        }, 50);\r\n        this.setMaxDimensions();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    onImageLoaded() {\r\n        this.currImageLoaded = true;\r\n        this.ref.detectChanges();\r\n    }\r\n    /**\r\n     * @param {?} opacity\r\n     * @return {?}\r\n     */\r\n    setBackgroundOpacity(opacity) {\r\n        this.hostStyleBackgroundColor = 'rgba(0, 0, 0, ' + opacity + ')';\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    setMaxDimensions() {\r\n        if (this.description) {\r\n            this.wrapperElem.nativeElement.style.height = 'calc(100% - ' + (this.descriptionHeight * 2) + 'px)';\r\n        }\r\n        else {\r\n            this.wrapperElem.nativeElement.style.height = '';\r\n        }\r\n        this.currImageElem.nativeElement.style.maxHeight = 'calc(' + this.config.lightboxMaxHeight + ')';\r\n        this.currImageElem.nativeElement.style.maxWidth = this.config.lightboxMaxWidth;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    setAnimationDuration() {\r\n        this.hostStyleTransition = 'opacity ' + this.config.animationDuration + 'ms';\r\n    }\r\n}\nLightboxComponent.ɵfac = function LightboxComponent_Factory(t) { return new (t || LightboxComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nLightboxComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: LightboxComponent, selectors: [[\"crystal-lightbox\"]], viewQuery: function LightboxComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n        ɵngcc0.ɵɵviewQuery(_c1, 5);\n        ɵngcc0.ɵɵviewQuery(_c2, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.currImageElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.prevImageElem = _t.first);\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.wrapperElem = _t.first);\n    } }, hostVars: 8, hostBindings: function LightboxComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"keydown\", function LightboxComponent_keydown_HostBindingHandler($event) { return ctx.onKeyDown($event); }, false, ɵngcc0.ɵɵresolveWindow)(\"mouseenter\", function LightboxComponent_mouseenter_HostBindingHandler($event) { return ctx.onMouseEnter($event); });\n    } if (rf & 2) {\n        ɵngcc0.ɵɵstyleProp(\"background-color\", ctx.hostStyleBackgroundColor)(\"transition\", ctx.hostStyleTransition);\n        ɵngcc0.ɵɵclassProp(\"cg-show\", ctx.showLightbox)(\"cg-hide-controls\", ctx.hideControls);\n    } }, inputs: { data: \"data\" }, decls: 11, vars: 8, consts: [[\"class\", \"cg-counter\", 4, \"ngIf\"], [\"class\", \"cg-description\", 4, \"ngIf\"], [1, \"cg-close\", 3, \"click\"], [\"class\", \"cg-spinner\", 4, \"ngIf\"], [1, \"cg-wrapper\"], [\"wrapper\", \"\"], [1, \"cg-curr-image\", 3, \"src\", \"load\"], [\"currImageElem\", \"\"], [1, \"cg-prev\", 3, \"hidden\", \"click\"], [1, \"cg-next\", 3, \"hidden\", \"click\"], [1, \"cg-counter\"], [1, \"cg-description\"], [1, \"cg-spinner\"]], template: function LightboxComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, LightboxComponent_div_0_Template, 2, 1, \"div\", 0);\n        ɵngcc0.ɵɵtemplate(1, LightboxComponent_div_1_Template, 2, 1, \"div\", 1);\n        ɵngcc0.ɵɵelementStart(2, \"div\", 2);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_div_click_2_listener() { return ctx.closeLightbox(); });\n        ɵngcc0.ɵɵtext(3, \"Close\");\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(4, LightboxComponent_div_4_Template, 1, 0, \"div\", 3);\n        ɵngcc0.ɵɵelementStart(5, \"div\", 4, 5);\n        ɵngcc0.ɵɵelementStart(7, \"img\", 6, 7);\n        ɵngcc0.ɵɵlistener(\"load\", function LightboxComponent_Template_img_load_7_listener() { return ctx.onImageLoaded(); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(9, \"div\", 8);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_div_click_9_listener() { return ctx.prev(); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(10, \"div\", 9);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxComponent_Template_div_click_10_listener() { return ctx.next(); });\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.config.counter && ctx.images.length > 1);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.description);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.currImageLoaded);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵclassProp(\"cg-show\", ctx.currImageLoaded);\n        ɵngcc0.ɵɵproperty(\"src\", ctx.currImagePath == null ? null : ctx.currImagePath.full, ɵngcc0.ɵɵsanitizeUrl);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"hidden\", ctx.isFirst && !ctx.config.loop);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"hidden\", ctx.isLast && !ctx.config.loop);\n    } }, directives: [ɵngcc1.NgIf], styles: [\"._cg-spinner[_ngcontent-%COMP%], ._cg-spinner[_ngcontent-%COMP%]:after{border-radius:50%;width:36px;height:36px}._cg-spinner[_ngcontent-%COMP%]{margin:0 auto;font-size:10px;position:relative;text-indent:-9999em;border-top:4px solid rgba(255,255,255,.2);border-right:4px solid rgba(255,255,255,.2);border-bottom:4px solid rgba(255,255,255,.2);border-left:4px solid #fff;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.9s linear infinite load8;animation:.9s linear infinite load8}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cg-spinner[_ngcontent-%COMP%], .cg-spinner[_ngcontent-%COMP%]:after, .cg-spinner[_ngcontent-%COMP%]:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite load7;animation:1.5s ease-in-out infinite load7}.cg-spinner[_ngcontent-%COMP%]{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.cg-spinner[_ngcontent-%COMP%]:after, .cg-spinner[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0}.cg-spinner[_ngcontent-%COMP%]:before{left:-3em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.cg-spinner[_ngcontent-%COMP%]:after{left:3em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}.cg-show[_nghost-%COMP%]{opacity:1}.cg-hide-controls[_nghost-%COMP%]   .cg-close[_ngcontent-%COMP%], .cg-hide-controls[_nghost-%COMP%]   .cg-next[_ngcontent-%COMP%], .cg-hide-controls[_nghost-%COMP%]   .cg-prev[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]{opacity:0;position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:opacity .1s cubic-bezier(.645,.045,.355,1);z-index:10000;background-color:rgba(0,0,0,.85)}[_nghost-%COMP%]   img[_ngcontent-%COMP%]{opacity:1;max-width:100%;max-height:100%;box-shadow:0 4px 15px 2px rgba(0,0,0,.35)}[_nghost-%COMP%]   img.cg-curr-image.cg-show[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   img.cg-curr-image[_ngcontent-%COMP%]{opacity:0;z-index:10}[_nghost-%COMP%]   .cg-wrapper.cg-hide[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]   .cg-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;margin-top:-15px;margin-left:-5px}[_nghost-%COMP%]   .cg-counter[_ngcontent-%COMP%]{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;text-shadow:0 0 1px rgba(0,0,0,.65);z-index:30}[_nghost-%COMP%]   .cg-description[_ngcontent-%COMP%]{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}[_nghost-%COMP%]   .cg-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out;text-shadow:0 0 1px rgba(0,0,0,.65)}[_nghost-%COMP%]   .cg-close[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .cg-next[_ngcontent-%COMP%], [_nghost-%COMP%]   .cg-prev[_ngcontent-%COMP%]{width:40%;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}[_nghost-%COMP%]   .cg-next[_ngcontent-%COMP%]:hover, [_nghost-%COMP%]   .cg-prev[_ngcontent-%COMP%]:hover{opacity:1}[_nghost-%COMP%]   .cg-prev[_ngcontent-%COMP%]{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}[_nghost-%COMP%]   .cg-next[_ngcontent-%COMP%]{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}\"] });\r\n/** @nocollapse */\r\nLightboxComponent.ctorParameters = () => [\r\n    { type: ElementRef },\r\n    { type: ChangeDetectorRef }\r\n];\r\nLightboxComponent.propDecorators = {\r\n    data: [{ type: Input }],\r\n    showLightbox: [{ type: HostBinding, args: ['class.cg-show',] }],\r\n    hideControls: [{ type: HostBinding, args: ['class.cg-hide-controls',] }],\r\n    hostStyleTransition: [{ type: HostBinding, args: ['style.transition',] }],\r\n    hostStyleBackgroundColor: [{ type: HostBinding, args: ['style.backgroundColor',] }],\r\n    currImageElem: [{ type: ViewChild, args: ['currImageElem',] }],\r\n    prevImageElem: [{ type: ViewChild, args: ['prevImageElem',] }],\r\n    wrapperElem: [{ type: ViewChild, args: ['wrapper',] }],\r\n    onKeyDown: [{ type: HostListener, args: ['window:keydown', ['$event'],] }],\r\n    onMouseEnter: [{ type: HostListener, args: [\"mouseenter\", ['$event'],] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LightboxComponent, [{\n        type: Component,\n        args: [{\n                selector: 'crystal-lightbox',\n                template: `<div class=\"cg-counter\" *ngIf=\"config.counter && images.length > 1\">{{counter}}</div>\n<div class=\"cg-description\" *ngIf=\"description\">{{description}}</div>\n\n<div \n\tclass=\"cg-close\" \n\t(click)=\"closeLightbox()\">Close</div>\n\n<div \n\tclass=\"cg-spinner\" \n\t *ngIf=\"!currImageLoaded\"></div>\n\n<div class=\"cg-wrapper\" #wrapper>\n\t<img \n\t\tclass=\"cg-curr-image\" \n\t\t#currImageElem \n\t\t[src]=\"currImagePath?.full\" \n\t\t[class.cg-show]=\"currImageLoaded\" \n\t\t(load)=\"onImageLoaded()\" />\n</div>\n\n<div \n\tclass=\"cg-prev\" \n\t[hidden]=\"isFirst && !config.loop\" \n\t(click)=\"prev()\"></div>\n<div \n\tclass=\"cg-next\" \n\t[hidden]=\"isLast && !config.loop\" \n\t(click)=\"next()\"></div>`,\n                styles: [`._cg-spinner,._cg-spinner:after{border-radius:50%;width:36px;height:36px}._cg-spinner{margin:0 auto;font-size:10px;position:relative;text-indent:-9999em;border-top:4px solid rgba(255,255,255,.2);border-right:4px solid rgba(255,255,255,.2);border-bottom:4px solid rgba(255,255,255,.2);border-left:4px solid #fff;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.9s linear infinite load8;animation:.9s linear infinite load8}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cg-spinner,.cg-spinner:after,.cg-spinner:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite load7;animation:1.5s ease-in-out infinite load7}.cg-spinner{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.cg-spinner:after,.cg-spinner:before{content:\"\";position:absolute;top:0}.cg-spinner:before{left:-3em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.cg-spinner:after{left:3em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}:host(.cg-show){opacity:1}:host(.cg-hide-controls) .cg-close,:host(.cg-hide-controls) .cg-next,:host(.cg-hide-controls) .cg-prev{opacity:0}:host{opacity:0;position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:opacity .1s cubic-bezier(.645,.045,.355,1);z-index:10000;background-color:rgba(0,0,0,.85)}:host img{opacity:1;max-width:100%;max-height:100%;box-shadow:0 4px 15px 2px rgba(0,0,0,.35)}:host img.cg-curr-image.cg-show{opacity:1}:host img.cg-curr-image{opacity:0;z-index:10}:host .cg-wrapper.cg-hide{display:none}:host .cg-wrapper{display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:0;left:0;width:100%;height:100%}:host .cg-spinner{position:absolute;top:50%;left:50%;margin-top:-15px;margin-left:-5px}:host .cg-counter{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;text-shadow:0 0 1px rgba(0,0,0,.65);z-index:30}:host .cg-description{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}:host .cg-close{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out;text-shadow:0 0 1px rgba(0,0,0,.65)}:host .cg-close:hover{opacity:1}:host .cg-next,:host .cg-prev{width:40%;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}:host .cg-next:hover,:host .cg-prev:hover{opacity:1}:host .cg-prev{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}:host .cg-next{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}`]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }]; }, { showLightbox: [{\n            type: HostBinding,\n            args: ['class.cg-show']\n        }], hideControls: [{\n            type: HostBinding,\n            args: ['class.cg-hide-controls']\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onKeyDown: [{\n            type: HostListener,\n            args: ['window:keydown', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onMouseEnter: [{\n            type: HostListener,\n            args: [\"mouseenter\", ['$event']]\n        }], hostStyleBackgroundColor: [{\n            type: HostBinding,\n            args: ['style.backgroundColor']\n        }], hostStyleTransition: [{\n            type: HostBinding,\n            args: ['style.transition']\n        }], data: [{\n            type: Input\n        }], currImageElem: [{\n            type: ViewChild,\n            args: ['currImageElem']\n        }], prevImageElem: [{\n            type: ViewChild,\n            args: ['prevImageElem']\n        }], wrapperElem: [{\n            type: ViewChild,\n            args: ['wrapper']\n        }] }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nclass LightboxMobileComponent {\r\n    /**\r\n     * @param {?} elementRef\r\n     * @param {?} ref\r\n     */\r\n    constructor(elementRef, ref) {\r\n        this.elementRef = elementRef;\r\n        this.ref = ref;\r\n        this.currImage = {\r\n            show: false,\r\n            loaded: false,\r\n            index: 0\r\n        };\r\n        this.prevImage = {\r\n            loaded: false\r\n        };\r\n        this.nextImage = {\r\n            loaded: false\r\n        };\r\n        this.close = new EventEmitter();\r\n        this.lightboxShown = false;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get images() {\r\n        return this.data.images;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get config() {\r\n        return this.data.config;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get index() {\r\n        return this.currImage.index;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get currImagePath() {\r\n        /** @type {?} */\r\n        let image = this.images[this.index];\r\n        if (!image) {\r\n            return false;\r\n        }\r\n        if (image.path) {\r\n            image.full = image.path;\r\n        }\r\n        return image;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get prevImagePath() {\r\n        if (this.prevIndex < 0 && this.config.loop) {\r\n            this.prevIndex = this.latestImageIndex;\r\n        }\r\n        /** @type {?} */\r\n        let image = this.images[this.prevIndex];\r\n        if (image && image.path) {\r\n            image.full = image.path;\r\n        }\r\n        return image;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get nextImagePath() {\r\n        /** @type {?} */\r\n        let image = this.images[this.nextIndex];\r\n        if (image && image.path) {\r\n            image.full = image.path;\r\n        }\r\n        return image;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isFirst() {\r\n        if (this.config.loop) {\r\n            return false;\r\n        }\r\n        else {\r\n            return this.index === 0;\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isLast() {\r\n        if (this.config.loop) {\r\n            return false;\r\n        }\r\n        else {\r\n            return this.index === this.latestImageIndex;\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get latestImageIndex() {\r\n        return this.images.length - 1;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isLandscape() {\r\n        return window.innerWidth > window.innerHeight;\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    onWindowResize(event) {\r\n        this.landscapeMode = this.isLandscape;\r\n        this.ref.detectChanges();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnInit() {\r\n        this.currImage.index = this.config.index;\r\n        this.prevIndex = this.currImage.index - 1;\r\n        this.nextIndex = this.currImage.index + 1;\r\n        this.showLightbox();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    showLightbox() {\r\n        this.currImage.show = true;\r\n        setTimeout(() => {\r\n            this.lightboxShown = true;\r\n        }, 30);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    closeLightbox() {\r\n        this.lightboxShown = false;\r\n        setTimeout(() => {\r\n            this.close.emit(true);\r\n        }, 200);\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    slide(event) {\r\n        if (event === 'next') {\r\n            if (this.isLast) {\r\n                return;\r\n            }\r\n            else {\r\n                setTimeout(() => {\r\n                    this.currImage.index++;\r\n                }, 200);\r\n            }\r\n            if (this.index === this.latestImageIndex) {\r\n                setTimeout(() => {\r\n                    this.currImage.index = 0;\r\n                }, 200);\r\n            }\r\n            setTimeout(() => {\r\n                this.afterSlide('next');\r\n            }, 300);\r\n        }\r\n        if (event === 'prev') {\r\n            if (this.isFirst) {\r\n                return;\r\n            }\r\n            else {\r\n                setTimeout(() => {\r\n                    this.currImage.index--;\r\n                }, 200);\r\n            }\r\n            if (this.index === 0) {\r\n                setTimeout(() => {\r\n                    this.currImage.index = this.latestImageIndex;\r\n                }, 200);\r\n            }\r\n            setTimeout(() => {\r\n                this.afterSlide('prev');\r\n            }, 300);\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} eventType\r\n     * @return {?}\r\n     */\r\n    afterSlide(eventType) {\r\n        this.currImage.show = true;\r\n        if (this.index === this.latestImageIndex && this.config.loop) {\r\n            this.nextIndex = 0;\r\n        }\r\n        else {\r\n            this.nextIndex = this.index + 1;\r\n        }\r\n        if (this.index === 0 && this.config.loop) {\r\n            this.prevIndex = this.latestImageIndex;\r\n        }\r\n        else {\r\n            this.prevIndex = this.index - 1;\r\n        }\r\n        if (eventType === 'prev') {\r\n            if (!this.prevImage.loaded) {\r\n                this.currImage.loaded = false;\r\n                this.prevImage.loaded = false;\r\n            }\r\n            if (!this.currImage.loaded) {\r\n                this.nextImage.loaded = false;\r\n            }\r\n        }\r\n        if (eventType === 'next') {\r\n            if (!this.nextImage.loaded) {\r\n                this.currImage.loaded = false;\r\n                this.nextImage.loaded = false;\r\n            }\r\n            if (!this.currImage.loaded) {\r\n                this.prevImage.loaded = false;\r\n            }\r\n        }\r\n        this.defaultWrapperPosition();\r\n        this.ref.detectChanges();\r\n    }\r\n    /**\r\n     * @param {?} elem\r\n     * @return {?}\r\n     */\r\n    onImageLoaded(elem) {\r\n        this[elem].loaded = true;\r\n        this.ref.detectChanges();\r\n    }\r\n    /**\r\n     * @param {?} $event\r\n     * @return {?}\r\n     */\r\n    handlePinchEvents($event) {\r\n        if ($event === 'prev') {\r\n            this.slide('prev');\r\n        }\r\n        if ($event === 'next') {\r\n            this.slide('next');\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    defaultWrapperPosition() {\r\n        /** @type {?} */\r\n        let elem = this.wrapperEl.nativeElement;\r\n        elem.style.transition = 'all 0ms';\r\n        elem.style.transform = 'matrix(1, 0, 0, 1, 0, 0)';\r\n        elem.style.webkitTransform = 'matrix(1, 0, 0, 1, 0, 0)';\r\n    }\r\n}\nLightboxMobileComponent.ɵfac = function LightboxMobileComponent_Factory(t) { return new (t || LightboxMobileComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ChangeDetectorRef)); };\nLightboxMobileComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: LightboxMobileComponent, selectors: [[\"crystal-lightbox-mobile\"]], viewQuery: function LightboxMobileComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c2, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.wrapperEl = _t.first);\n    } }, hostVars: 2, hostBindings: function LightboxMobileComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function LightboxMobileComponent_resize_HostBindingHandler($event) { return ctx.onWindowResize($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵclassProp(\"cg-show\", ctx.lightboxShown);\n    } }, inputs: { data: \"data\" }, decls: 10, vars: 9, consts: [[1, \"cg-back\", 3, \"click\"], [\"pinch\", \"\", 1, \"cg-wrapper\", 3, \"isLast\", \"isFirst\", \"events\"], [\"wrapper\", \"\"], [1, \"cg-image-wrap\", \"cg-prev-image\"], [3, \"src\", \"cg-hide\", \"load\", 4, \"ngIf\"], [\"class\", \"cg-spinner\", 4, \"ngIf\"], [\"class\", \"cg-image-wrap cg-curr-image\", 4, \"ngIf\"], [1, \"cg-image-wrap\", \"cg-next-image\"], [3, \"src\", \"load\"], [1, \"cg-spinner\"], [1, \"cg-image-wrap\", \"cg-curr-image\"]], template: function LightboxMobileComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵlistener(\"click\", function LightboxMobileComponent_Template_div_click_0_listener() { return ctx.closeLightbox(); });\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementStart(1, \"div\", 1, 2);\n        ɵngcc0.ɵɵlistener(\"events\", function LightboxMobileComponent_Template_div_events_1_listener($event) { return ctx.handlePinchEvents($event); });\n        ɵngcc0.ɵɵelementStart(3, \"div\", 3);\n        ɵngcc0.ɵɵtemplate(4, LightboxMobileComponent_img_4_Template, 1, 3, \"img\", 4);\n        ɵngcc0.ɵɵtemplate(5, LightboxMobileComponent_div_5_Template, 1, 0, \"div\", 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(6, LightboxMobileComponent_div_6_Template, 3, 4, \"div\", 6);\n        ɵngcc0.ɵɵelementStart(7, \"div\", 7);\n        ɵngcc0.ɵɵtemplate(8, LightboxMobileComponent_img_8_Template, 1, 3, \"img\", 4);\n        ɵngcc0.ɵɵtemplate(9, LightboxMobileComponent_div_9_Template, 1, 0, \"div\", 5);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵclassProp(\"cg-landscape\", ctx.landscapeMode);\n        ɵngcc0.ɵɵproperty(\"isLast\", ctx.isLast)(\"isFirst\", ctx.isFirst);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.prevImagePath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.prevImage.loaded && ctx.prevImagePath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.currImage.show);\n        ɵngcc0.ɵɵadvance(2);\n        ɵngcc0.ɵɵproperty(\"ngIf\", ctx.nextImagePath);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.nextImage.loaded && ctx.nextImagePath);\n    } }, directives: function () { return [PinchDirective, ɵngcc1.NgIf]; }, styles: [\"._cg-spinner[_ngcontent-%COMP%], ._cg-spinner[_ngcontent-%COMP%]:after{border-radius:50%;width:36px;height:36px}._cg-spinner[_ngcontent-%COMP%]{margin:0 auto;font-size:10px;position:relative;text-indent:-9999em;border-top:4px solid rgba(255,255,255,.2);border-right:4px solid rgba(255,255,255,.2);border-bottom:4px solid rgba(255,255,255,.2);border-left:4px solid #fff;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.9s linear infinite load8;animation:.9s linear infinite load8}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cg-spinner[_ngcontent-%COMP%], .cg-spinner[_ngcontent-%COMP%]:after, .cg-spinner[_ngcontent-%COMP%]:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite load7;animation:1.5s ease-in-out infinite load7}.cg-spinner[_ngcontent-%COMP%]{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.cg-spinner[_ngcontent-%COMP%]:after, .cg-spinner[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;top:0}.cg-spinner[_ngcontent-%COMP%]:before{left:-3em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.cg-spinner[_ngcontent-%COMP%]:after{left:3em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}.cg-show[_nghost-%COMP%]{opacity:1}.cg-hide-controls[_nghost-%COMP%]   .cg-close[_ngcontent-%COMP%], .cg-hide-controls[_nghost-%COMP%]   .cg-next[_ngcontent-%COMP%], .cg-hide-controls[_nghost-%COMP%]   .cg-prev[_ngcontent-%COMP%]{opacity:0}[_nghost-%COMP%]{opacity:0;position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:opacity .2s cubic-bezier(.645,.045,.355,1);z-index:10000;background-color:#000}[_nghost-%COMP%]   .cg-back[_ngcontent-%COMP%]{background:url(\\\"data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22%3F%3E%3Csvg width%3D%2210px%22 height%3D%2216px%22 viewBox%3D%220 0 10 16%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E    %3C!-- Generator%3A sketchtool 40.2 (33826) - http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch --%3E    %3Ctitle%3E11A73872-5EBF-46F6-B7C5-142D47A33339%3C%2Ftitle%3E    %3Cdesc%3ECreated with sketchtool.%3C%2Fdesc%3E    %3Cdefs%3E%3C%2Fdefs%3E    %3Cg id%3D%22Interface-1280-x-800%22 stroke%3D%22none%22 stroke-width%3D%221%22 fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Cg id%3D%22Lot_viewpage_open%22 transform%3D%22translate(-111.000000%2C -296.000000)%22 fill%3D%22%23FFFFFF%22%3E            %3Cg id%3D%22arrows-16px-1_minimal-left%22 transform%3D%22translate(111.000000%2C 296.000000)%22%3E                %3Cpolygon id%3D%22Shape%22 points%3D%228.1 15.7 0.4 8 8.1 0.3 9.6 1.7 3.3 8 9.6 14.3%22%3E%3C%2Fpolygon%3E            %3C%2Fg%3E        %3C%2Fg%3E    %3C%2Fg%3E%3C%2Fsvg%3E\\\") center/12px no-repeat;width:40px;height:40px;opacity:.9;position:fixed;top:0;left:0;z-index:1000}[_nghost-%COMP%]   .cg-wrapper.cg-landscape[_ngcontent-%COMP%]   .cg-image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]{transition:none;width:100%;height:100%;display:block}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]   .cg-image-wrap.cg-prev-image[_ngcontent-%COMP%]{-webkit-transform:translate3d(calc(-100% - 8px),0,0);transform:translate3d(calc(-100% - 8px),0,0)}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]   .cg-image-wrap.cg-next-image[_ngcontent-%COMP%]{-webkit-transform:translate3d(calc(100% + 8px),0,0);transform:translate3d(calc(100% + 8px),0,0)}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]   .cg-image-wrap[_ngcontent-%COMP%]{width:100%;height:100%;text-align:center;position:absolute;display:flex;align-items:center;justify-content:center}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]   .cg-image-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;width:auto;height:auto;position:relative}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]   .cg-image-wrap[_ngcontent-%COMP%]   img.cg-hide[_ngcontent-%COMP%]{display:none}\"] });\r\n/** @nocollapse */\r\nLightboxMobileComponent.ctorParameters = () => [\r\n    { type: ElementRef },\r\n    { type: ChangeDetectorRef }\r\n];\r\nLightboxMobileComponent.propDecorators = {\r\n    data: [{ type: Input }],\r\n    wrapperEl: [{ type: ViewChild, args: ['wrapper',] }],\r\n    lightboxShown: [{ type: HostBinding, args: ['class.cg-show',] }],\r\n    onWindowResize: [{ type: HostListener, args: ['window:resize', ['$event'],] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(LightboxMobileComponent, [{\n        type: Component,\n        args: [{\n                selector: 'crystal-lightbox-mobile',\n                template: `<div class=\"cg-back\" (click)=\"closeLightbox()\"></div>\n\n<div \n\tclass=\"cg-wrapper\" \n\t[class.cg-landscape]=\"landscapeMode\"\n\tpinch [isLast]=\"isLast\" [isFirst]=\"isFirst\" (events)=\"handlePinchEvents($event)\"\n\t#wrapper>\n\t<div class=\"cg-image-wrap cg-prev-image\">\n\t\t<img \n\t\t\t*ngIf=\"prevImagePath\"\n\t\t\t[src]=\"prevImagePath.full\" \n\t\t\t[class.cg-hide]=\"!prevImage.loaded\"\n\t\t\t(load)=\"onImageLoaded('prevImage')\"\n\t\t/>\n\t\t<div class=\"cg-spinner\" *ngIf=\"!prevImage.loaded && prevImagePath\"></div>\n\t</div>\n\n\t<div class=\"cg-image-wrap cg-curr-image\" *ngIf=\"currImage.show\">\n\t\t<img \n\t\t\t[src]=\"currImagePath?.full\" \n\t\t\t[class.cg-hide]=\"!currImage.loaded\" \n\t\t\t(load)=\"onImageLoaded('currImage')\"\n\t\t/>\n\t\t<div class=\"cg-spinner\" *ngIf=\"!currImage.loaded\"></div>\n\t</div>\n\t\n\t<div class=\"cg-image-wrap cg-next-image\">\n\t\t<img \n\t\t\t*ngIf=\"nextImagePath\"\n\t\t\t[src]=\"nextImagePath.full\" \n\t\t\t[class.cg-hide]=\"!nextImage.loaded\" \n\t\t\t(load)=\"onImageLoaded('nextImage')\"\n\t\t/>\n\t\t<div class=\"cg-spinner\" *ngIf=\"!nextImage.loaded && nextImagePath\"></div>\n\t</div>\n</div>`,\n                styles: [`._cg-spinner,._cg-spinner:after{border-radius:50%;width:36px;height:36px}._cg-spinner{margin:0 auto;font-size:10px;position:relative;text-indent:-9999em;border-top:4px solid rgba(255,255,255,.2);border-right:4px solid rgba(255,255,255,.2);border-bottom:4px solid rgba(255,255,255,.2);border-left:4px solid #fff;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.9s linear infinite load8;animation:.9s linear infinite load8}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cg-spinner,.cg-spinner:after,.cg-spinner:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite load7;animation:1.5s ease-in-out infinite load7}.cg-spinner{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.cg-spinner:after,.cg-spinner:before{content:\"\";position:absolute;top:0}.cg-spinner:before{left:-3em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.cg-spinner:after{left:3em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}:host(.cg-show){opacity:1}:host(.cg-hide-controls) .cg-close,:host(.cg-hide-controls) .cg-next,:host(.cg-hide-controls) .cg-prev{opacity:0}:host{opacity:0;position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:opacity .2s cubic-bezier(.645,.045,.355,1);z-index:10000;background-color:#000}:host .cg-back{background:url(\"data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22%3F%3E%3Csvg width%3D%2210px%22 height%3D%2216px%22 viewBox%3D%220 0 10 16%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E    %3C!-- Generator%3A sketchtool 40.2 (33826) - http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch --%3E    %3Ctitle%3E11A73872-5EBF-46F6-B7C5-142D47A33339%3C%2Ftitle%3E    %3Cdesc%3ECreated with sketchtool.%3C%2Fdesc%3E    %3Cdefs%3E%3C%2Fdefs%3E    %3Cg id%3D%22Interface-1280-x-800%22 stroke%3D%22none%22 stroke-width%3D%221%22 fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Cg id%3D%22Lot_viewpage_open%22 transform%3D%22translate(-111.000000%2C -296.000000)%22 fill%3D%22%23FFFFFF%22%3E            %3Cg id%3D%22arrows-16px-1_minimal-left%22 transform%3D%22translate(111.000000%2C 296.000000)%22%3E                %3Cpolygon id%3D%22Shape%22 points%3D%228.1 15.7 0.4 8 8.1 0.3 9.6 1.7 3.3 8 9.6 14.3%22%3E%3C%2Fpolygon%3E            %3C%2Fg%3E        %3C%2Fg%3E    %3C%2Fg%3E%3C%2Fsvg%3E\") center/12px no-repeat;width:40px;height:40px;opacity:.9;position:fixed;top:0;left:0;z-index:1000}:host .cg-wrapper.cg-landscape .cg-image-wrap img{height:100%}:host .cg-wrapper{transition:none;width:100%;height:100%;display:block}:host .cg-wrapper .cg-image-wrap.cg-prev-image{-webkit-transform:translate3d(calc(-100% - 8px),0,0);transform:translate3d(calc(-100% - 8px),0,0)}:host .cg-wrapper .cg-image-wrap.cg-next-image{-webkit-transform:translate3d(calc(100% + 8px),0,0);transform:translate3d(calc(100% + 8px),0,0)}:host .cg-wrapper .cg-image-wrap{width:100%;height:100%;text-align:center;position:absolute;display:flex;align-items:center;justify-content:center}:host .cg-wrapper .cg-image-wrap img{max-width:100%;max-height:100%;width:auto;height:auto;position:relative}:host .cg-wrapper .cg-image-wrap img.cg-hide{display:none}`]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.ChangeDetectorRef }]; }, { lightboxShown: [{\n            type: HostBinding,\n            args: ['class.cg-show']\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onWindowResize: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], data: [{\n            type: Input\n        }], wrapperEl: [{\n            type: ViewChild,\n            args: ['wrapper']\n        }] }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\n/** @type {?} */\r\nconst defaultConfig = {\r\n    masonry: true,\r\n    masonryMaxHeight: 200,\r\n    masonryGutter: 4,\r\n    loop: false,\r\n    index: 0,\r\n    backgroundOpacity: 0.85,\r\n    counter: false,\r\n    lightboxMaxHeight: \"100%\",\r\n    lightboxMaxWidth: \"100%\",\r\n    animationDuration: 100\r\n};\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nclass CrystalLightbox {\r\n    /**\r\n     * @param {?} componentFactoryResolver\r\n     * @param {?} appRef\r\n     * @param {?} injector\r\n     */\r\n    constructor(componentFactoryResolver, appRef, injector) {\r\n        this.componentFactoryResolver = componentFactoryResolver;\r\n        this.appRef = appRef;\r\n        this.injector = injector;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isMobile() {\r\n        /** @type {?} */\r\n        var check = false;\r\n        (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\r\n            check = true; })(navigator.userAgent || navigator.vendor);\r\n        return check;\r\n    }\r\n    ;\r\n    /**\r\n     * @param {?} component\r\n     * @param {?} data\r\n     * @return {?}\r\n     */\r\n    appendComponentToBody(component, data) {\r\n        /** @type {?} */\r\n        const componentRef = this.componentFactoryResolver\r\n            .resolveComponentFactory(component)\r\n            .create(this.injector);\r\n        (/** @type {?} */ (componentRef.instance)).data = data;\r\n        this.appRef.attachView(componentRef.hostView);\r\n        /** @type {?} */\r\n        const domElem = /** @type {?} */ ((/** @type {?} */ (componentRef.hostView)).rootNodes[0]);\r\n        document.body.appendChild(domElem);\r\n        (/** @type {?} */ (componentRef.instance)).close.subscribe(() => {\r\n            this.appRef.detachView(componentRef.hostView);\r\n            componentRef.destroy();\r\n        });\r\n    }\r\n    /**\r\n     * @param {?} images\r\n     * @param {?=} config\r\n     * @return {?}\r\n     */\r\n    open(images, config = {}) {\r\n        config = this.applyConfigDefaults(defaultConfig, config);\r\n        /** @type {?} */\r\n        let data = {\r\n            images,\r\n            config\r\n        };\r\n        /** @type {?} */\r\n        let component = this.getLightboxComponent();\r\n        this.appendComponentToBody(component, data);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    getLightboxComponent() {\r\n        return !this.isMobile ? LightboxComponent : LightboxMobileComponent;\r\n    }\r\n    /**\r\n     * @param {?} defaultConfig\r\n     * @param {?} config\r\n     * @return {?}\r\n     */\r\n    applyConfigDefaults(defaultConfig$$1, config) {\r\n        if (!config.index) {\r\n            config.index = 0;\r\n        }\r\n        return Object.assign(defaultConfig$$1, config);\r\n    }\r\n}\nCrystalLightbox.ɵfac = function CrystalLightbox_Factory(t) { return new (t || CrystalLightbox)(ɵngcc0.ɵɵinject(ɵngcc0.ComponentFactoryResolver), ɵngcc0.ɵɵinject(ɵngcc0.ApplicationRef), ɵngcc0.ɵɵinject(ɵngcc0.Injector)); };\nCrystalLightbox.ɵprov = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjectable({ token: CrystalLightbox, factory: CrystalLightbox.ɵfac });\r\n/** @nocollapse */\r\nCrystalLightbox.ctorParameters = () => [\r\n    { type: ComponentFactoryResolver },\r\n    { type: ApplicationRef },\r\n    { type: Injector }\r\n];\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CrystalLightbox, [{\n        type: Injectable\n    }], function () { return [{ type: ɵngcc0.ComponentFactoryResolver }, { type: ɵngcc0.ApplicationRef }, { type: ɵngcc0.Injector }]; }, null); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nclass GalleryComponent {\r\n    /**\r\n     * @param {?} lightbox\r\n     * @param {?} elementRef\r\n     */\r\n    constructor(lightbox, elementRef) {\r\n        this.lightbox = lightbox;\r\n        this.elementRef = elementRef;\r\n        this.config = {};\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isNgContent() {\r\n        return this.contentWrapper.nativeElement.children.length > 0;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get masonryState() {\r\n        return this.config.masonry;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get masonryMaxHeight() {\r\n        return this.config.masonryMaxHeight;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get masonryGutter() {\r\n        return this.config.masonryGutter;\r\n    }\r\n    /**\r\n     * @param {?} images\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    showLightbox(images, i) {\r\n        this.config.index = i;\r\n        this.lightbox.open(images, this.config);\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    handleMasonryLayoutEvents(event) {\r\n        this.showLightbox(this.images, event.index);\r\n    }\r\n}\nGalleryComponent.ɵfac = function GalleryComponent_Factory(t) { return new (t || GalleryComponent)(ɵngcc0.ɵɵdirectiveInject(CrystalLightbox), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nGalleryComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: GalleryComponent, selectors: [[\"crystal-gallery\"]], viewQuery: function GalleryComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c3, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.contentWrapper = _t.first);\n    } }, inputs: { config: \"config\", images: \"images\" }, ngContentSelectors: _c4, decls: 4, vars: 2, consts: [[3, \"hidden\"], [\"contentWrapper\", \"\"], [\"class\", \"cg-wrapper\", 3, \"max-height\", \"gutter\", \"masonry\", \"class-name\", \"images\", \"events\", 4, \"ngIf\"], [1, \"cg-wrapper\", 3, \"max-height\", \"gutter\", \"masonry\", \"class-name\", \"images\", \"events\"]], template: function GalleryComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0, 1);\n        ɵngcc0.ɵɵprojection(2);\n        ɵngcc0.ɵɵelementEnd();\n        ɵngcc0.ɵɵtemplate(3, GalleryComponent_masonry_layout_3_Template, 1, 5, \"masonry-layout\", 2);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"hidden\", ctx.isNgContent);\n        ɵngcc0.ɵɵadvance(3);\n        ɵngcc0.ɵɵproperty(\"ngIf\", !ctx.isNgContent);\n    } }, directives: function () { return [ɵngcc1.NgIf, MasonryLayoutComponent]; }, styles: [\"[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   .cg-wrapper[_ngcontent-%COMP%]{display:block;width:100%;overflow:hidden}[_nghost-%COMP%]   .cg-wrapper.cg-show[_ngcontent-%COMP%]{height:auto;position:relative;display:table}[_nghost-%COMP%]   .cg-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer;width:100%}\"] });\r\n/** @nocollapse */\r\nGalleryComponent.ctorParameters = () => [\r\n    { type: CrystalLightbox },\r\n    { type: ElementRef }\r\n];\r\nGalleryComponent.propDecorators = {\r\n    images: [{ type: Input, args: ['images',] }],\r\n    config: [{ type: Input, args: ['config',] }],\r\n    contentWrapper: [{ type: ViewChild, args: ['contentWrapper',] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(GalleryComponent, [{\n        type: Component,\n        args: [{\n                selector: 'crystal-gallery',\n                template: `<div #contentWrapper [hidden]=\"isNgContent\">\n    <ng-content></ng-content>\n</div>\n\n<masonry-layout \n    class=\"cg-wrapper\"\n    *ngIf=\"!isNgContent\" \n\n    [max-height]=\"masonryMaxHeight\" \n    [gutter]=\"masonryGutter\"\n    [masonry]=\"masonryState\"\n    [class-name]=\"'cg-image'\"\n    [images]=\"images\"\n    (events)=\"handleMasonryLayoutEvents($event)\"></masonry-layout>`,\n                styles: [`:host{display:block;width:100%}:host .cg-wrapper{display:block;width:100%;overflow:hidden}:host .cg-wrapper.cg-show{height:auto;position:relative;display:table}:host .cg-image img{cursor:pointer;width:100%}`]\n            }]\n    }], function () { return [{ type: CrystalLightbox }, { type: ɵngcc0.ElementRef }]; }, { config: [{\n            type: Input,\n            args: ['config']\n        }], images: [{\n            type: Input,\n            args: ['images']\n        }], contentWrapper: [{\n            type: ViewChild,\n            args: ['contentWrapper']\n        }] }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nclass MasonryLayoutComponent {\r\n    /**\r\n     * @param {?} elementRef\r\n     */\r\n    constructor(elementRef) {\r\n        this.elementRef = elementRef;\r\n        this.GUTTER = 0;\r\n        this.savedNodeDimensions = [];\r\n        this.gridState = 'not started';\r\n        this.ENABLE_MASONRY = true;\r\n        this.MAX_HEIGHT = 400;\r\n        this.events = new EventEmitter();\r\n        this.elem = this.elementRef.nativeElement;\r\n    }\r\n    /**\r\n     * @param {?} value\r\n     * @return {?}\r\n     */\r\n    set gutter(value) {\r\n        this.GUTTER = value / 2;\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    get isMobile() {\r\n        /** @type {?} */\r\n        var check = false;\r\n        (function (a) { if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0, 4)))\r\n            check = true; })(navigator.userAgent || navigator.vendor);\r\n        return check;\r\n    }\r\n    ;\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    onWindowResize(event) {\r\n        clearTimeout(this.resizeTimer);\r\n        this.resizeTimer = setTimeout(() => {\r\n            this.gridState = 'not started';\r\n            this.buildGrid();\r\n        }, 250);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnInit() {\r\n        this.buildGrid();\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnChanges() {\r\n        clearTimeout(this.changesTimer);\r\n        this.changesTimer = setTimeout(() => {\r\n            this.gridState = 'not started';\r\n            this.buildGrid();\r\n        }, 250);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    buildGrid() {\r\n        /** @type {?} */\r\n        let parentWidth = Math.floor(this.elem.parentNode.offsetWidth);\r\n        /** @type {?} */\r\n        let row = {\r\n            startIndex: 0,\r\n            endIndex: 0,\r\n            length: 0,\r\n            totalWidth: 0\r\n        };\r\n        if (!this.images || !this.images.length) {\r\n            return;\r\n        }\r\n        this.elem.style.width = parentWidth + 'px';\r\n        this.elem.style.display = 'table';\r\n        this.images.forEach((node, index) => {\r\n            if (row.totalWidth === 0) {\r\n                row.startIndex = index;\r\n                row.length = 0;\r\n            }\r\n            row.length++;\r\n            row.totalWidth += this.getComputedWidth(index);\r\n            if (row.totalWidth >= parentWidth || this.isLastChild(index)) {\r\n                row.endIndex = index;\r\n                /** @type {?} */\r\n                let scaling = row.totalWidth / parentWidth;\r\n                this.setColDimensions(scaling, row);\r\n                row.totalWidth = 0;\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @param {?} scaling\r\n     * @param {?} row\r\n     * @return {?}\r\n     */\r\n    setColDimensions(scaling, row) {\r\n        /** @type {?} */\r\n        let totalRowWidth = 0;\r\n        /** @type {?} */\r\n        let parentWidth = this.elem.parentNode.offsetWidth;\r\n        scaling = (scaling < 1) ? 1 : scaling;\r\n        this.images.forEach((node, index) => {\r\n            if (!this.ENABLE_MASONRY) {\r\n                node.computedHeight = this.MAX_HEIGHT + 'px';\r\n                node.computedWidth = this.getComputedWidth(index) + 'px';\r\n                node.margin = this.getNodeMargin(parentWidth);\r\n                return;\r\n            }\r\n            if (index >= row.startIndex && index <= row.endIndex) {\r\n                /** @type {?} */\r\n                let nodeWidth;\r\n                // last image\r\n                if (index === row.endIndex && scaling > 1) {\r\n                    nodeWidth = (100 - totalRowWidth) - ((this.GUTTER * 2) / parentWidth * 100);\r\n                    node.computedWidth = 'calc(' + nodeWidth + '%)';\r\n                    if (this.gridState === 'not started') {\r\n                        this.gridState = 'pre-building';\r\n                        setTimeout(() => {\r\n                            this.buildGrid();\r\n                        }, 100);\r\n                    }\r\n                }\r\n                else {\r\n                    nodeWidth = ((this.getComputedWidth(index) / scaling) / parentWidth * 100) - ((row.length * (this.GUTTER * 2)) * (this.getComputedWidth(index) / scaling) / parentWidth) / parentWidth * 100;\r\n                    node.computedWidth = 'calc(' + nodeWidth + '%)';\r\n                    totalRowWidth += nodeWidth;\r\n                    totalRowWidth += (this.GUTTER / parentWidth * 100) * 2;\r\n                }\r\n                // last row and last image\r\n                if (index === row.endIndex && row.length === 1 && this.isMobile) {\r\n                    nodeWidth = 100 - ((this.GUTTER * 2) / parentWidth * 100);\r\n                    /** @type {?} */\r\n                    let height = node.height * (parentWidth * (nodeWidth / 100) / node.width);\r\n                    if (height / 2 < this.MAX_HEIGHT) {\r\n                        node.computedWidth = 'calc(' + nodeWidth + '%)';\r\n                    }\r\n                }\r\n                node.margin = this.getNodeMargin(parentWidth);\r\n                node.computedHeight = node.height * (parentWidth * (nodeWidth / 100) / node.width) + 'px';\r\n            }\r\n        });\r\n    }\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    getComputedWidth(index) {\r\n        return this.images[index].width / (this.images[index].height / this.MAX_HEIGHT);\r\n    }\r\n    /**\r\n     * @param {?} index\r\n     * @return {?}\r\n     */\r\n    isLastChild(index) {\r\n        return index + 1 === this.images.length;\r\n    }\r\n    /**\r\n     * @param {?} parentWidth\r\n     * @return {?}\r\n     */\r\n    getNodeMargin(parentWidth) {\r\n        return 'calc(' + this.GUTTER / parentWidth * 100 + '%)';\r\n    }\r\n    /**\r\n     * @param {?} image\r\n     * @param {?} i\r\n     * @return {?}\r\n     */\r\n    clickOnImage(image, i) {\r\n        this.events.emit({\r\n            type: 'click-on-image',\r\n            image: image,\r\n            index: i\r\n        });\r\n    }\r\n    /**\r\n     * @param {?} elem\r\n     * @return {?}\r\n     */\r\n    onImageLoaded(elem) {\r\n        elem.style.opacity = 1;\r\n    }\r\n}\nMasonryLayoutComponent.ɵfac = function MasonryLayoutComponent_Factory(t) { return new (t || MasonryLayoutComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nMasonryLayoutComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: MasonryLayoutComponent, selectors: [[\"masonry-layout\"]], hostBindings: function MasonryLayoutComponent_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"resize\", function MasonryLayoutComponent_resize_HostBindingHandler($event) { return ctx.onWindowResize($event); }, false, ɵngcc0.ɵɵresolveWindow);\n    } }, inputs: { ENABLE_MASONRY: [\"masonry\", \"ENABLE_MASONRY\"], MAX_HEIGHT: [\"max-height\", \"MAX_HEIGHT\"], gutter: \"gutter\", images: \"images\", CLASS_NAME: [\"class-name\", \"CLASS_NAME\"] }, outputs: { events: \"events\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 1, vars: 1, consts: [[3, \"ngClass\", \"width\", \"height\", \"float\", \"margin\", \"background\", \"lineHeight\", 4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [3, \"src\", \"click\", \"load\"], [\"imageElem\", \"\"]], template: function MasonryLayoutComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵtemplate(0, MasonryLayoutComponent_div_0_Template, 3, 20, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngForOf\", ctx.images);\n    } }, directives: [ɵngcc1.NgForOf, ɵngcc1.NgClass], encapsulation: 2 });\r\n/** @nocollapse */\r\nMasonryLayoutComponent.ctorParameters = () => [\r\n    { type: ElementRef }\r\n];\r\nMasonryLayoutComponent.propDecorators = {\r\n    images: [{ type: Input, args: ['images',] }],\r\n    ENABLE_MASONRY: [{ type: Input, args: ['masonry',] }],\r\n    MAX_HEIGHT: [{ type: Input, args: ['max-height',] }],\r\n    CLASS_NAME: [{ type: Input, args: ['class-name',] }],\r\n    gutter: [{ type: Input, args: ['gutter',] }],\r\n    events: [{ type: Output }],\r\n    onWindowResize: [{ type: HostListener, args: ['window:resize', ['$event'],] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MasonryLayoutComponent, [{\n        type: Component,\n        args: [{\n                selector: 'masonry-layout',\n                template: `<div \n\t[ngClass]=\"CLASS_NAME\"\n\t*ngFor=\"let image of images; let i = index;\"\n    [style.width]=\"image.computedWidth\"\n    [style.height]=\"image.computedHeight\"\n    [style.float]=\"'left'\"\n    [style.margin]=\"image.margin\"\n    [style.background]=\"'#eeeeee'\"\n    [style.lineHeight]=\"0\">\n\t<img \n        #imageElem\n        [src]=\"image.preview || image.full\" \n        [style.width.%]=\"100\" \n        [style.height]=\"'auto'\"\n        [style.opacity]=\"0\"\n        (click)=\"clickOnImage(image, i)\"\n        (load)=\"onImageLoaded(imageElem)\" />\n</div>`\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { ENABLE_MASONRY: [{\n            type: Input,\n            args: ['masonry']\n        }], MAX_HEIGHT: [{\n            type: Input,\n            args: ['max-height']\n        }], events: [{\n            type: Output\n        }], gutter: [{\n            type: Input,\n            args: ['gutter']\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    onWindowResize: [{\n            type: HostListener,\n            args: ['window:resize', ['$event']]\n        }], images: [{\n            type: Input,\n            args: ['images']\n        }], CLASS_NAME: [{\n            type: Input,\n            args: ['class-name']\n        }] }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nclass PinchDirective {\r\n    /**\r\n     * @param {?} elementRef\r\n     */\r\n    constructor(elementRef) {\r\n        this.elementRef = elementRef;\r\n        this.scale = 1;\r\n        this.initialScale = 1;\r\n        this.moveX = 0;\r\n        this.moveY = 0;\r\n        this.initialMoveX = 0;\r\n        this.initialMoveY = 0;\r\n        this.isNextImageLoaded = true;\r\n        this.events = new EventEmitter();\r\n        this.elem = this.elementRef.nativeElement;\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    touchstartHandler(event) {\r\n        this.elem.style.transformOrigin = '0 0';\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    touchmoveHandler(event) {\r\n        /** @type {?} */\r\n        let touches = event.touches;\r\n        if (touches.length === 1 && this.scale === 1 && !this.eventType || this.eventType == 'swipe') {\r\n            event.preventDefault();\r\n            if (!this.isNextImageLoaded) {\r\n                return;\r\n            }\r\n            if (!this.eventType) {\r\n                this.startX = event.touches[0].pageX;\r\n                this.startY = event.touches[0].pageY;\r\n            }\r\n            this.eventType = 'swipe';\r\n            this.moveX = this.initialMoveX + (event.touches[0].pageX - this.startX);\r\n            this.moveY = 0;\r\n            this.transformElem(0);\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    touchendHandler(event) {\r\n        /** @type {?} */\r\n        let touches = event.touches;\r\n        /** @type {?} */\r\n        let img = this.elem.getElementsByTagName(\"img\")[0];\r\n        if (!this.isNextImageLoaded) {\r\n            return;\r\n        }\r\n        if (this.scale < 1) {\r\n            this.scale = 1;\r\n        }\r\n        if (this.moveY > 0) {\r\n            this.moveY = 0;\r\n        }\r\n        if (this.moveX > 100) {\r\n            this.slide('prev');\r\n        }\r\n        else if (this.moveX < -100) {\r\n            this.slide('next');\r\n        }\r\n        else {\r\n            this.moveX = 0;\r\n        }\r\n        this.initialScale = this.scale;\r\n        this.initialMoveX = this.moveX;\r\n        this.initialMoveY = this.moveY;\r\n        this.transformElem(200);\r\n        this.eventType = 'touchend';\r\n        if (touches.length == 0) {\r\n            this.eventType = '';\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} event\r\n     * @return {?}\r\n     */\r\n    slide(event) {\r\n        this.onSlide(event);\r\n        if (event === 'prev') {\r\n            this.moveX = window.innerWidth + 8;\r\n            if (this.isFirst) {\r\n                this.moveX = 0;\r\n            }\r\n        }\r\n        if (event === 'next') {\r\n            this.moveX = -window.innerWidth - 8;\r\n            if (this.isLast) {\r\n                this.moveX = 0;\r\n            }\r\n        }\r\n        this.isNextImageLoaded = false;\r\n        setTimeout(() => {\r\n            this.moveX = 0;\r\n            this.initialMoveX = 0;\r\n            this.isNextImageLoaded = true;\r\n        }, 200);\r\n    }\r\n    /**\r\n     * @param {?} evenType\r\n     * @return {?}\r\n     */\r\n    onSlide(evenType) {\r\n        this.events.emit(evenType);\r\n    }\r\n    /**\r\n     * @param {?=} duration\r\n     * @return {?}\r\n     */\r\n    transformElem(duration = 50) {\r\n        /** @type {?} */\r\n        let matrixVal = 'matrix(' + Number(this.scale) + ',' + 0 + ',' + 0 + ',' + Number(this.scale) + ',' + Number(this.moveX) + ',' + Number(this.moveY) + ')';\r\n        this.elem.style.transition = 'all ' + duration + 'ms';\r\n        this.elem.style.transform = matrixVal;\r\n        this.elem.style.webkitTransform = matrixVal;\r\n    }\r\n}\nPinchDirective.ɵfac = function PinchDirective_Factory(t) { return new (t || PinchDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nPinchDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: PinchDirective, selectors: [[\"\", \"pinch\", \"\"]], hostBindings: function PinchDirective_HostBindings(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵlistener(\"touchstart\", function PinchDirective_touchstart_HostBindingHandler($event) { return ctx.touchstartHandler($event); })(\"touchmove\", function PinchDirective_touchmove_HostBindingHandler($event) { return ctx.touchmoveHandler($event); })(\"touchend\", function PinchDirective_touchend_HostBindingHandler($event) { return ctx.touchendHandler($event); });\n    } }, inputs: { isLast: \"isLast\", isFirst: \"isFirst\" }, outputs: { events: \"events\" } });\r\n/** @nocollapse */\r\nPinchDirective.ctorParameters = () => [\r\n    { type: ElementRef }\r\n];\r\nPinchDirective.propDecorators = {\r\n    isLast: [{ type: Input }],\r\n    isFirst: [{ type: Input }],\r\n    events: [{ type: Output }],\r\n    touchstartHandler: [{ type: HostListener, args: ['touchstart', ['$event'],] }],\r\n    touchmoveHandler: [{ type: HostListener, args: ['touchmove', ['$event'],] }],\r\n    touchendHandler: [{ type: HostListener, args: ['touchend', ['$event'],] }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PinchDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[pinch]'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }]; }, { events: [{\n            type: Output\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    touchstartHandler: [{\n            type: HostListener,\n            args: ['touchstart', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    touchmoveHandler: [{\n            type: HostListener,\n            args: ['touchmove', ['$event']]\n        }], \n    /**\n     * @param {?} event\n     * @return {?}\n     */\n    touchendHandler: [{\n            type: HostListener,\n            args: ['touchend', ['$event']]\n        }], isLast: [{\n            type: Input\n        }], isFirst: [{\n            type: Input\n        }] }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\r\nclass CrystalGalleryModule {\r\n}\nCrystalGalleryModule.ɵfac = function CrystalGalleryModule_Factory(t) { return new (t || CrystalGalleryModule)(); };\nCrystalGalleryModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: CrystalGalleryModule });\nCrystalGalleryModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ providers: [\n        CrystalLightbox\n    ], imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(CrystalGalleryModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    LightboxComponent,\n                    LightboxMobileComponent,\n                    GalleryComponent,\n                    MasonryLayoutComponent,\n                    PinchDirective\n                ],\n                imports: [\n                    CommonModule\n                ],\n                exports: [\n                    GalleryComponent\n                ],\n                providers: [\n                    CrystalLightbox\n                ],\n                bootstrap: [],\n                entryComponents: [\n                    LightboxComponent,\n                    LightboxMobileComponent\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(CrystalGalleryModule, { declarations: function () { return [LightboxComponent, LightboxMobileComponent, GalleryComponent, MasonryLayoutComponent, PinchDirective]; }, imports: function () { return [CommonModule]; }, exports: function () { return [GalleryComponent]; } }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc\r\n */\n\nexport { CrystalLightbox, GalleryComponent, CrystalGalleryModule, LightboxComponent, LightboxMobileComponent, MasonryLayoutComponent, PinchDirective as ɵa };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmd4LWNyeXN0YWwtZ2FsbGVyeS5qcyIsInNvdXJjZXMiOlsibmd4LWNyeXN0YWwtZ2FsbGVyeS9saWIvbGlnaHRib3guY29tcG9uZW50LnRzIiwibmd4LWNyeXN0YWwtZ2FsbGVyeS9saWIvbGlnaHRib3gtbW9iaWxlLmNvbXBvbmVudC50cyIsIm5neC1jcnlzdGFsLWdhbGxlcnkvbGliL2NvbmZpZy50cyIsIm5neC1jcnlzdGFsLWdhbGxlcnkvbGliL2RvbS5zZXJ2aWNlLnRzIiwibmd4LWNyeXN0YWwtZ2FsbGVyeS9saWIvZ2FsbGVyeS5jb21wb25lbnQudHMiLCJuZ3gtY3J5c3RhbC1nYWxsZXJ5L2xpYi9tYXNvbnJ5LWxheW91dC5jb21wb25lbnQudHMiLCJuZ3gtY3J5c3RhbC1nYWxsZXJ5L2xpYi9waW5jaC5kaXJlY3RpdmUudHMiLCJuZ3gtY3J5c3RhbC1nYWxsZXJ5L2xpYi9nYWxsZXJ5Lm1vZHVsZS50cyJdLCJuYW1lcyI6WyJkZWZhdWx0Q29uZmlnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFFQztBQUFTO0FBRUQ7QUFFUjtBQUFTLElBdUlOLFlBQW9CLFVBQXNCLEVBQVUsR0FBc0I7QUFDNUUsUUFEc0IsZUFBVSxHQUFWLFVBQVUsQ0FBWTtBQUFFLFFBQVEsUUFBRyxHQUFILEdBQUcsQ0FBbUI7QUFBRSxpQ0EzRmhELENBQUM7QUFDaEMsNkJBQTJCLEVBQUU7QUFDN0IsaUNBQStCLEVBQUU7QUFFbEMscUJBRVksSUFBSSxZQUFZLEVBQUU7QUFFOUIsNEJBQTBELEtBQUs7QUFDOUQsNEJBQWtFLEtBQUs7QUFDdkUsS0FrRkk7QUFFTDtBQUFTO0FBQ0k7QUFBUyxJQTlFbEIsSUFBSSxNQUFNO0FBQ1osUUFBTSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxD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LEFBQUEsQUFBQSxBQTNGQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFJQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBbUZBLEFBM0VBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUtBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBeE5BLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBMkJBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFsQ0EsQUFBQSxBQUNBLEFBQUEsQUE2Q0EsQUFBQSxBQUlBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBd0RBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFlQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFDeElBLEFBc0pBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQXZHQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBS0EsQUFBQSxBQUFBLEFBQUEsQUE4RUEsQUFBQSxBQVNBLEFBakZBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFLQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUtBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFyUkEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFtQ0EsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQXpDQSxBQUFBLEFBQUEsQUFBQSxBQWtFQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUEwRUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFDaEpBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFDWEEsQUEyQkEsQUFDQSxBQUNBLEFBQ0EsQUFGQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQVZBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFRQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFuREEsQUFBQSxBQWZBLEFBQUEsQUFFQSxBQUFBLEFBSEEsQUFBQSxBQ0ZBLEFBNENBLEFBQ0EsQUFDQSxBQURBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUF0QkEsQUFBQSxBQXVCQSxBQW5CQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFPQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQXJEQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQWFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFuQkEsQUFBQSxBQURBLEFBQUEsQUF1QkEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFDMUJBLEFBK0RBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUEzQkEsQUFBQSxBQUdBLEFBQUEsQUFFQSxBQUFBLEFBS0EsQUFBQSxBQUNBLEFBQUEsQUFRQSxBQUFBLEFBQUEsQUFBQSxBQVNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQWZBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUlBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFPQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQTVMQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQWlCQSxBQUNBLEFBakNBLEFBQUEsQUE2Q0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBQUEsQUFZQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFDbkVBLEFBbUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUF4QkEsQUFBQSxBQUNBLEFBQUEsQUFLQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBUUEsQUFBQSxBQUtBLEFBQUEsQUFBQSxBQUFBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBR0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFHQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFDQSxBQUdBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUNBLEFBRUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFFQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFFQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUVBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQ0EsQUExSUEsQUFBQSxBQUFBLEFBQ0EsQUFBQSxBQUFBLEFBQUEsQUFDQSxBQUpBLEFBQUEsQUE4QkEsQUFBQSxBQUNBLEFBQUEsQUFFQSxBQUFBLEFBTUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUtBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUF5QkEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQUFBLEFBQUEsQUFBQSxBQ3JFQSxBQVNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSxBQUFBLEFBQUEsQUFFQSxBQUNBLEFBQUEsQUFBQSxBQUNBLEFBQUEsQUFDQSxBQUFBLEFBQ0EsQUFDQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICAgIENvbXBvbmVudCwgXG4gICAgSW5wdXQsIFxuICAgIEV2ZW50RW1pdHRlciwgXG4gICAgT25Jbml0LCBcbiAgICBIb3N0QmluZGluZywgXG4gICAgSG9zdExpc3RlbmVyLCBcbiAgICBWaWV3Q2hpbGQsIFxuICAgIEVsZW1lbnRSZWYsIFxuICAgIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnY3J5c3RhbC1saWdodGJveCcsXG4gICAgdGVtcGxhdGU6IGA8ZGl2IGNsYXNzPVwiY2ctY291bnRlclwiICpuZ0lmPVwiY29uZmlnLmNvdW50ZXIgJiYgaW1hZ2VzLmxlbmd0aCA+IDFcIj57e2NvdW50ZXJ9fTwvZGl2PlxuPGRpdiBjbGFzcz1cImNnLWRlc2NyaXB0aW9uXCIgKm5nSWY9XCJkZXNjcmlwdGlvblwiPnt7ZGVzY3JpcHRpb259fTwvZGl2PlxuXG48ZGl2IFxuXHRjbGFzcz1cImNnLWNsb3NlXCIgXG5cdChjbGljayk9XCJjbG9zZUxpZ2h0Ym94KClcIj5DbG9zZTwvZGl2PlxuXG48ZGl2IFxuXHRjbGFzcz1cImNnLXNwaW5uZXJcIiBcblx0ICpuZ0lmPVwiIWN1cnJJbWFnZUxvYWRlZFwiPjwvZGl2PlxuXG48ZGl2IGNsYXNzPVwiY2ctd3JhcHBlclwiICN3cmFwcGVyPlxuXHQ8aW1nIFxuXHRcdGNsYXNzPVwiY2ctY3Vyci1pbWFnZVwiIFxuXHRcdCNjdXJySW1hZ2VFbGVtIFxuXHRcdFtzcmNdPVwiY3VyckltYWdlUGF0aD8uZnVsbFwiIFxuXHRcdFtjbGFzcy5jZy1zaG93XT1cImN1cnJJbWFnZUxvYWRlZFwiIFxuXHRcdChsb2FkKT1cIm9uSW1hZ2VMb2FkZWQoKVwiIC8+XG48L2Rpdj5cblxuPGRpdiBcblx0Y2xhc3M9XCJjZy1wcmV2XCIgXG5cdFtoaWRkZW5dPVwiaXNGaXJzdCAmJiAhY29uZmlnLmxvb3BcIiBcblx0KGNsaWNrKT1cInByZXYoKVwiPjwvZGl2PlxuPGRpdiBcblx0Y2xhc3M9XCJjZy1uZXh0XCIgXG5cdFtoaWRkZW5dPVwiaXNMYXN0ICYmICFjb25maWcubG9vcFwiIFxuXHQoY2xpY2spPVwibmV4dCgpXCI+PC9kaXY+YCxcbiAgICBzdHlsZXM6IFtgLl9jZy1zcGlubmVyLC5fY2ctc3Bpbm5lcjphZnRlcntib3JkZXItcmFkaXVzOjUwJTt3aWR0aDozNnB4O2hlaWdodDozNnB4fS5fY2ctc3Bpbm5lcnttYXJnaW46MCBhdXRvO2ZvbnQtc2l6ZToxMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtaW5kZW50Oi05OTk5ZW07Ym9yZGVyLXRvcDo0cHggc29saWQgcmdiYSgyNTUsMjU1LDI1NSwuMik7Ym9yZGVyLXJpZ2h0OjRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKTtib3JkZXItYm90dG9tOjRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKTtib3JkZXItbGVmdDo0cHggc29saWQgI2ZmZjstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApOy13ZWJraXQtYW5pbWF0aW9uOi45cyBsaW5lYXIgaW5maW5pdGUgbG9hZDg7YW5pbWF0aW9uOi45cyBsaW5lYXIgaW5maW5pdGUgbG9hZDh9QC13ZWJraXQta2V5ZnJhbWVzIGxvYWQ4ezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwKTt0cmFuc2Zvcm06cm90YXRlKDApfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX1Aa2V5ZnJhbWVzIGxvYWQ4ezAley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZSgwKTt0cmFuc2Zvcm06cm90YXRlKDApfTEwMCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyk7dHJhbnNmb3JtOnJvdGF0ZSgzNjBkZWcpfX0uY2ctc3Bpbm5lciwuY2ctc3Bpbm5lcjphZnRlciwuY2ctc3Bpbm5lcjpiZWZvcmV7Ym9yZGVyLXJhZGl1czo1MCU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDstd2Via2l0LWFuaW1hdGlvbjoxLjVzIGVhc2UtaW4tb3V0IGluZmluaXRlIGxvYWQ3O2FuaW1hdGlvbjoxLjVzIGVhc2UtaW4tb3V0IGluZmluaXRlIGxvYWQ3fS5jZy1zcGlubmVye2NvbG9yOiNmZmY7Zm9udC1zaXplOjEwcHg7bWFyZ2luOjAgYXV0byAyMHB4O3Bvc2l0aW9uOnJlbGF0aXZlO3RleHQtaW5kZW50Oi05OTk5ZW07LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWigwKTt0cmFuc2Zvcm06dHJhbnNsYXRlWigwKTstd2Via2l0LWFuaW1hdGlvbi1kZWxheTotLjE2czthbmltYXRpb24tZGVsYXk6LS4xNnN9LmNnLXNwaW5uZXI6YWZ0ZXIsLmNnLXNwaW5uZXI6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MH0uY2ctc3Bpbm5lcjpiZWZvcmV7bGVmdDotM2VtOy13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi0uMzJzO2FuaW1hdGlvbi1kZWxheTotLjMyc30uY2ctc3Bpbm5lcjphZnRlcntsZWZ0OjNlbX1ALXdlYmtpdC1rZXlmcmFtZXMgbG9hZDd7MCUsMTAwJSw4MCV7Ym94LXNoYWRvdzowIDIuNWVtIDAgLTEuM2VtfTQwJXtib3gtc2hhZG93OjAgMi41ZW0gMCAwfX1Aa2V5ZnJhbWVzIGxvYWQ3ezAlLDEwMCUsODAle2JveC1zaGFkb3c6MCAxMHB4IDAgLTEuM2VtfTQwJXtib3gtc2hhZG93OjAgMTBweCAwIDB9fTpob3N0KC5jZy1zaG93KXtvcGFjaXR5OjF9Omhvc3QoLmNnLWhpZGUtY29udHJvbHMpIC5jZy1jbG9zZSw6aG9zdCguY2ctaGlkZS1jb250cm9scykgLmNnLW5leHQsOmhvc3QoLmNnLWhpZGUtY29udHJvbHMpIC5jZy1wcmV2e29wYWNpdHk6MH06aG9zdHtvcGFjaXR5OjA7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7Y29sb3I6I2ZmZjstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1vei11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmU7dHJhbnNpdGlvbjpvcGFjaXR5IC4xcyBjdWJpYy1iZXppZXIoLjY0NSwuMDQ1LC4zNTUsMSk7ei1pbmRleDoxMDAwMDtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMCwwLDAsLjg1KX06aG9zdCBpbWd7b3BhY2l0eToxO21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MTAwJTtib3gtc2hhZG93OjAgNHB4IDE1cHggMnB4IHJnYmEoMCwwLDAsLjM1KX06aG9zdCBpbWcuY2ctY3Vyci1pbWFnZS5jZy1zaG93e29wYWNpdHk6MX06aG9zdCBpbWcuY2ctY3Vyci1pbWFnZXtvcGFjaXR5OjA7ei1pbmRleDoxMH06aG9zdCAuY2ctd3JhcHBlci5jZy1oaWRle2Rpc3BsYXk6bm9uZX06aG9zdCAuY2ctd3JhcHBlcntkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXI7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tb3otdXNlci1zZWxlY3Q6bm9uZTstbXMtdXNlci1zZWxlY3Q6bm9uZTt1c2VyLXNlbGVjdDpub25lO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfTpob3N0IC5jZy1zcGlubmVye3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7bGVmdDo1MCU7bWFyZ2luLXRvcDotMTVweDttYXJnaW4tbGVmdDotNXB4fTpob3N0IC5jZy1jb3VudGVye3RleHQtYWxpZ246bGVmdDtwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjIycHg7dG9wOjEzcHg7Zm9udC1zaXplOjE0cHg7dGV4dC1zaGFkb3c6MCAwIDFweCByZ2JhKDAsMCwwLC42NSk7ei1pbmRleDozMH06aG9zdCAuY2ctZGVzY3JpcHRpb257dGV4dC1hbGlnbjpjZW50ZXI7bWF4LXdpZHRoOmNhbGMoMTAwJSAtIDIwMHB4KTttYXJnaW46MCBhdXRvO2ZvbnQtc2l6ZToxNHB4O2xpbmUtaGVpZ2h0OjQzcHg7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDo1MH06aG9zdCAuY2ctY2xvc2V7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7cmlnaHQ6MDtwYWRkaW5nOjEzcHggMjJweDtmb250LXNpemU6MTNweDt0ZXh0LXRyYW5zZm9ybTp1cHBlcmNhc2U7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTouNTt6LWluZGV4OjMwO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7dGV4dC1zaGFkb3c6MCAwIDFweCByZ2JhKDAsMCwwLC42NSl9Omhvc3QgLmNnLWNsb3NlOmhvdmVye29wYWNpdHk6MX06aG9zdCAuY2ctbmV4dCw6aG9zdCAuY2ctcHJldnt3aWR0aDo0MCU7aGVpZ2h0OjEwMCU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7Y3Vyc29yOnBvaW50ZXI7b3BhY2l0eTouNTt6LWluZGV4OjIwO3RyYW5zaXRpb246b3BhY2l0eSAuMXMgZWFzZS1pbi1vdXQ7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnJnYmEoMjU1LDI1NSwyNTUsMCl9Omhvc3QgLmNnLW5leHQ6aG92ZXIsOmhvc3QgLmNnLXByZXY6aG92ZXJ7b3BhY2l0eToxfTpob3N0IC5jZy1wcmV2e2xlZnQ6MDtiYWNrZ3JvdW5kOnVybChkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUJZQUFBQWlDQVlBQUFCYlh5bUFBQUFBR1hSRldIUlRiMlowZDJGeVpRQkJaRzlpWlNCSmJXRm5aVkpsWVdSNWNjbGxQQUFBQXlacFZGaDBXRTFNT21OdmJTNWhaRzlpWlM1NGJYQUFBQUFBQUR3L2VIQmhZMnRsZENCaVpXZHBiajBpNzd1L0lpQnBaRDBpVnpWTk1FMXdRMlZvYVVoNmNtVlRlazVVWTNwcll6bGtJajgrSUR4NE9uaHRjRzFsZEdFZ2VHMXNibk02ZUQwaVlXUnZZbVU2Ym5NNmJXVjBZUzhpSUhnNmVHMXdkR3M5SWtGa2IySmxJRmhOVUNCRGIzSmxJRFV1Tmkxak1UTTRJRGM1TGpFMU9UZ3lOQ3dnTWpBeE5pOHdPUzh4TkMwd01Ub3dPVG93TVNBZ0lDQWdJQ0FnSWo0Z1BISmtaanBTUkVZZ2VHMXNibk02Y21SbVBTSm9kSFJ3T2k4dmQzZDNMbmN6TG05eVp5OHhPVGs1THpBeUx6SXlMWEprWmkxemVXNTBZWGd0Ym5NaklqNGdQSEprWmpwRVpYTmpjbWx3ZEdsdmJpQnlaR1k2WVdKdmRYUTlJaUlnZUcxc2JuTTZlRzF3UFNKb2RIUndPaTh2Ym5NdVlXUnZZbVV1WTI5dEwzaGhjQzh4TGpBdklpQjRiV3h1Y3pwNGJYQk5UVDBpYUhSMGNEb3ZMMjV6TG1Ga2IySmxMbU52YlM5NFlYQXZNUzR3TDIxdEx5SWdlRzFzYm5NNmMzUlNaV1k5SW1oMGRIQTZMeTl1Y3k1aFpHOWlaUzVqYjIwdmVHRndMekV1TUM5elZIbHdaUzlTWlhOdmRYSmpaVkpsWmlNaUlIaHRjRHBEY21WaGRHOXlWRzl2YkQwaVFXUnZZbVVnVUdodmRHOXphRzl3SUVORElESXdNVGNnS0ZkcGJtUnZkM01wSWlCNGJYQk5UVHBKYm5OMFlXNWpaVWxFUFNKNGJYQXVhV2xrT2pNek1UWkNRekZFUkRnek1URXhSVGM1UVVZeFFUVXhSREk1TWtNNU9EWkNJaUI0YlhCTlRUcEViMk4xYldWdWRFbEVQU0o0YlhBdVpHbGtPak16TVRaQ1F6RkZSRGd6TVRFeFJUYzVRVVl4UVRVeFJESTVNa001T0RaQ0lqNGdQSGh0Y0UxTk9rUmxjbWwyWldSR2NtOXRJSE4wVW1WbU9tbHVjM1JoYm1ObFNVUTlJbmh0Y0M1cGFXUTZNek14TmtKRE1VSkVPRE14TVRGRk56bEJSakZCTlRGRU1qa3lRems0TmtJaUlITjBVbVZtT21SdlkzVnRaVzUwU1VROUluaHRjQzVrYVdRNk16TXhOa0pETVVORU9ETXhNVEZGTnpsQlJqRkJOVEZFTWpreVF6azROa0lpTHo0Z1BDOXlaR1k2UkdWelkzSnBjSFJwYjI0K0lEd3ZjbVJtT2xKRVJqNGdQQzk0T25odGNHMWxkR0UrSUR3L2VIQmhZMnRsZENCbGJtUTlJbklpUHo3VnJ3WktBQUFDbEVsRVFWUjQycXpXU1k4U1FSZ0dZTG9WSFBlVFhsd0NpSXdNQXJKR3RpQUJOZXA0SUdaaTRvRWZNSm9vTGplUHJuRkdmNXlKUzBoWW1xMmIvYUJ4aVE2K2xSUkpkYVVacTV2cDVFMlRMbmlvVkZkOVZaTE4raVV4SWRlTWlXMmZSVkNtdnoyRHBKQlZDazZYNlNWQkhRUkxwVktiN1hiNzgyZzBVc3JsOGpNOFcwUDIwKzlZUW4zSlpQSWh3TjZNWG9QQm9JM25HOGlLR1poRjE0QStBcXJPbUt0V3EzMUYyMTNra09nUTY5QjBPbDBCcXJGb3Q5dlYvSDcvYzdSZkVvVloxRytFZGpxZHZ0ZnJmWW4ySzhnSmthSFFvZGxzdGpJZWovc3NpaGRIMERkb3Y0YWNRbzdRbHljSm81UEpoRWMxajhmem1xSmsyaDFEN0x2MWxrVXY1bks1eHp6YWFyV01VSWN3bXMvbkNUcmdVYmZiVGRDclZ0QUFRYWZUcVE1VkZFVmRDaTBVQ2svUTB5R0xOcHROMWVsMHZxTG9hUkhVeHFQb0tZLzJLRm8wZzByMGJhNFdpOFduUUVjczJtZzBWQVBVTHJKc1pUcXBOekRaNnl4YXI5ZFZsOHRGVnRSMTBTbkZvaEpkZ25aWXVoOUlralNUWmZrblBuNUR2aU8va0wvSWprZ3RJT2hoSko3SlpGNWdkVTI0aGRERzZxcWcvUUp5d0V6bG1nL0ZTVExoRTRuRTluQTRuSEpGUnZINWZKdG85NGdPQmZ2eWp0SnhYSS9INHgrQTYzcmU2L1VVVkRDQ256ZUR6NmZiY2VRc2Nqc1dpNzAzd0ZzTTdoREJKUU44UFJxTmJtTm4wT0dhcHUwSmZvdmlZeDRQQkFMMzBlNWRDZytIdzBaNGU4L3dmci9QNDUxUUtQUmdhUnpJRmpEZGtzZWZzYmpkS241ekVSNkpSTWl3dVArM05lMktCNFBCTFZWVlIxeGQrWUsyTzJiT0ZZdndkOENIYksveC9KNlpjOFVpL0FabXhkdHF0ZHJBd2xGTHBSTFpyUy9QWWNua0VVdWlZN2hDUytnNXNvdlQ1NStRajdRUy9qWUQ4empwL1VGNnQ5R1Mrb1BlZDh6Q0xDNXpKMHRTby8vUSs4d0tMSFR3L2lmQUFNUVZTNHZIWlIyVkFBQUFBRWxGVGtTdVFtQ0MpIGNlbnRlciBsZWZ0IDIycHggbm8tcmVwZWF0fTpob3N0IC5jZy1uZXh0e3JpZ2h0OjA7YmFja2dyb3VuZDp1cmwoZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFCWUFBQUFpQ0FZQUFBQmJYeW1BQUFBQUdYUkZXSFJUYjJaMGQyRnlaUUJCWkc5aVpTQkpiV0ZuWlZKbFlXUjVjY2xsUEFBQUF5WnBWRmgwV0UxTU9tTnZiUzVoWkc5aVpTNTRiWEFBQUFBQUFEdy9lSEJoWTJ0bGRDQmlaV2RwYmowaTc3dS9JaUJwWkQwaVZ6Vk5NRTF3UTJWb2FVaDZjbVZUZWs1VVkzcHJZemxrSWo4K0lEeDRPbmh0Y0cxbGRHRWdlRzFzYm5NNmVEMGlZV1J2WW1VNmJuTTZiV1YwWVM4aUlIZzZlRzF3ZEdzOUlrRmtiMkpsSUZoTlVDQkRiM0psSURVdU5pMWpNVE00SURjNUxqRTFPVGd5TkN3Z01qQXhOaTh3T1M4eE5DMHdNVG93T1Rvd01TQWdJQ0FnSUNBZ0lqNGdQSEprWmpwU1JFWWdlRzFzYm5NNmNtUm1QU0pvZEhSd09pOHZkM2QzTG5jekxtOXlaeTh4T1RrNUx6QXlMekl5TFhKa1ppMXplVzUwWVhndGJuTWpJajRnUEhKa1pqcEVaWE5qY21sd2RHbHZiaUJ5WkdZNllXSnZkWFE5SWlJZ2VHMXNibk02ZUcxd1BTSm9kSFJ3T2k4dmJuTXVZV1J2WW1VdVkyOXRMM2hoY0M4eExqQXZJaUI0Yld4dWN6cDRiWEJOVFQwaWFIUjBjRG92TDI1ekxtRmtiMkpsTG1OdmJTOTRZWEF2TVM0d0wyMXRMeUlnZUcxc2JuTTZjM1JTWldZOUltaDBkSEE2THk5dWN5NWhaRzlpWlM1amIyMHZlR0Z3THpFdU1DOXpWSGx3WlM5U1pYTnZkWEpqWlZKbFppTWlJSGh0Y0RwRGNtVmhkRzl5Vkc5dmJEMGlRV1J2WW1VZ1VHaHZkRzl6YUc5d0lFTkRJREl3TVRjZ0tGZHBibVJ2ZDNNcElpQjRiWEJOVFRwSmJuTjBZVzVqWlVsRVBTSjRiWEF1YVdsa09qRXlOREUzTURFMVJEZ3pNVEV4UlRjNU5qTTRRVEl6UXpJMlJqYzJRamcySWlCNGJYQk5UVHBFYjJOMWJXVnVkRWxFUFNKNGJYQXVaR2xrT2pFeU5ERTNNREUyUkRnek1URXhSVGM1TmpNNFFUSXpRekkyUmpjMlFqZzJJajRnUEhodGNFMU5Pa1JsY21sMlpXUkdjbTl0SUhOMFVtVm1PbWx1YzNSaGJtTmxTVVE5SW5odGNDNXBhV1E2TVRJME1UY3dNVE5FT0RNeE1URkZOemsyTXpoQk1qTkRNalpHTnpaQ09EWWlJSE4wVW1WbU9tUnZZM1Z0Wlc1MFNVUTlJbmh0Y0M1a2FXUTZNVEkwTVRjd01UUkVPRE14TVRGRk56azJNemhCTWpORE1qWkdOelpDT0RZaUx6NGdQQzl5WkdZNlJHVnpZM0pwY0hScGIyNCtJRHd2Y21SbU9sSkVSajRnUEM5NE9uaHRjRzFsZEdFK0lEdy9lSEJoWTJ0bGRDQmxibVE5SW5JaVB6N3p2NUJLQUFBQ2wwbEVRVlI0MnJUVzIyNFNRUndHY0haYjhGVDFTbTg4QkpDaUZBRTVKcHlDQk5SRThjb1lFeTk0QUdxaTlYRFhTMCtKVmgvQ0IvRWhpRkVUNUxqQWNsZ1dqYWExYWF6ZkpETTZ1Nkx1TGpySmwyMTI0Y2QwZHVZL0k5aCtOb0VMYWJ0Y1RMY0ZDb24wYncrU1JFNGgyOGhuMnh5Tm9JdklTcmxjZnFBb1NsdVNwTGVwVktxQ2U2Y1JCLzJNWUFYZWkxd2ZqVWJTTG0zNGdYNHltYnlOK3o2ck9CbUMvY2lOZXIzK2ZwZHJ3R1hnZDhoL1l3Vm44RG0vMzcvZTYvVUdPbnlRVHFmWHJPQnNLSTRnNTcxZTc2TnV0enY4RGU0M2d3djA1UzBoeDVDTHdKL2lCV3J3eVdReXpHYXpwbkh5SVR0eUNEbEJjSS9IOHdTNFpsaFVWYldNTy9SNHA5UDVCYy9sY25meC9PdzgrQVczMnowTEgrWHorWCtEdDl0dG1jZW4weW5EQTFieDR3UjNPcDJQVzYyV3JPdjV1RkFvM0pzWEwxSzhyK3Y1TE54bVpyYjh3SnZOcG41WWxHS3hlSi9XRnJ1WkJjUlB4VXN1bDJ1OTBXaG9jQ3lxQnFrM2RMR0ppd2JnYi9UNkZmbENTcWtvaWx1Q0lHanFOR3pXZ1FVejlZUjhhUTl5QnF0eURRdEgwcTFLTlpQSlBNVHpPSEtBNG9hSHd1UHorU29vVW0wZUhZL0gwMFFpc1VFV0ZIS1VEWVZSZEJtVnI5THY5L1dvR28vSFgrSjVpWTcvUVNNdmowMDNobmIwYUN3V2U0SG5WNUdUeUdFajAwMkREZ1lERFlxZFJvMUdveHUwcDNwVStCdnFEUVFDcXpQUUNVV3Z6SU5LZWpRY0RsdEhRNkhRTGFCZEhoME9oNVpSTzBPQmFGRDhpSUw3ejgyaWJHdHlSeUtSMVQrZ2w4MmcvR1o2RGV2L0hZL0tzcXdFZzBGTEtMLzkzK1I3QzNRTTlOazhLRHRpT1dxMTJqYjJzMlhTMDFLcDlLcGFyYjdHL1RmSVIyUVQyVEY2VUJTNDJiQkVpL1VLL1NJQlB5Q2ZrQzB6S0ErejZyV1BYbTMwdExsSnI2WlEvWm1ZRFluSTFlRWRlalY5VGhiKzE4SDd1d0FEQU9HL1djbTR4K2tuQUFBQUFFbEZUa1N1UW1DQykgY2VudGVyIHJpZ2h0IDIycHggbm8tcmVwZWF0fWBdXG59KVxuZXhwb3J0IGNsYXNzIExpZ2h0Ym94Q29tcG9uZW50IHtcbiAgICBfaW5kZXg6IGFueTtcbiAgICBwcmV2SW5kZXg6IGFueTtcbiAgICBjdXJySW1hZ2VMb2FkZWQ6IGFueTsgXG4gICAgcHJldkltYWdlSGlkZTogYW55O1xuICAgIHdyYXBwZXJQcm9wOiBhbnk7XG4gICAgX2RhdGE6IGFueTtcbiAgICBjdXJyZW50SW1hZ2VJbmRleDogbnVtYmVyID0gMDtcbiAgICBzcGlubmVySGVpZ2h0OiBudW1iZXIgPSAzMDtcbiAgICBkZXNjcmlwdGlvbkhlaWdodDogbnVtYmVyID0gNDM7XG5cbiAgICBASW5wdXQoKSBkYXRhOiBhbnk7XG5cbiAgICBjbG9zZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuY2ctc2hvdycpIHNob3dMaWdodGJveDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBIb3N0QmluZGluZygnY2xhc3MuY2ctaGlkZS1jb250cm9scycpIGhpZGVDb250cm9sczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIEBIb3N0QmluZGluZygnc3R5bGUudHJhbnNpdGlvbicpIGhvc3RTdHlsZVRyYW5zaXRpb246IHN0cmluZztcbiAgICBASG9zdEJpbmRpbmcoJ3N0eWxlLmJhY2tncm91bmRDb2xvcicpIGhvc3RTdHlsZUJhY2tncm91bmRDb2xvcjogc3RyaW5nO1xuXG4gICAgQFZpZXdDaGlsZCgnY3VyckltYWdlRWxlbScpIGN1cnJJbWFnZUVsZW06IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZCgncHJldkltYWdlRWxlbScpIHByZXZJbWFnZUVsZW06IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZCgnd3JhcHBlcicpIHdyYXBwZXJFbGVtOiBFbGVtZW50UmVmO1xuXG4gICAgZ2V0IGltYWdlcygpe1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmltYWdlcztcbiAgICB9XG5cbiAgICBnZXQgY29uZmlnKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuY29uZmlnO1xuICAgIH1cblxuICAgIGdldCBpbmRleCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW1hZ2VJbmRleDtcbiAgICB9XG5cbiAgICBnZXQgY3VyckltYWdlUGF0aCgpe1xuICAgICAgICBsZXQgaW1hZ2UgPSB0aGlzLmltYWdlc1t0aGlzLmluZGV4XTtcblxuICAgICAgICBpZiAoIWltYWdlKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbWFnZS5wYXRoKXtcbiAgICAgICAgICAgIGltYWdlLmZ1bGwgPSBpbWFnZS5wYXRoO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIGdldCBwcmV2SW1hZ2VQYXRoKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1t0aGlzLnByZXZJbmRleF07XG4gICAgfVxuXG4gICAgc2V0IHByZXZJbWFnZVBhdGgodmFsdWU6IGFueSl7XG4gICAgICAgIHRoaXMuaW1hZ2VzW3RoaXMucHJldkluZGV4XSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBpc0ZpcnN0KCl7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4ID09PSAwO1xuICAgIH1cblxuICAgIGdldCBpc0xhc3QoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXggPT09ICh0aGlzLmltYWdlcy5sZW5ndGgtMSk7XG4gICAgfVxuXG4gICAgZ2V0IGxhdGVzdEltYWdlSW5kZXgoKXtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2VzLmxlbmd0aCAtIDE7XG4gICAgfVxuXG4gICAgZ2V0IGRlc2NyaXB0aW9uKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlc1t0aGlzLmluZGV4XS5kZXNjcmlwdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgY291bnRlcigpe1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50SW1hZ2VJbmRleCArIDEgKycvJysgdGhpcy5pbWFnZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzprZXlkb3duJywgWyckZXZlbnQnXSlcbiAgICBvbktleURvd24oZXZlbnQ6IGFueSkge1xuICAgICAgICBzd2l0Y2goZXZlbnQua2V5KSB7XG4gICAgICAgICAgICBjYXNlICdBcnJvd0xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMucHJldigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdFc2NhcGUnOlxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VMaWdodGJveCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcihcIm1vdXNlZW50ZXJcIiwgWyckZXZlbnQnXSlcbiAgICBvbk1vdXNlRW50ZXIoZXZlbnQ6IGFueSkge1xuICAgICAgICB0aGlzLmhpZGVDb250cm9scyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZiwgcHJpdmF0ZSByZWY6IENoYW5nZURldGVjdG9yUmVmKXtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpe1xuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRPcGFjaXR5KHRoaXMuY29uZmlnLmJhY2tncm91bmRPcGFjaXR5KTtcbiAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VJbmRleCA9IHRoaXMuY29uZmlnLmluZGV4O1xuICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0xpZ2h0Ym94ID0gdHJ1ZTtcbiAgICAgICAgfSwgMzApO1xuXG4gICAgICAgIHRoaXMuc2V0TWF4RGltZW5zaW9ucygpO1xuICAgICAgICB0aGlzLnNldEFuaW1hdGlvbkR1cmF0aW9uKCk7XG4gICAgfVxuXG4gICAgY2xvc2VMaWdodGJveCgpe1xuICAgICAgICB0aGlzLnNob3dMaWdodGJveCA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgdGhpcy5jbG9zZS5lbWl0KCdjbG9zZScpO1xuICAgICAgICAgICAvL2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSAnJztcbiAgICAgICAgfSwgdGhpcy5jb25maWcuYW5pbWF0aW9uRHVyYXRpb24pOyBcbiAgICB9XG5cbiAgICBuZXh0KCl7XG4gICAgICAgIGlmICh0aGlzLmlzTGFzdCl7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcubG9vcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VJbmRleCA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEltYWdlSW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJJbWFnZUxvYWRlZCA9ICdsb2FkaW5nJztcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJJbWFnZUxvYWRlZCA9PT0gJ2xvYWRpbmcnKXtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJJbWFnZUxvYWRlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCA1MCk7XG5cbiAgICAgICAgdGhpcy5zZXRNYXhEaW1lbnNpb25zKCk7XG4gICAgfVxuICAgIHByZXYoKXtcbiAgICAgICAgaWYgKHRoaXMuaXNGaXJzdCl7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcubG9vcCl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VJbmRleCA9IHRoaXMubGF0ZXN0SW1hZ2VJbmRleDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW1hZ2VJbmRleC0tO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJySW1hZ2VMb2FkZWQgPT09ICdsb2FkaW5nJyl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2VMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTApO1xuXG4gICAgICAgIHRoaXMuc2V0TWF4RGltZW5zaW9ucygpO1xuICAgIH1cblxuICAgIG9uSW1hZ2VMb2FkZWQoKXtcbiAgICAgICAgdGhpcy5jdXJySW1hZ2VMb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgc2V0QmFja2dyb3VuZE9wYWNpdHkob3BhY2l0eTogYW55KXtcbiAgICAgICAgdGhpcy5ob3N0U3R5bGVCYWNrZ3JvdW5kQ29sb3IgPSAncmdiYSgwLCAwLCAwLCAnK29wYWNpdHkrJyknO1xuICAgIH1cblxuICAgIHNldE1heERpbWVuc2lvbnMoKXtcbiAgICAgICAgaWYgKHRoaXMuZGVzY3JpcHRpb24pe1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyRWxlbS5uYXRpdmVFbGVtZW50LnN0eWxlLmhlaWdodCA9ICdjYWxjKDEwMCUgLSAnICsgKHRoaXMuZGVzY3JpcHRpb25IZWlnaHQgKiAyKSArICdweCknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cmFwcGVyRWxlbS5uYXRpdmVFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jdXJySW1hZ2VFbGVtLm5hdGl2ZUVsZW1lbnQuc3R5bGUubWF4SGVpZ2h0ID0gJ2NhbGMoJyArIHRoaXMuY29uZmlnLmxpZ2h0Ym94TWF4SGVpZ2h0ICsgJyknO1xuICAgICAgICB0aGlzLmN1cnJJbWFnZUVsZW0ubmF0aXZlRWxlbWVudC5zdHlsZS5tYXhXaWR0aCA9IHRoaXMuY29uZmlnLmxpZ2h0Ym94TWF4V2lkdGg7XG4gICAgfVxuXG4gICAgc2V0QW5pbWF0aW9uRHVyYXRpb24oKXtcbiAgICAgICAgdGhpcy5ob3N0U3R5bGVUcmFuc2l0aW9uID0gJ29wYWNpdHkgJyt0aGlzLmNvbmZpZy5hbmltYXRpb25EdXJhdGlvbisnbXMnO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgSG9zdEJpbmRpbmcsIEhvc3RMaXN0ZW5lciwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICdjcnlzdGFsLWxpZ2h0Ym94LW1vYmlsZScsXG5cdHRlbXBsYXRlOiBgPGRpdiBjbGFzcz1cImNnLWJhY2tcIiAoY2xpY2spPVwiY2xvc2VMaWdodGJveCgpXCI+PC9kaXY+XG5cbjxkaXYgXG5cdGNsYXNzPVwiY2ctd3JhcHBlclwiIFxuXHRbY2xhc3MuY2ctbGFuZHNjYXBlXT1cImxhbmRzY2FwZU1vZGVcIlxuXHRwaW5jaCBbaXNMYXN0XT1cImlzTGFzdFwiIFtpc0ZpcnN0XT1cImlzRmlyc3RcIiAoZXZlbnRzKT1cImhhbmRsZVBpbmNoRXZlbnRzKCRldmVudClcIlxuXHQjd3JhcHBlcj5cblx0PGRpdiBjbGFzcz1cImNnLWltYWdlLXdyYXAgY2ctcHJldi1pbWFnZVwiPlxuXHRcdDxpbWcgXG5cdFx0XHQqbmdJZj1cInByZXZJbWFnZVBhdGhcIlxuXHRcdFx0W3NyY109XCJwcmV2SW1hZ2VQYXRoLmZ1bGxcIiBcblx0XHRcdFtjbGFzcy5jZy1oaWRlXT1cIiFwcmV2SW1hZ2UubG9hZGVkXCJcblx0XHRcdChsb2FkKT1cIm9uSW1hZ2VMb2FkZWQoJ3ByZXZJbWFnZScpXCJcblx0XHQvPlxuXHRcdDxkaXYgY2xhc3M9XCJjZy1zcGlubmVyXCIgKm5nSWY9XCIhcHJldkltYWdlLmxvYWRlZCAmJiBwcmV2SW1hZ2VQYXRoXCI+PC9kaXY+XG5cdDwvZGl2PlxuXG5cdDxkaXYgY2xhc3M9XCJjZy1pbWFnZS13cmFwIGNnLWN1cnItaW1hZ2VcIiAqbmdJZj1cImN1cnJJbWFnZS5zaG93XCI+XG5cdFx0PGltZyBcblx0XHRcdFtzcmNdPVwiY3VyckltYWdlUGF0aD8uZnVsbFwiIFxuXHRcdFx0W2NsYXNzLmNnLWhpZGVdPVwiIWN1cnJJbWFnZS5sb2FkZWRcIiBcblx0XHRcdChsb2FkKT1cIm9uSW1hZ2VMb2FkZWQoJ2N1cnJJbWFnZScpXCJcblx0XHQvPlxuXHRcdDxkaXYgY2xhc3M9XCJjZy1zcGlubmVyXCIgKm5nSWY9XCIhY3VyckltYWdlLmxvYWRlZFwiPjwvZGl2PlxuXHQ8L2Rpdj5cblx0XG5cdDxkaXYgY2xhc3M9XCJjZy1pbWFnZS13cmFwIGNnLW5leHQtaW1hZ2VcIj5cblx0XHQ8aW1nIFxuXHRcdFx0Km5nSWY9XCJuZXh0SW1hZ2VQYXRoXCJcblx0XHRcdFtzcmNdPVwibmV4dEltYWdlUGF0aC5mdWxsXCIgXG5cdFx0XHRbY2xhc3MuY2ctaGlkZV09XCIhbmV4dEltYWdlLmxvYWRlZFwiIFxuXHRcdFx0KGxvYWQpPVwib25JbWFnZUxvYWRlZCgnbmV4dEltYWdlJylcIlxuXHRcdC8+XG5cdFx0PGRpdiBjbGFzcz1cImNnLXNwaW5uZXJcIiAqbmdJZj1cIiFuZXh0SW1hZ2UubG9hZGVkICYmIG5leHRJbWFnZVBhdGhcIj48L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5gLFxuICAgIHN0eWxlczogW2AuX2NnLXNwaW5uZXIsLl9jZy1zcGlubmVyOmFmdGVye2JvcmRlci1yYWRpdXM6NTAlO3dpZHRoOjM2cHg7aGVpZ2h0OjM2cHh9Ll9jZy1zcGlubmVye21hcmdpbjowIGF1dG87Zm9udC1zaXplOjEwcHg7cG9zaXRpb246cmVsYXRpdmU7dGV4dC1pbmRlbnQ6LTk5OTllbTtib3JkZXItdG9wOjRweCBzb2xpZCByZ2JhKDI1NSwyNTUsMjU1LC4yKTtib3JkZXItcmlnaHQ6NHB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpO2JvcmRlci1ib3R0b206NHB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsLjIpO2JvcmRlci1sZWZ0OjRweCBzb2xpZCAjZmZmOy13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7dHJhbnNmb3JtOnRyYW5zbGF0ZVooMCk7LXdlYmtpdC1hbmltYXRpb246LjlzIGxpbmVhciBpbmZpbml0ZSBsb2FkODthbmltYXRpb246LjlzIGxpbmVhciBpbmZpbml0ZSBsb2FkOH1ALXdlYmtpdC1rZXlmcmFtZXMgbG9hZDh7MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fUBrZXlmcmFtZXMgbG9hZDh7MCV7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDApO3RyYW5zZm9ybTpyb3RhdGUoMCl9MTAwJXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTt0cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5jZy1zcGlubmVyLC5jZy1zcGlubmVyOmFmdGVyLC5jZy1zcGlubmVyOmJlZm9yZXtib3JkZXItcmFkaXVzOjUwJTt3aWR0aDoxMHB4O2hlaWdodDoxMHB4Oy13ZWJraXQtYW5pbWF0aW9uOjEuNXMgZWFzZS1pbi1vdXQgaW5maW5pdGUgbG9hZDc7YW5pbWF0aW9uOjEuNXMgZWFzZS1pbi1vdXQgaW5maW5pdGUgbG9hZDd9LmNnLXNwaW5uZXJ7Y29sb3I6I2ZmZjtmb250LXNpemU6MTBweDttYXJnaW46MCBhdXRvIDIwcHg7cG9zaXRpb246cmVsYXRpdmU7dGV4dC1pbmRlbnQ6LTk5OTllbTstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApO3RyYW5zZm9ybTp0cmFuc2xhdGVaKDApOy13ZWJraXQtYW5pbWF0aW9uLWRlbGF5Oi0uMTZzO2FuaW1hdGlvbi1kZWxheTotLjE2c30uY2ctc3Bpbm5lcjphZnRlciwuY2ctc3Bpbm5lcjpiZWZvcmV7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlO3RvcDowfS5jZy1zcGlubmVyOmJlZm9yZXtsZWZ0Oi0zZW07LXdlYmtpdC1hbmltYXRpb24tZGVsYXk6LS4zMnM7YW5pbWF0aW9uLWRlbGF5Oi0uMzJzfS5jZy1zcGlubmVyOmFmdGVye2xlZnQ6M2VtfUAtd2Via2l0LWtleWZyYW1lcyBsb2FkN3swJSwxMDAlLDgwJXtib3gtc2hhZG93OjAgMi41ZW0gMCAtMS4zZW19NDAle2JveC1zaGFkb3c6MCAyLjVlbSAwIDB9fUBrZXlmcmFtZXMgbG9hZDd7MCUsMTAwJSw4MCV7Ym94LXNoYWRvdzowIDEwcHggMCAtMS4zZW19NDAle2JveC1zaGFkb3c6MCAxMHB4IDAgMH19Omhvc3QoLmNnLXNob3cpe29wYWNpdHk6MX06aG9zdCguY2ctaGlkZS1jb250cm9scykgLmNnLWNsb3NlLDpob3N0KC5jZy1oaWRlLWNvbnRyb2xzKSAuY2ctbmV4dCw6aG9zdCguY2ctaGlkZS1jb250cm9scykgLmNnLXByZXZ7b3BhY2l0eTowfTpob3N0e29wYWNpdHk6MDtwb3NpdGlvbjpmaXhlZDt0b3A6MDtsZWZ0OjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtjb2xvcjojZmZmOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTt0cmFuc2l0aW9uOm9wYWNpdHkgLjJzIGN1YmljLWJlemllciguNjQ1LC4wNDUsLjM1NSwxKTt6LWluZGV4OjEwMDAwO2JhY2tncm91bmQtY29sb3I6IzAwMH06aG9zdCAuY2ctYmFja3tiYWNrZ3JvdW5kOnVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbCwlM0MlM0Z4bWwgdmVyc2lvbiUzRCUyMjEuMCUyMiBlbmNvZGluZyUzRCUyMlVURi04JTIyJTNGJTNFJTNDc3ZnIHdpZHRoJTNEJTIyMTBweCUyMiBoZWlnaHQlM0QlMjIxNnB4JTIyIHZpZXdCb3glM0QlMjIwIDAgMTAgMTYlMjIgdmVyc2lvbiUzRCUyMjEuMSUyMiB4bWxucyUzRCUyMmh0dHAlM0ElMkYlMkZ3d3cudzMub3JnJTJGMjAwMCUyRnN2ZyUyMiB4bWxucyUzQXhsaW5rJTNEJTIyaHR0cCUzQSUyRiUyRnd3dy53My5vcmclMkYxOTk5JTJGeGxpbmslMjIlM0UgICAgJTNDIS0tIEdlbmVyYXRvciUzQSBza2V0Y2h0b29sIDQwLjIgKDMzODI2KSAtIGh0dHAlM0ElMkYlMkZ3d3cuYm9oZW1pYW5jb2RpbmcuY29tJTJGc2tldGNoIC0tJTNFICAgICUzQ3RpdGxlJTNFMTFBNzM4NzItNUVCRi00NkY2LUI3QzUtMTQyRDQ3QTMzMzM5JTNDJTJGdGl0bGUlM0UgICAgJTNDZGVzYyUzRUNyZWF0ZWQgd2l0aCBza2V0Y2h0b29sLiUzQyUyRmRlc2MlM0UgICAgJTNDZGVmcyUzRSUzQyUyRmRlZnMlM0UgICAgJTNDZyBpZCUzRCUyMkludGVyZmFjZS0xMjgwLXgtODAwJTIyIHN0cm9rZSUzRCUyMm5vbmUlMjIgc3Ryb2tlLXdpZHRoJTNEJTIyMSUyMiBmaWxsJTNEJTIybm9uZSUyMiBmaWxsLXJ1bGUlM0QlMjJldmVub2RkJTIyJTNFICAgICAgICAlM0NnIGlkJTNEJTIyTG90X3ZpZXdwYWdlX29wZW4lMjIgdHJhbnNmb3JtJTNEJTIydHJhbnNsYXRlKC0xMTEuMDAwMDAwJTJDIC0yOTYuMDAwMDAwKSUyMiBmaWxsJTNEJTIyJTIzRkZGRkZGJTIyJTNFICAgICAgICAgICAgJTNDZyBpZCUzRCUyMmFycm93cy0xNnB4LTFfbWluaW1hbC1sZWZ0JTIyIHRyYW5zZm9ybSUzRCUyMnRyYW5zbGF0ZSgxMTEuMDAwMDAwJTJDIDI5Ni4wMDAwMDApJTIyJTNFICAgICAgICAgICAgICAgICUzQ3BvbHlnb24gaWQlM0QlMjJTaGFwZSUyMiBwb2ludHMlM0QlMjI4LjEgMTUuNyAwLjQgOCA4LjEgMC4zIDkuNiAxLjcgMy4zIDggOS42IDE0LjMlMjIlM0UlM0MlMkZwb2x5Z29uJTNFICAgICAgICAgICAgJTNDJTJGZyUzRSAgICAgICAgJTNDJTJGZyUzRSAgICAlM0MlMkZnJTNFJTNDJTJGc3ZnJTNFXCIpIGNlbnRlci8xMnB4IG5vLXJlcGVhdDt3aWR0aDo0MHB4O2hlaWdodDo0MHB4O29wYWNpdHk6Ljk7cG9zaXRpb246Zml4ZWQ7dG9wOjA7bGVmdDowO3otaW5kZXg6MTAwMH06aG9zdCAuY2ctd3JhcHBlci5jZy1sYW5kc2NhcGUgLmNnLWltYWdlLXdyYXAgaW1ne2hlaWdodDoxMDAlfTpob3N0IC5jZy13cmFwcGVye3RyYW5zaXRpb246bm9uZTt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO2Rpc3BsYXk6YmxvY2t9Omhvc3QgLmNnLXdyYXBwZXIgLmNnLWltYWdlLXdyYXAuY2ctcHJldi1pbWFnZXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGUzZChjYWxjKC0xMDAlIC0gOHB4KSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZChjYWxjKC0xMDAlIC0gOHB4KSwwLDApfTpob3N0IC5jZy13cmFwcGVyIC5jZy1pbWFnZS13cmFwLmNnLW5leHQtaW1hZ2V7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlM2QoY2FsYygxMDAlICsgOHB4KSwwLDApO3RyYW5zZm9ybTp0cmFuc2xhdGUzZChjYWxjKDEwMCUgKyA4cHgpLDAsMCl9Omhvc3QgLmNnLXdyYXBwZXIgLmNnLWltYWdlLXdyYXB7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0ZXh0LWFsaWduOmNlbnRlcjtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2p1c3RpZnktY29udGVudDpjZW50ZXJ9Omhvc3QgLmNnLXdyYXBwZXIgLmNnLWltYWdlLXdyYXAgaW1ne21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MTAwJTt3aWR0aDphdXRvO2hlaWdodDphdXRvO3Bvc2l0aW9uOnJlbGF0aXZlfTpob3N0IC5jZy13cmFwcGVyIC5jZy1pbWFnZS13cmFwIGltZy5jZy1oaWRle2Rpc3BsYXk6bm9uZX1gXVxufSlcbmV4cG9ydCBjbGFzcyBMaWdodGJveE1vYmlsZUNvbXBvbmVudCB7IFxuXHRfaW5kZXg6IGFueTtcbiAgICBwcmV2SW5kZXg6IGFueTtcbiAgICBuZXh0SW5kZXg6IGFueTtcblxuICAgIGN1cnJJbWFnZSA9IHtcbiAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgIGxvYWRlZDogZmFsc2UsXG4gICAgICAgIGluZGV4OiAwXG4gICAgfTsgXG5cbiAgICBwcmV2SW1hZ2UgPSB7XG4gICAgICAgIGxvYWRlZDogZmFsc2VcbiAgICB9OyBcblxuICAgIG5leHRJbWFnZSA9IHtcbiAgICAgICAgbG9hZGVkOiBmYWxzZVxuICAgIH07IFxuXG4gICAgd3JhcHBlclByb3A6IGFueTtcbiAgICBsYW5kc2NhcGVNb2RlOiBhbnk7XG5cblx0Y2xvc2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBASW5wdXQoKSBkYXRhOiBhbnk7XG5cbiAgICBAVmlld0NoaWxkKCd3cmFwcGVyJykgd3JhcHBlckVsOiBFbGVtZW50UmVmO1xuXG4gICAgZ2V0IGltYWdlcygpe1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmltYWdlcztcbiAgICB9XG5cbiAgICBnZXQgY29uZmlnKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuY29uZmlnO1xuICAgIH1cblxuICAgIGdldCBpbmRleCgpe1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJySW1hZ2UuaW5kZXg7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJJbWFnZVBhdGgoKXtcbiAgICAgICAgbGV0IGltYWdlID0gdGhpcy5pbWFnZXNbdGhpcy5pbmRleF07XG5cbiAgICAgICAgaWYgKCFpbWFnZSl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW1hZ2UucGF0aCl7XG4gICAgICAgICAgICBpbWFnZS5mdWxsID0gaW1hZ2UucGF0aDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH1cblxuICAgIGdldCBwcmV2SW1hZ2VQYXRoKCl7XG4gICAgICAgIGlmICh0aGlzLnByZXZJbmRleCA8IDAgJiYgdGhpcy5jb25maWcubG9vcCl7XG4gICAgICAgICAgICB0aGlzLnByZXZJbmRleCA9IHRoaXMubGF0ZXN0SW1hZ2VJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpbWFnZSA9IHRoaXMuaW1hZ2VzW3RoaXMucHJldkluZGV4XTtcblxuICAgICAgICBpZiAoaW1hZ2UgJiYgaW1hZ2UucGF0aCl7XG4gICAgICAgICAgICBpbWFnZS5mdWxsID0gaW1hZ2UucGF0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW1hZ2U7XG4gICAgfVxuXG4gICAgZ2V0IG5leHRJbWFnZVBhdGgoKXtcbiAgICAgICAgbGV0IGltYWdlID0gdGhpcy5pbWFnZXNbdGhpcy5uZXh0SW5kZXhdO1xuXG4gICAgICAgIGlmIChpbWFnZSAmJiBpbWFnZS5wYXRoKXtcbiAgICAgICAgICAgIGltYWdlLmZ1bGwgPSBpbWFnZS5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbWFnZTtcbiAgICB9XG5cbiAgICBnZXQgaXNGaXJzdCgpe1xuICAgICAgICBpZiAodGhpcy5jb25maWcubG9vcCl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgXHQgICAgcmV0dXJuIHRoaXMuaW5kZXggPT09IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgaXNMYXN0KCl7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5sb29wKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmluZGV4ID09PSB0aGlzLmxhdGVzdEltYWdlSW5kZXg7XG4gICAgICAgIH0gICAgICAgIFxuICAgIH1cblxuICAgIGdldCBsYXRlc3RJbWFnZUluZGV4KCl7XG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlcy5sZW5ndGggLSAxO1xuICAgIH1cblxuICAgIGdldCBpc0xhbmRzY2FwZSgpe1xuICAgICAgICByZXR1cm4gd2luZG93LmlubmVyV2lkdGggPiB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgfVxuXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5jZy1zaG93JykgbGlnaHRib3hTaG93bjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScsIFsnJGV2ZW50J10pXG4gICAgb25XaW5kb3dSZXNpemUoZXZlbnQ6IGFueSkge1xuICAgICAgICB0aGlzLmxhbmRzY2FwZU1vZGUgPSB0aGlzLmlzTGFuZHNjYXBlO1xuICAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlZjogQ2hhbmdlRGV0ZWN0b3JSZWYpe1xuICAgIH1cblxuICAgIG5nT25Jbml0KCl7XG4gICAgICAgIHRoaXMuY3VyckltYWdlLmluZGV4ID0gdGhpcy5jb25maWcuaW5kZXg7XG4gICAgICAgIHRoaXMucHJldkluZGV4ID0gdGhpcy5jdXJySW1hZ2UuaW5kZXgtMTtcbiAgICAgICAgdGhpcy5uZXh0SW5kZXggPSB0aGlzLmN1cnJJbWFnZS5pbmRleCsxO1xuXG4gICAgICAgIHRoaXMuc2hvd0xpZ2h0Ym94KCk7XG4gICAgfVxuXG4gICAgc2hvd0xpZ2h0Ym94KCl7XG4gICAgICAgIHRoaXMuY3VyckltYWdlLnNob3cgPSB0cnVlO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgdGhpcy5saWdodGJveFNob3duID0gdHJ1ZTtcbiAgICAgICAgfSwgMzApO1xuICAgIH1cblxuXHRjbG9zZUxpZ2h0Ym94KCl7XG5cdFx0dGhpcy5saWdodGJveFNob3duID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICB0aGlzLmNsb3NlLmVtaXQodHJ1ZSk7XG4gICAgICAgIH0sIDIwMCk7IFxuXHR9XG5cbiAgICBzbGlkZShldmVudDogYW55KXtcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnbmV4dCcpe1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodGhpcy5pc0xhc3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyckltYWdlLmluZGV4Kys7XG4gICAgICAgICAgICAgICAgfSwgMjAwKTsgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09PSB0aGlzLmxhdGVzdEltYWdlSW5kZXgpe1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJJbWFnZS5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgfSwgMjAwKTsgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTbGlkZSgnbmV4dCcpO1xuICAgICAgICAgICAgfSwgMzAwKTsgXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnQgPT09ICdwcmV2Jyl7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzRmlyc3Qpe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VyckltYWdlLmluZGV4LS07XG4gICAgICAgICAgICAgICAgfSwgMjAwKTsgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmluZGV4ID09PSAwKXtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2UuaW5kZXggPSB0aGlzLmxhdGVzdEltYWdlSW5kZXg7XG4gICAgICAgICAgICAgICAgfSwgMjAwKTsgXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJTbGlkZSgncHJldicpO1xuICAgICAgICAgICAgfSwgMzAwKTsgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZnRlclNsaWRlKGV2ZW50VHlwZTogYW55KXtcbiAgICAgICAgdGhpcy5jdXJySW1hZ2Uuc2hvdyA9IHRydWU7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gdGhpcy5sYXRlc3RJbWFnZUluZGV4ICYmIHRoaXMuY29uZmlnLmxvb3Ape1xuICAgICAgICAgICAgdGhpcy5uZXh0SW5kZXggPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5uZXh0SW5kZXggPSB0aGlzLmluZGV4KzE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gMCAmJiB0aGlzLmNvbmZpZy5sb29wKXtcbiAgICAgICAgICAgIHRoaXMucHJldkluZGV4ID0gdGhpcy5sYXRlc3RJbWFnZUluZGV4O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wcmV2SW5kZXggPSB0aGlzLmluZGV4LTE7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSAncHJldicpe1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMucHJldkltYWdlLmxvYWRlZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2UubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2SW1hZ2UubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VyckltYWdlLmxvYWRlZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0SW1hZ2UubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRUeXBlID09PSAnbmV4dCcpe1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMubmV4dEltYWdlLmxvYWRlZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJySW1hZ2UubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0SW1hZ2UubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuY3VyckltYWdlLmxvYWRlZCl7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2SW1hZ2UubG9hZGVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlZmF1bHRXcmFwcGVyUG9zaXRpb24oKTtcbiAgICAgICAgdGhpcy5yZWYuZGV0ZWN0Q2hhbmdlcygpO1xuICAgIH1cblxuICAgIG9uSW1hZ2VMb2FkZWQoZWxlbTogYW55KXtcbiAgICAgICAgdGhpc1tlbGVtXS5sb2FkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlZi5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlUGluY2hFdmVudHMoJGV2ZW50KXtcbiAgICAgICAgaWYgKCRldmVudCA9PT0gJ3ByZXYnKXtcbiAgICAgICAgICAgIHRoaXMuc2xpZGUoJ3ByZXYnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJGV2ZW50ID09PSAnbmV4dCcpe1xuICAgICAgICAgICAgdGhpcy5zbGlkZSgnbmV4dCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVmYXVsdFdyYXBwZXJQb3NpdGlvbigpe1xuICAgICAgICBsZXQgZWxlbSA9IHRoaXMud3JhcHBlckVsLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGVsZW0uc3R5bGUudHJhbnNpdGlvbiA9ICdhbGwgMG1zJztcbiAgICAgICAgZWxlbS5zdHlsZS50cmFuc2Zvcm0gPSAnbWF0cml4KDEsIDAsIDAsIDEsIDAsIDApJztcbiAgICAgICAgZWxlbS5zdHlsZS53ZWJraXRUcmFuc2Zvcm0gPSAnbWF0cml4KDEsIDAsIDAsIDEsIDAsIDApJztcbiAgICB9XG59IiwiZXhwb3J0IGNvbnN0IGRlZmF1bHRDb25maWcgPSB7XG5cdG1hc29ucnk6IHRydWUsXG5cdG1hc29ucnlNYXhIZWlnaHQ6IDIwMCxcblx0bWFzb25yeUd1dHRlcjogNCxcblx0bG9vcDogZmFsc2UsXG5cdGluZGV4OiAwLFxuXHRiYWNrZ3JvdW5kT3BhY2l0eTogMC44NSxcblx0Y291bnRlcjogZmFsc2UsXG5cdGxpZ2h0Ym94TWF4SGVpZ2h0OiBcIjEwMCVcIixcblx0bGlnaHRib3hNYXhXaWR0aDogXCIxMDAlXCIsXG5cdGFuaW1hdGlvbkR1cmF0aW9uOiAxMDBcbn0iLCJpbXBvcnQge1xuICAgIEluamVjdGFibGUsXG4gICAgSW5qZWN0b3IsXG4gICAgQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyLFxuICAgIEVtYmVkZGVkVmlld1JlZixcbiAgICBBcHBsaWNhdGlvblJlZixcbiAgICBDb21wb25lbnRSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IExpZ2h0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9saWdodGJveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGlnaHRib3hNb2JpbGVDb21wb25lbnQgfSBmcm9tICcuL2xpZ2h0Ym94LW1vYmlsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgZGVmYXVsdENvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcblxuZXhwb3J0IGludGVyZmFjZSBBZENvbXBvbmVudCB7XG4gIGRhdGE6IGFueTtcbiAgY2xvc2U6IGFueTtcbn1cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENyeXN0YWxMaWdodGJveCB7XG5cbiAgICBnZXQgaXNNb2JpbGUoKSB7XG4gICAgICAgIHZhciBjaGVjayA9IGZhbHNlO1xuICAgICAgICAoZnVuY3Rpb24oYSl7aWYoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWluby9pLnRlc3QoYSl8fC8xMjA3fDYzMTB8NjU5MHwzZ3NvfDR0aHB8NTBbMS02XWl8Nzcwc3w4MDJzfGEgd2F8YWJhY3xhYyhlcnxvb3xzXFwtKXxhaShrb3xybil8YWwoYXZ8Y2F8Y28pfGFtb2l8YW4oZXh8bnl8eXcpfGFwdHV8YXIoY2h8Z28pfGFzKHRlfHVzKXxhdHR3fGF1KGRpfFxcLW18ciB8cyApfGF2YW58YmUoY2t8bGx8bnEpfGJpKGxifHJkKXxibChhY3xheil8YnIoZXx2KXd8YnVtYnxid1xcLShufHUpfGM1NVxcL3xjYXBpfGNjd2F8Y2RtXFwtfGNlbGx8Y2h0bXxjbGRjfGNtZFxcLXxjbyhtcHxuZCl8Y3Jhd3xkYShpdHxsbHxuZyl8ZGJ0ZXxkY1xcLXN8ZGV2aXxkaWNhfGRtb2J8ZG8oY3xwKW98ZHMoMTJ8XFwtZCl8ZWwoNDl8YWkpfGVtKGwyfHVsKXxlcihpY3xrMCl8ZXNsOHxleihbNC03XTB8b3N8d2F8emUpfGZldGN8Zmx5KFxcLXxfKXxnMSB1fGc1NjB8Z2VuZXxnZlxcLTV8Z1xcLW1vfGdvKFxcLnd8b2QpfGdyKGFkfHVuKXxoYWllfGhjaXR8aGRcXC0obXxwfHQpfGhlaVxcLXxoaShwdHx0YSl8aHAoIGl8aXApfGhzXFwtY3xodChjKFxcLXwgfF98YXxnfHB8c3x0KXx0cCl8aHUoYXd8dGMpfGlcXC0oMjB8Z298bWEpfGkyMzB8aWFjKCB8XFwtfFxcLyl8aWJyb3xpZGVhfGlnMDF8aWtvbXxpbTFrfGlubm98aXBhcXxpcmlzfGphKHR8dilhfGpicm98amVtdXxqaWdzfGtkZGl8a2VqaXxrZ3QoIHxcXC8pfGtsb258a3B0IHxrd2NcXC18a3lvKGN8ayl8bGUobm98eGkpfGxnKCBnfFxcLyhrfGx8dSl8NTB8NTR8XFwtW2Etd10pfGxpYnd8bHlueHxtMVxcLXd8bTNnYXxtNTBcXC98bWEodGV8dWl8eG8pfG1jKDAxfDIxfGNhKXxtXFwtY3J8bWUocmN8cmkpfG1pKG84fG9hfHRzKXxtbWVmfG1vKDAxfDAyfGJpfGRlfGRvfHQoXFwtfCB8b3x2KXx6eil8bXQoNTB8cDF8diApfG13YnB8bXl3YXxuMTBbMC0yXXxuMjBbMi0zXXxuMzAoMHwyKXxuNTAoMHwyfDUpfG43KDAoMHwxKXwxMCl8bmUoKGN8bSlcXC18b258dGZ8d2Z8d2d8d3QpfG5vayg2fGkpfG56cGh8bzJpbXxvcCh0aXx3dil8b3Jhbnxvd2cxfHA4MDB8cGFuKGF8ZHx0KXxwZHhnfHBnKDEzfFxcLShbMS04XXxjKSl8cGhpbHxwaXJlfHBsKGF5fHVjKXxwblxcLTJ8cG8oY2t8cnR8c2UpfHByb3h8cHNpb3xwdFxcLWd8cWFcXC1hfHFjKDA3fDEyfDIxfDMyfDYwfFxcLVsyLTddfGlcXC0pfHF0ZWt8cjM4MHxyNjAwfHJha3N8cmltOXxybyh2ZXx6byl8czU1XFwvfHNhKGdlfG1hfG1tfG1zfG55fHZhKXxzYygwMXxoXFwtfG9vfHBcXC0pfHNka1xcL3xzZShjKFxcLXwwfDEpfDQ3fG1jfG5kfHJpKXxzZ2hcXC18c2hhcnxzaWUoXFwtfG0pfHNrXFwtMHxzbCg0NXxpZCl8c20oYWx8YXJ8YjN8aXR8dDUpfHNvKGZ0fG55KXxzcCgwMXxoXFwtfHZcXC18diApfHN5KDAxfG1iKXx0MigxOHw1MCl8dDYoMDB8MTB8MTgpfHRhKGd0fGxrKXx0Y2xcXC18dGRnXFwtfHRlbChpfG0pfHRpbVxcLXx0XFwtbW98dG8ocGx8c2gpfHRzKDcwfG1cXC18bTN8bTUpfHR4XFwtOXx1cChcXC5ifGcxfHNpKXx1dHN0fHY0MDB8djc1MHx2ZXJpfHZpKHJnfHRlKXx2ayg0MHw1WzAtM118XFwtdil8dm00MHx2b2RhfHZ1bGN8dngoNTJ8NTN8NjB8NjF8NzB8ODB8ODF8ODN8ODV8OTgpfHczYyhcXC18ICl8d2ViY3x3aGl0fHdpKGcgfG5jfG53KXx3bWxifHdvbnV8eDcwMHx5YXNcXC18eW91cnx6ZXRvfHp0ZVxcLS9pLnRlc3QoYS5zdWJzdHIoMCw0KSkpIGNoZWNrID0gdHJ1ZTt9KShuYXZpZ2F0b3IudXNlckFnZW50fHxuYXZpZ2F0b3IudmVuZG9yKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH07XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcblx0XHRwcml2YXRlIGFwcFJlZjogQXBwbGljYXRpb25SZWYsXG5cdFx0cHJpdmF0ZSBpbmplY3RvcjogSW5qZWN0b3Jcblx0KSB7IH1cbiBcblx0YXBwZW5kQ29tcG9uZW50VG9Cb2R5KGNvbXBvbmVudDogYW55LCBkYXRhOiBhbnkpIHtcdFx0XG5cdFx0Y29uc3QgY29tcG9uZW50UmVmID0gdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXJcblx0XHRcdC5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShjb21wb25lbnQpXG5cdFx0XHQuY3JlYXRlKHRoaXMuaW5qZWN0b3IpO1xuXG5cdFx0KDxBZENvbXBvbmVudD5jb21wb25lbnRSZWYuaW5zdGFuY2UpLmRhdGEgPSBkYXRhO1xuXHRcdHRoaXMuYXBwUmVmLmF0dGFjaFZpZXcoY29tcG9uZW50UmVmLmhvc3RWaWV3KTtcblx0XHRjb25zdCBkb21FbGVtID0gKGNvbXBvbmVudFJlZi5ob3N0VmlldyBhcyBFbWJlZGRlZFZpZXdSZWY8YW55Pikucm9vdE5vZGVzWzBdIGFzIEhUTUxFbGVtZW50O1xuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZG9tRWxlbSk7XG5cdFx0XG4gICAgICAgICg8QWRDb21wb25lbnQ+Y29tcG9uZW50UmVmLmluc3RhbmNlKS5jbG9zZS5zdWJzY3JpYmUoKCkgPT4ge1xuXHRcdFx0dGhpcy5hcHBSZWYuZGV0YWNoVmlldyhjb21wb25lbnRSZWYuaG9zdFZpZXcpO1xuXHRcdFx0Y29tcG9uZW50UmVmLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG5cdH1cblxuXHRvcGVuKGltYWdlczogYW55LCBjb25maWc6IGFueSA9IHt9KXtcblx0XHRjb25maWcgPSB0aGlzLmFwcGx5Q29uZmlnRGVmYXVsdHMoZGVmYXVsdENvbmZpZywgY29uZmlnKTtcblx0XHRsZXQgZGF0YSA9IHtcblx0XHRcdGltYWdlcywgXG5cdFx0XHRjb25maWdcblx0XHR9O1xuICAgICAgICBsZXQgY29tcG9uZW50ID0gdGhpcy5nZXRMaWdodGJveENvbXBvbmVudCgpO1xuICAgICAgICBcblx0XHR0aGlzLmFwcGVuZENvbXBvbmVudFRvQm9keShjb21wb25lbnQsIGRhdGEpO1xuXHR9XG5cblx0Z2V0TGlnaHRib3hDb21wb25lbnQoKXtcblx0XHRyZXR1cm4gIXRoaXMuaXNNb2JpbGUgPyBMaWdodGJveENvbXBvbmVudCA6IExpZ2h0Ym94TW9iaWxlQ29tcG9uZW50O1xuXHR9XG5cblx0YXBwbHlDb25maWdEZWZhdWx0cyhkZWZhdWx0Q29uZmlnLCBjb25maWcpe1xuXHRcdGlmICghY29uZmlnLmluZGV4KXsgXG5cdFx0XHRjb25maWcuaW5kZXggPSAwO1xuXHRcdH1cblx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbihkZWZhdWx0Q29uZmlnLCBjb25maWcpO1xuXHR9XG59IiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBFbGVtZW50UmVmLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENyeXN0YWxMaWdodGJveCB9IGZyb20nLi9kb20uc2VydmljZSdcblxuQENvbXBvbmVudCh7XG5cdHNlbGVjdG9yOiAnY3J5c3RhbC1nYWxsZXJ5JywgXG5cdHRlbXBsYXRlOiBgPGRpdiAjY29udGVudFdyYXBwZXIgW2hpZGRlbl09XCJpc05nQ29udGVudFwiPlxuICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbjwvZGl2PlxuXG48bWFzb25yeS1sYXlvdXQgXG4gICAgY2xhc3M9XCJjZy13cmFwcGVyXCJcbiAgICAqbmdJZj1cIiFpc05nQ29udGVudFwiIFxuXG4gICAgW21heC1oZWlnaHRdPVwibWFzb25yeU1heEhlaWdodFwiIFxuICAgIFtndXR0ZXJdPVwibWFzb25yeUd1dHRlclwiXG4gICAgW21hc29ucnldPVwibWFzb25yeVN0YXRlXCJcbiAgICBbY2xhc3MtbmFtZV09XCInY2ctaW1hZ2UnXCJcbiAgICBbaW1hZ2VzXT1cImltYWdlc1wiXG4gICAgKGV2ZW50cyk9XCJoYW5kbGVNYXNvbnJ5TGF5b3V0RXZlbnRzKCRldmVudClcIj48L21hc29ucnktbGF5b3V0PmAsXG4gICAgc3R5bGVzOiBbYDpob3N0e2Rpc3BsYXk6YmxvY2s7d2lkdGg6MTAwJX06aG9zdCAuY2ctd3JhcHBlcntkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCU7b3ZlcmZsb3c6aGlkZGVufTpob3N0IC5jZy13cmFwcGVyLmNnLXNob3d7aGVpZ2h0OmF1dG87cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTp0YWJsZX06aG9zdCAuY2ctaW1hZ2UgaW1ne2N1cnNvcjpwb2ludGVyO3dpZHRoOjEwMCV9YF0sXG59KVxuZXhwb3J0IGNsYXNzIEdhbGxlcnlDb21wb25lbnQge1xuXG4gICAgQElucHV0KCdpbWFnZXMnKSBpbWFnZXM6IGFueTtcbiAgICBASW5wdXQoJ2NvbmZpZycpIGNvbmZpZzogYW55ID0ge307XG5cbiAgICBAVmlld0NoaWxkKCdjb250ZW50V3JhcHBlcicpIGNvbnRlbnRXcmFwcGVyOiBFbGVtZW50UmVmO1xuXG4gICAgZ2V0IGlzTmdDb250ZW50KCl7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRXcmFwcGVyLm5hdGl2ZUVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBnZXQgbWFzb25yeVN0YXRlKCl7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZy5tYXNvbnJ5O1xuICAgIH1cblxuICAgIGdldCBtYXNvbnJ5TWF4SGVpZ2h0KCl7XG4gICAgXHRyZXR1cm4gdGhpcy5jb25maWcubWFzb25yeU1heEhlaWdodDtcbiAgICB9XG5cbiAgICBnZXQgbWFzb25yeUd1dHRlcigpe1xuICAgIFx0cmV0dXJuIHRoaXMuY29uZmlnLm1hc29ucnlHdXR0ZXI7XG4gICAgfVxuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgbGlnaHRib3g6IENyeXN0YWxMaWdodGJveCxcblx0XHRwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWZcblx0KSB7fVxuXG5cdHNob3dMaWdodGJveChpbWFnZXM6IGFueSwgaTogbnVtYmVyKXtcbiAgICAgICAgdGhpcy5jb25maWcuaW5kZXggPSBpO1xuXHRcdHRoaXMubGlnaHRib3gub3BlbihpbWFnZXMsIHRoaXMuY29uZmlnKTtcblx0fVxuXG4gICAgaGFuZGxlTWFzb25yeUxheW91dEV2ZW50cyhldmVudCl7XG4gICAgICAgIHRoaXMuc2hvd0xpZ2h0Ym94KHRoaXMuaW1hZ2VzLCBldmVudC5pbmRleCk7XG4gICAgfVxufSIsImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSG9zdExpc3RlbmVyLCBJbnB1dCwgT3V0cHV0LCBPbkluaXQsIE9uQ2hhbmdlcywgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSW1hZ2Uge1xuICAgIHBhdGg6IHN0cmluZzsgXG4gICAgd2lkdGg6IG51bWJlcjsgXG4gICAgaGVpZ2h0OiBudW1iZXI7XG4gICAgY29tcHV0ZWRIZWlnaHQ/OiBzdHJpbmc7XG4gICAgY29tcHV0ZWRXaWR0aD86IHN0cmluZztcbiAgICBtYXJnaW4/OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEltYWdlcyBleHRlbmRzIEFycmF5PEltYWdlPnt9XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnbWFzb25yeS1sYXlvdXQnLCBcbiAgICB0ZW1wbGF0ZTogYDxkaXYgXG5cdFtuZ0NsYXNzXT1cIkNMQVNTX05BTUVcIlxuXHQqbmdGb3I9XCJsZXQgaW1hZ2Ugb2YgaW1hZ2VzOyBsZXQgaSA9IGluZGV4O1wiXG4gICAgW3N0eWxlLndpZHRoXT1cImltYWdlLmNvbXB1dGVkV2lkdGhcIlxuICAgIFtzdHlsZS5oZWlnaHRdPVwiaW1hZ2UuY29tcHV0ZWRIZWlnaHRcIlxuICAgIFtzdHlsZS5mbG9hdF09XCInbGVmdCdcIlxuICAgIFtzdHlsZS5tYXJnaW5dPVwiaW1hZ2UubWFyZ2luXCJcbiAgICBbc3R5bGUuYmFja2dyb3VuZF09XCInI2VlZWVlZSdcIlxuICAgIFtzdHlsZS5saW5lSGVpZ2h0XT1cIjBcIj5cblx0PGltZyBcbiAgICAgICAgI2ltYWdlRWxlbVxuICAgICAgICBbc3JjXT1cImltYWdlLnByZXZpZXcgfHwgaW1hZ2UuZnVsbFwiIFxuICAgICAgICBbc3R5bGUud2lkdGguJV09XCIxMDBcIiBcbiAgICAgICAgW3N0eWxlLmhlaWdodF09XCInYXV0bydcIlxuICAgICAgICBbc3R5bGUub3BhY2l0eV09XCIwXCJcbiAgICAgICAgKGNsaWNrKT1cImNsaWNrT25JbWFnZShpbWFnZSwgaSlcIlxuICAgICAgICAobG9hZCk9XCJvbkltYWdlTG9hZGVkKGltYWdlRWxlbSlcIiAvPlxuPC9kaXY+YCxcbn0pXG5cbmV4cG9ydCBjbGFzcyBNYXNvbnJ5TGF5b3V0Q29tcG9uZW50IHtcbiAgICBHVVRURVI6IG51bWJlciA9IDA7XG4gICAgbm9kZXM6IGFueTtcbiAgICBlbGVtOiBhbnk7XG4gICAgc2F2ZWROb2RlRGltZW5zaW9uczogYW55ID0gW107XG4gICAgb2JzZXJ2ZXI6IGFueTtcbiAgICBncmlkU3RhdGU6IHN0cmluZyA9ICdub3Qgc3RhcnRlZCc7XG4gICAgcmVzaXplVGltZXI6IGFueTtcbiAgICBjaGFuZ2VzVGltZXI6IGFueTtcblxuICAgIEBJbnB1dCgnaW1hZ2VzJykgaW1hZ2VzOiBJbWFnZXM7IFxuICAgIEBJbnB1dCgnbWFzb25yeScpIEVOQUJMRV9NQVNPTlJZOiBib29sZWFuID0gdHJ1ZTsgXG4gICAgQElucHV0KCdtYXgtaGVpZ2h0JykgTUFYX0hFSUdIVDogbnVtYmVyID0gNDAwOyBcbiAgICBASW5wdXQoJ2NsYXNzLW5hbWUnKSBDTEFTU19OQU1FOiBzdHJpbmcgfCB7IFtrZXk6IHN0cmluZ106IGFueTsgfTtcblxuICAgIEBJbnB1dCgnZ3V0dGVyJylcbiAgICBzZXQgZ3V0dGVyKHZhbHVlOiBudW1iZXIpe1xuICAgICAgICB0aGlzLkdVVFRFUiA9IHZhbHVlIC8gMjtcbiAgICB9XG5cbiAgICBAT3V0cHV0KCkgZXZlbnRzOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICAgICBcbiAgICBnZXQgaXNNb2JpbGUoKTpib29sZWFuIHtcbiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbihhKXtpZigvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vL2kudGVzdChhKXx8LzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLDQpKSkgY2hlY2sgPSB0cnVlO30pKG5hdmlnYXRvci51c2VyQWdlbnR8fG5hdmlnYXRvci52ZW5kb3IpO1xuICAgICAgICByZXR1cm4gY2hlY2s7XG4gICAgfTtcbiAgICAgXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmKXtcbiAgICAgICAgdGhpcy5lbGVtID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcignd2luZG93OnJlc2l6ZScsIFsnJGV2ZW50J10pXG4gICAgb25XaW5kb3dSZXNpemUoZXZlbnQpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVzaXplVGltZXIpO1xuXG4gICAgICAgIHRoaXMucmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFN0YXRlID0gJ25vdCBzdGFydGVkJztcbiAgICAgICAgICAgIHRoaXMuYnVpbGRHcmlkKCk7IFxuICAgICAgICB9LCAyNTApO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLmJ1aWxkR3JpZCgpO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKCl7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmNoYW5nZXNUaW1lcik7XG5cbiAgICAgICAgdGhpcy5jaGFuZ2VzVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ3JpZFN0YXRlID0gJ25vdCBzdGFydGVkJztcbiAgICAgICAgICAgIHRoaXMuYnVpbGRHcmlkKCk7IFxuICAgICAgICB9LCAyNTApO1xuICAgIH1cblxuICAgIGJ1aWxkR3JpZCgpe1xuICAgICAgICBsZXQgcGFyZW50V2lkdGggPSBNYXRoLmZsb29yKHRoaXMuZWxlbS5wYXJlbnROb2RlLm9mZnNldFdpZHRoKTtcbiAgICAgICAgbGV0IHRvdGFsUm93V2lkdGg6IGFueSA9IDA7IFxuICAgICAgICBsZXQgcm93OiBhbnkgPSB7XG4gICAgICAgICAgICBzdGFydEluZGV4OiAwLFxuICAgICAgICAgICAgZW5kSW5kZXg6IDAsXG4gICAgICAgICAgICBsZW5ndGg6IDAsXG4gICAgICAgICAgICB0b3RhbFdpZHRoOiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLmltYWdlcyB8fCAhdGhpcy5pbWFnZXMubGVuZ3RoKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxlbS5zdHlsZS53aWR0aCA9IHBhcmVudFdpZHRoICsncHgnO1xuICAgICAgICB0aGlzLmVsZW0uc3R5bGUuZGlzcGxheSA9ICd0YWJsZSc7XG5cbiAgICAgICAgdGhpcy5pbWFnZXMuZm9yRWFjaCgobm9kZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChyb3cudG90YWxXaWR0aCA9PT0gMCl7XG4gICAgICAgICAgICAgICAgcm93LnN0YXJ0SW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICByb3cubGVuZ3RoID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcm93Lmxlbmd0aCsrO1xuICAgICAgICAgICAgcm93LnRvdGFsV2lkdGggKz0gdGhpcy5nZXRDb21wdXRlZFdpZHRoKGluZGV4KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKHJvdy50b3RhbFdpZHRoID49IHBhcmVudFdpZHRoIHx8IHRoaXMuaXNMYXN0Q2hpbGQoaW5kZXgpKXtcbiAgICAgICAgICAgICAgICByb3cuZW5kSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICBsZXQgc2NhbGluZyA9IHJvdy50b3RhbFdpZHRoL3BhcmVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb2xEaW1lbnNpb25zKHNjYWxpbmcsIHJvdyk7XG4gICAgICAgICAgICAgICAgcm93LnRvdGFsV2lkdGggPSAwOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2V0Q29sRGltZW5zaW9ucyhzY2FsaW5nOiBudW1iZXIsIHJvdzogYW55KXtcbiAgICAgICAgbGV0IHRvdGFsUm93V2lkdGg6IGFueSA9IDA7XG4gICAgICAgIGxldCBwYXJlbnRXaWR0aCA9IHRoaXMuZWxlbS5wYXJlbnROb2RlLm9mZnNldFdpZHRoO1xuICAgICAgICBzY2FsaW5nID0gKHNjYWxpbmcgPCAxKSA/IDEgOiBzY2FsaW5nO1xuXG4gICAgICAgIHRoaXMuaW1hZ2VzLmZvckVhY2goKG5vZGUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuRU5BQkxFX01BU09OUlkpe1xuICAgICAgICAgICAgICAgIG5vZGUuY29tcHV0ZWRIZWlnaHQgPSB0aGlzLk1BWF9IRUlHSFQgKyAncHgnO1xuICAgICAgICAgICAgICAgIG5vZGUuY29tcHV0ZWRXaWR0aCA9IHRoaXMuZ2V0Q29tcHV0ZWRXaWR0aChpbmRleCkgKyAncHgnO1xuICAgICAgICAgICAgICAgIG5vZGUubWFyZ2luID0gdGhpcy5nZXROb2RlTWFyZ2luKHBhcmVudFdpZHRoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbmRleCA+PSByb3cuc3RhcnRJbmRleCAmJiBpbmRleCA8PSByb3cuZW5kSW5kZXgpe1xuICAgICAgICAgICAgICAgIGxldCBub2RlV2lkdGg7XG5cbiAgICAgICAgICAgICAgICAvLyBsYXN0IGltYWdlXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSByb3cuZW5kSW5kZXggJiYgc2NhbGluZyA+IDEpeyBcbiAgICAgICAgICAgICAgICAgICAgbm9kZVdpZHRoID0gKDEwMCAtIHRvdGFsUm93V2lkdGgpIC0gKCh0aGlzLkdVVFRFUiAqIDIpIC8gcGFyZW50V2lkdGggKiAxMDApO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbXB1dGVkV2lkdGggPSAnY2FsYygnK25vZGVXaWR0aCsnJSknO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmdyaWRTdGF0ZSA9PT0gJ25vdCBzdGFydGVkJyl7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyaWRTdGF0ZSA9ICdwcmUtYnVpbGRpbmcnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1aWxkR3JpZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGVXaWR0aCA9ICgodGhpcy5nZXRDb21wdXRlZFdpZHRoKGluZGV4KSAvIHNjYWxpbmcpIC8gcGFyZW50V2lkdGggKiAxMDApIC0gKChyb3cubGVuZ3RoICogKHRoaXMuR1VUVEVSICogMikpICogKHRoaXMuZ2V0Q29tcHV0ZWRXaWR0aChpbmRleCkgLyBzY2FsaW5nKSAvIHBhcmVudFdpZHRoKSAvIHBhcmVudFdpZHRoICogMTAwO1xuICAgICAgICAgICAgICAgICAgICBub2RlLmNvbXB1dGVkV2lkdGggPSAnY2FsYygnK25vZGVXaWR0aCsnJSknO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgdG90YWxSb3dXaWR0aCArPSBub2RlV2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsUm93V2lkdGggKz0gKHRoaXMuR1VUVEVSIC8gcGFyZW50V2lkdGggKiAxMDApICogMjsgIFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGxhc3Qgcm93IGFuZCBsYXN0IGltYWdlXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSByb3cuZW5kSW5kZXggJiYgcm93Lmxlbmd0aCA9PT0gMSAmJiB0aGlzLmlzTW9iaWxlKXtcbiAgICAgICAgICAgICAgICBcdG5vZGVXaWR0aCA9IDEwMCAtICgodGhpcy5HVVRURVIgKiAyKSAvIHBhcmVudFdpZHRoICogMTAwKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhlaWdodCA9IG5vZGUuaGVpZ2h0ICogKCBwYXJlbnRXaWR0aCAqIChub2RlV2lkdGggLyAxMDApIC8gbm9kZS53aWR0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlaWdodC8yIDwgdGhpcy5NQVhfSEVJR0hUKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY29tcHV0ZWRXaWR0aCA9ICdjYWxjKCcrbm9kZVdpZHRoKyclKSc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBub2RlLm1hcmdpbiA9IHRoaXMuZ2V0Tm9kZU1hcmdpbihwYXJlbnRXaWR0aCk7XG4gICAgICAgICAgICAgICAgbm9kZS5jb21wdXRlZEhlaWdodCA9IG5vZGUuaGVpZ2h0ICogKCBwYXJlbnRXaWR0aCAqIChub2RlV2lkdGggLyAxMDApIC8gbm9kZS53aWR0aCkgKyAncHgnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRDb21wdXRlZFdpZHRoKGluZGV4OiBudW1iZXIpe1xuICAgICAgICByZXR1cm4gdGhpcy5pbWFnZXNbaW5kZXhdLndpZHRoIC8gKHRoaXMuaW1hZ2VzW2luZGV4XS5oZWlnaHQgLyB0aGlzLk1BWF9IRUlHSFQpO1xuICAgIH1cblxuICAgIGlzTGFzdENoaWxkKGluZGV4OiBudW1iZXIpe1xuICAgICAgICByZXR1cm4gaW5kZXggKyAxID09PSB0aGlzLmltYWdlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgZ2V0Tm9kZU1hcmdpbihwYXJlbnRXaWR0aDogbnVtYmVyKXtcbiAgICAgICAgcmV0dXJuICdjYWxjKCcrdGhpcy5HVVRURVIgLyBwYXJlbnRXaWR0aCAqIDEwMCsnJSknO1xuICAgIH1cblxuICAgIGNsaWNrT25JbWFnZShpbWFnZTogYW55LCBpOiBudW1iZXIpe1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KHtcbiAgICAgICAgICAgIHR5cGU6ICdjbGljay1vbi1pbWFnZScsXG4gICAgICAgICAgICBpbWFnZTogaW1hZ2UsXG4gICAgICAgICAgICBpbmRleDogaVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkltYWdlTG9hZGVkKGVsZW0pe1xuICAgICAgICBlbGVtLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEhvc3RMaXN0ZW5lciwgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW3BpbmNoXSdcbn0pXG5cbmV4cG9ydCBjbGFzcyBQaW5jaERpcmVjdGl2ZXtcblxuICAgIGVsZW06IGFueTtcbiAgICBldmVudFR5cGU6IGFueTtcblxuICAgIHNjYWxlOiBhbnkgPSAxO1xuICAgIGluaXRpYWxTY2FsZTogYW55ID0gMTtcblxuICAgIHN0YXJ0WDogYW55O1xuICAgIHN0YXJ0WTogYW55O1xuXG4gICAgbW92ZVg6IGFueSA9IDA7XG4gICAgbW92ZVk6IGFueSA9IDA7XG4gICAgaW5pdGlhbE1vdmVYOiBhbnkgPSAwO1xuICAgIGluaXRpYWxNb3ZlWTogYW55ID0gMDtcblxuICAgIG1vdmVYQzogYW55O1xuICAgIG1vdmVZQzogYW55O1xuXG4gICAgZGlzdGFuY2U6IGFueTtcbiAgICBpbml0aWFsRGlzdGFuY2U6IGFueTtcblxuICAgIGlzTmV4dEltYWdlTG9hZGVkOiBhbnkgPSB0cnVlO1xuXG4gICAgQElucHV0KCkgaXNMYXN0OiBhbnk7XG4gICAgQElucHV0KCkgaXNGaXJzdDogYW55O1xuXG4gICAgQE91dHB1dCgpIGV2ZW50cyA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcbiAgICAgXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmKXtcbiAgICAgICAgdGhpcy5lbGVtID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQ7XG4gICAgfVxuXG4gICAgQEhvc3RMaXN0ZW5lcigndG91Y2hzdGFydCcsIFsnJGV2ZW50J10pXG4gICAgdG91Y2hzdGFydEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5lbGVtLnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICcwIDAnO1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ3RvdWNobW92ZScsIFsnJGV2ZW50J10pXG4gICAgdG91Y2htb3ZlSGFuZGxlcihldmVudCkge1xuICAgICAgICBsZXQgdG91Y2hlcyA9IGV2ZW50LnRvdWNoZXM7XG5cbiAgICAgICAgaWYgKHRvdWNoZXMubGVuZ3RoID09PSAxICYmIHRoaXMuc2NhbGUgPT09IDEgJiYgIXRoaXMuZXZlbnRUeXBlIHx8IHRoaXMuZXZlbnRUeXBlID09ICdzd2lwZScpe1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzTmV4dEltYWdlTG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXRoaXMuZXZlbnRUeXBlKXtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0WCA9IGV2ZW50LnRvdWNoZXNbMF0ucGFnZVg7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydFkgPSBldmVudC50b3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmV2ZW50VHlwZSA9ICdzd2lwZSc7XG5cbiAgICAgICAgICAgIHRoaXMubW92ZVggPSB0aGlzLmluaXRpYWxNb3ZlWCArIChldmVudC50b3VjaGVzWzBdLnBhZ2VYIC0gdGhpcy5zdGFydFgpO1xuICAgICAgICAgICAgdGhpcy5tb3ZlWSA9IDA7XG5cbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRWxlbSgwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ3RvdWNoZW5kJywgWyckZXZlbnQnXSlcbiAgICB0b3VjaGVuZEhhbmRsZXIoZXZlbnQpIHtcbiAgICAgICAgbGV0IHRvdWNoZXMgPSBldmVudC50b3VjaGVzO1xuICAgICAgICBsZXQgaW1nID0gdGhpcy5lbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpWzBdO1xuXG4gICAgICAgIGlmICghdGhpcy5pc05leHRJbWFnZUxvYWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5zY2FsZSA8IDEpe1xuICAgICAgICAgICAgdGhpcy5zY2FsZSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubW92ZVkgPiAwKXtcbiAgICAgICAgICAgIHRoaXMubW92ZVkgPSAwO1xuICAgICAgICB9IFxuXG4gICAgICAgIGlmICh0aGlzLm1vdmVYID4gMTAwKXtcbiAgICAgICAgICAgIHRoaXMuc2xpZGUoJ3ByZXYnKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLm1vdmVYIDwgLTEwMCl7XG4gICAgICAgICAgICB0aGlzLnNsaWRlKCduZXh0Jyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVYID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaW5pdGlhbFNjYWxlID0gdGhpcy5zY2FsZTtcbiAgICAgICAgdGhpcy5pbml0aWFsTW92ZVggPSB0aGlzLm1vdmVYO1xuICAgICAgICB0aGlzLmluaXRpYWxNb3ZlWSA9IHRoaXMubW92ZVk7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm1FbGVtKDIwMCk7IFxuXG4gICAgICAgIHRoaXMuZXZlbnRUeXBlID0gJ3RvdWNoZW5kJzsgICAgICAgIFxuICAgICAgICBpZiAodG91Y2hlcy5sZW5ndGggPT0gMCl7XG4gICAgICAgICAgICB0aGlzLmV2ZW50VHlwZSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2xpZGUoZXZlbnQ6IGFueSl7XG4gICAgICAgIHRoaXMub25TbGlkZShldmVudCk7XG5cbiAgICAgICAgaWYgKGV2ZW50ID09PSAncHJldicpe1xuICAgICAgICAgICAgdGhpcy5tb3ZlWCA9IHdpbmRvdy5pbm5lcldpZHRoICsgODsgXG4gICAgICAgICAgICBpZiAodGhpcy5pc0ZpcnN0KXtcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVYID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICduZXh0Jyl7XG4gICAgICAgICAgICB0aGlzLm1vdmVYID0gLXdpbmRvdy5pbm5lcldpZHRoIC0gODtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTGFzdCl7XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlWCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmlzTmV4dEltYWdlTG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm1vdmVYID0gMDtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbE1vdmVYID0gMDtcbiAgICAgICAgICAgIHRoaXMuaXNOZXh0SW1hZ2VMb2FkZWQgPSB0cnVlO1xuICAgICAgICB9LCAyMDApO1xuICAgIH1cblxuICAgIG9uU2xpZGUoZXZlblR5cGU6YW55KSB7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoZXZlblR5cGUpO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybUVsZW0oZHVyYXRpb246IGFueSA9IDUwKXtcbiAgICAgICAgbGV0IG1hdHJpeFZhbCA9ICdtYXRyaXgoJysgTnVtYmVyKHRoaXMuc2NhbGUpICsnLCcrIDAgKycsJysgMCArJywnKyBOdW1iZXIodGhpcy5zY2FsZSkgKycsJysgTnVtYmVyKHRoaXMubW92ZVgpICsnLCcrIE51bWJlcih0aGlzLm1vdmVZKSArJyknO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5lbGVtLnN0eWxlLnRyYW5zaXRpb24gPSAnYWxsICcrIGR1cmF0aW9uICsnbXMnO1xuICAgICAgICB0aGlzLmVsZW0uc3R5bGUudHJhbnNmb3JtID0gbWF0cml4VmFsO1xuICAgICAgICB0aGlzLmVsZW0uc3R5bGUud2Via2l0VHJhbnNmb3JtID0gbWF0cml4VmFsO1xuICAgIH1cbn0iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IExpZ2h0Ym94Q29tcG9uZW50IH0gZnJvbSAnLi9saWdodGJveC5jb21wb25lbnQnO1xuaW1wb3J0IHsgTGlnaHRib3hNb2JpbGVDb21wb25lbnQgfSBmcm9tICcuL2xpZ2h0Ym94LW1vYmlsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgR2FsbGVyeUNvbXBvbmVudCB9IGZyb20gJy4vZ2FsbGVyeS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ3J5c3RhbExpZ2h0Ym94IH0gZnJvbScuL2RvbS5zZXJ2aWNlJyBcbmltcG9ydCB7IE1hc29ucnlMYXlvdXRDb21wb25lbnQgfSBmcm9tICcuL21hc29ucnktbGF5b3V0LmNvbXBvbmVudCc7IFxuaW1wb3J0IHsgUGluY2hEaXJlY3RpdmUgfSBmcm9tICcuL3BpbmNoLmRpcmVjdGl2ZSc7IFxuXG5ATmdNb2R1bGUoe1xuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBMaWdodGJveENvbXBvbmVudCxcbiAgICAgICAgTGlnaHRib3hNb2JpbGVDb21wb25lbnQsXG4gICAgICAgIEdhbGxlcnlDb21wb25lbnQsXG4gICAgICAgIE1hc29ucnlMYXlvdXRDb21wb25lbnQsXG4gICAgICAgIFBpbmNoRGlyZWN0aXZlXG4gICAgXSxcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBHYWxsZXJ5Q29tcG9uZW50XG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgQ3J5c3RhbExpZ2h0Ym94XG4gICAgXSxcbiAgICBib290c3RyYXA6IFtcbiAgICAgICAgXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgTGlnaHRib3hDb21wb25lbnQsXG4gICAgICAgIExpZ2h0Ym94TW9iaWxlQ29tcG9uZW50XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBDcnlzdGFsR2FsbGVyeU1vZHVsZSB7IH1cbiJdfQ==","import { CommonModule } from '@angular/common';\nimport { EventEmitter, Component, ChangeDetectionStrategy, Renderer2, Input, Output, NgModule } from '@angular/core';\nimport imagesLoadedMethod from 'imagesloaded';\nimport * as masonry from 'masonry-layout';\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nimport * as ɵngcc0 from '@angular/core';\nclass Utilities {\r\n    /**\r\n     * @return {?}\r\n     */\r\n    newGuid() {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (/**\r\n         * @param {?} c\r\n         * @return {?}\r\n         */\r\n        function (c) {\r\n            // tslint:disable-next-line:no-bitwise triple-equals\r\n            /** @type {?} */\r\n            const r = Math.random() * 16 | 0;\r\n            /** @type {?} */\r\n            const v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n            return v.toString(16);\r\n        }));\r\n    }\r\n}\r\n/** @type {?} */\r\nlet utilities = new Utilities();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass MasonryGalleryComponent {\r\n    /**\r\n     * @param {?} renderer\r\n     */\r\n    constructor(renderer) {\r\n        this.renderer = renderer;\r\n        this.images = [];\r\n        this.width = 330;\r\n        this.gutter = 5;\r\n        this.verticalGutter = 5;\r\n        this.imageClasses = [];\r\n        this.clickImage = new EventEmitter();\r\n        this.removeComplete = new EventEmitter();\r\n        this.layoutComplete = new EventEmitter();\r\n        this.galleryGuid = utilities.newGuid();\r\n        this.mansonryItemSelectorClass = `grid-item-${this.galleryGuid}`;\r\n        this.activeImages = [];\r\n        this.viewReady = false;\r\n    }\r\n    /**\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    ngOnChanges(changes) {\r\n        if (changes.images && changes.images.currentValue) {\r\n            if (!this.viewReady) {\r\n                // process images once we can\r\n                this.changesToProcess = changes;\r\n            }\r\n            else {\r\n                this.processImages(changes);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngOnDestroy() {\r\n        if (this.msnry) {\r\n            this.msnry.destroy();\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} image\r\n     * @return {?}\r\n     */\r\n    handleClick(image) {\r\n        this.clickImage.next(image);\r\n    }\r\n    /**\r\n     * @return {?}\r\n     */\r\n    ngAfterViewInit() {\r\n        this.viewReady = true;\r\n        this.initMasonry();\r\n        // process images now\r\n        if (this.changesToProcess) {\r\n            this.processImages(this.changesToProcess);\r\n            this.changesToProcess = undefined;\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} images\r\n     * @return {?}\r\n     */\r\n    addImages(images) {\r\n        if (images && images.length > 0) {\r\n            this.addImagesToGallery(images);\r\n        }\r\n    }\r\n    /**\r\n     * @param {?} images\r\n     * @return {?}\r\n     */\r\n    removeImages(images) {\r\n        if (images && images.length > 0) {\r\n            images.forEach((/**\r\n             * @param {?} image\r\n             * @return {?}\r\n             */\r\n            image => {\r\n                this.removeImageFromGallery(image);\r\n            }));\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    processImages(changes) {\r\n        /** @type {?} */\r\n        const imagesToProcess = this.getAddedAndRemovesImages(changes);\r\n        // add images to mansonry layout\r\n        this.addImages(imagesToProcess.addedImages);\r\n        // removes images from layout\r\n        this.removeImages(imagesToProcess.removedImages);\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} changes\r\n     * @return {?}\r\n     */\r\n    getAddedAndRemovesImages(changes) {\r\n        /** @type {?} */\r\n        let addedImages = [];\r\n        /** @type {?} */\r\n        const removedImages = [];\r\n        /** @type {?} */\r\n        const newImagesValue = (/** @type {?} */ (changes.images\r\n            .currentValue));\r\n        /** @type {?} */\r\n        const oldImagesValue = (/** @type {?} */ (changes.images\r\n            .previousValue));\r\n        if (!oldImagesValue) {\r\n            // all images are new ones\r\n            addedImages = changes.images.currentValue;\r\n        }\r\n        else {\r\n            // process added images\r\n            newImagesValue.forEach((/**\r\n             * @param {?} newImage\r\n             * @return {?}\r\n             */\r\n            newImage => {\r\n                /** @type {?} */\r\n                const existingImage = oldImagesValue.find((/**\r\n                 * @param {?} m\r\n                 * @return {?}\r\n                 */\r\n                m => m.imageUrl.toLowerCase() === newImage.imageUrl.toLowerCase()));\r\n                if (existingImage) ;\r\n                else {\r\n                    // image is new\r\n                    addedImages.push(newImage);\r\n                }\r\n            }));\r\n            // process removed images\r\n            oldImagesValue.forEach((/**\r\n             * @param {?} oldImage\r\n             * @return {?}\r\n             */\r\n            oldImage => {\r\n                /** @type {?} */\r\n                const existingImage = newImagesValue.find((/**\r\n                 * @param {?} m\r\n                 * @return {?}\r\n                 */\r\n                m => m.imageUrl.toLowerCase() === oldImage.imageUrl.toLowerCase()));\r\n                if (existingImage) ;\r\n                else {\r\n                    // image is removed\r\n                    removedImages.push(oldImage);\r\n                }\r\n            }));\r\n        }\r\n        return {\r\n            addedImages: addedImages,\r\n            removedImages: removedImages\r\n        };\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    initMasonry() {\r\n        this.grid = document.getElementById(this.galleryGuid);\r\n        // remove all existing data from grid\r\n        this.grid.innerHTML = '';\r\n        if (!this.grid) {\r\n            throw Error(`Could not init mansory due to non existing elem with id '${this.galleryGuid}'`);\r\n        }\r\n        this.msnry = new masonry(this.grid, {\r\n            // options...\r\n            itemSelector: '.' + this.mansonryItemSelectorClass,\r\n            columnWidth: this.width,\r\n            gutter: this.gutter,\r\n        });\r\n        /** @type {?} */\r\n        const that = this;\r\n        this.msnry.on('layoutComplete', (/**\r\n         * @param {?} items\r\n         * @return {?}\r\n         */\r\n        function (items) {\r\n            that.layoutComplete.next(items);\r\n        }));\r\n        this.msnry.on('removeComplete', (/**\r\n         * @param {?} items\r\n         * @return {?}\r\n         */\r\n        function (items) {\r\n            that.removeComplete.next(items);\r\n        }));\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} image\r\n     * @return {?}\r\n     */\r\n    removeImageFromGallery(image) {\r\n        // get image guid\r\n        /** @type {?} */\r\n        const imageIdResult = this.activeImages.find((/**\r\n         * @param {?} m\r\n         * @return {?}\r\n         */\r\n        m => m.image.imageUrl.toLowerCase() === image.imageUrl.toLowerCase()));\r\n        if (!imageIdResult) {\r\n            // image was not found, this is probably an error\r\n            console.warn(`Image with url '${image.imageUrl}' was not found. If you are adding images, make sure to 'replace' the images array with a new one\r\n                so that detection change can be executed instead of just adding an image to array\r\n                (which doesn't fire change detection on array property)`);\r\n            return;\r\n        }\r\n        // find image based on its id\r\n        /** @type {?} */\r\n        const imageElem = document.getElementById(imageIdResult.id);\r\n        if (!imageElem) {\r\n            // image was not found in DOM\r\n            console.warn(`Image with id '{${imageIdResult.id}}' was not found in DOM. Have you manipulated the DOM in some way?`);\r\n            return;\r\n        }\r\n        // remove image from gallery\r\n        this.msnry.remove(imageElem);\r\n        // refresh layout\r\n        this.msnry.layout();\r\n        // remove image from array\r\n        for (let i = 0; i < this.activeImages.length; i++) {\r\n            /** @type {?} */\r\n            const idWithImage = this.activeImages[i];\r\n            if (idWithImage.image.imageUrl.toLowerCase() ===\r\n                imageIdResult.image.imageUrl.toLowerCase()) {\r\n                this.activeImages.splice(i, 1);\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @private\r\n     * @param {?} images\r\n     * @return {?}\r\n     */\r\n    addImagesToGallery(images) {\r\n        if (!this.grid) {\r\n            throw Error('Grid element is not yet ready, are you trying to add image too soon?');\r\n        }\r\n        /** @type {?} */\r\n        const imagesWrapper = this.renderer.createElement('span');\r\n        images.forEach((/**\r\n         * @param {?} image\r\n         * @return {?}\r\n         */\r\n        image => {\r\n            // generate unique image id\r\n            /** @type {?} */\r\n            const imageId = this.getImageId();\r\n            // create element\r\n            /** @type {?} */\r\n            const imageElem = this.renderer.createElement('img');\r\n            imageElem.setAttribute('id', imageId);\r\n            imageElem.setAttribute('alt', image.alt ? image.alt : 'no description');\r\n            imageElem.setAttribute('src', image.imageUrl);\r\n            // note - images are hidden by default and should be shown only after they are loaded\r\n            imageElem.setAttribute('style', `display: none; width: ${this.width}px; margin-bottom: ${this.verticalGutter}px`);\r\n            imageElem.className = this.getImageClass();\r\n            imageElem.addEventListener('click', (/**\r\n             * @return {?}\r\n             */\r\n            () => {\r\n                this.handleClick(image);\r\n            }));\r\n            // store guid with this image\r\n            this.activeImages.push({\r\n                id: imageId,\r\n                image: image\r\n            });\r\n            // add to dom and mansory & refresh layout\r\n            this.renderer.appendChild(imagesWrapper, imageElem);\r\n        }));\r\n        // add html to dom\r\n        this.renderer.appendChild(this.grid, imagesWrapper);\r\n        // add images once they are loaded\r\n        /** @type {?} */\r\n        const imgLoad = imagesLoadedMethod(imagesWrapper);\r\n        imgLoad.on('progress', (/**\r\n         * @param {?} instance\r\n         * @param {?} image\r\n         * @return {?}\r\n         */\r\n        (instance, image) => {\r\n            if (image.isLoaded) {\r\n                this.renderer.appendChild(this.grid, image.img);\r\n                // unhide image\r\n                this.renderer.setStyle(image.img, 'display', 'block');\r\n                this.msnry.appended(image.img);\r\n                this.msnry.reloadItems();\r\n            }\r\n        }));\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    getImageClass() {\r\n        /** @type {?} */\r\n        let className = this.mansonryItemSelectorClass;\r\n        if (this.imageClasses && this.imageClasses.length > 0) {\r\n            /** @type {?} */\r\n            const customClass = this.imageClasses.join(' ');\r\n            className += ' ' + customClass;\r\n        }\r\n        return className;\r\n    }\r\n    /**\r\n     * @private\r\n     * @return {?}\r\n     */\r\n    getImageId() {\r\n        return this.galleryGuid + '_' + utilities.newGuid();\r\n    }\r\n}\nMasonryGalleryComponent.ɵfac = function MasonryGalleryComponent_Factory(t) { return new (t || MasonryGalleryComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nMasonryGalleryComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: MasonryGalleryComponent, selectors: [[\"ngx-masonry-gallery\"]], inputs: { images: \"images\", width: \"width\", gutter: \"gutter\", verticalGutter: \"verticalGutter\", imageClasses: \"imageClasses\" }, outputs: { clickImage: \"clickImage\", removeComplete: \"removeComplete\", layoutComplete: \"layoutComplete\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 1, vars: 1, consts: [[3, \"id\"]], template: function MasonryGalleryComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelement(0, \"div\", 0);\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"id\", ctx.galleryGuid);\n    } }, encapsulation: 2, changeDetection: 0 });\r\n/** @nocollapse */\r\nMasonryGalleryComponent.ctorParameters = () => [\r\n    { type: Renderer2 }\r\n];\r\nMasonryGalleryComponent.propDecorators = {\r\n    images: [{ type: Input }],\r\n    width: [{ type: Input }],\r\n    gutter: [{ type: Input }],\r\n    verticalGutter: [{ type: Input }],\r\n    imageClasses: [{ type: Input }],\r\n    clickImage: [{ type: Output }],\r\n    removeComplete: [{ type: Output }],\r\n    layoutComplete: [{ type: Output }]\r\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MasonryGalleryComponent, [{\n        type: Component,\n        args: [{\n                changeDetection: ChangeDetectionStrategy.OnPush,\n                selector: 'ngx-masonry-gallery',\n                template: '<div [id]=\"galleryGuid\"></div>'\n            }]\n    }], function () { return [{ type: ɵngcc0.Renderer2 }]; }, { images: [{\n            type: Input\n        }], width: [{\n            type: Input\n        }], gutter: [{\n            type: Input\n        }], verticalGutter: [{\n            type: Input\n        }], imageClasses: [{\n            type: Input\n        }], clickImage: [{\n            type: Output\n        }], removeComplete: [{\n            type: Output\n        }], layoutComplete: [{\n            type: Output\n        }] }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass MasonryGalleryModule {\r\n}\nMasonryGalleryModule.ɵfac = function MasonryGalleryModule_Factory(t) { return new (t || MasonryGalleryModule)(); };\nMasonryGalleryModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: MasonryGalleryModule });\nMasonryGalleryModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[\n            CommonModule\n        ]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(MasonryGalleryModule, [{\n        type: NgModule,\n        args: [{\n                imports: [\n                    CommonModule\n                ],\n                declarations: [\n                    MasonryGalleryComponent,\n                ],\n                exports: [\n                    MasonryGalleryComponent,\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MasonryGalleryModule, { declarations: function () { return [MasonryGalleryComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [MasonryGalleryComponent]; } }); })();\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\r\nclass IMasonryGalleryImage {\r\n}\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\n/**\r\n * @fileoverview added by tsickle\r\n * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\r\n */\n\nexport { IMasonryGalleryImage, MasonryGalleryComponent, MasonryGalleryModule };\n\n//# sourceMappingURL=ngx-masonry-gallery.js.map","import { EventEmitter, Component, Inject, PLATFORM_ID, ElementRef, Input, Output, Directive, forwardRef, Renderer2, NgModule } from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { style, animate, AnimationBuilder } from '@angular/animations';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/animations';\n\nconst _c0 = [\"ngx-masonry\", \"\"];\nconst _c1 = [\"*\"];\nlet masonryConstructor;\nclass NgxMasonryComponent {\n    constructor(platformId, _element) {\n        this.platformId = platformId;\n        this._element = _element;\n        this.updateLayout = false;\n        this.ordered = false;\n        // Outputs\n        this.layoutComplete = new EventEmitter();\n        this.removeComplete = new EventEmitter();\n        this.itemsLoaded = new EventEmitter();\n        this.pendingItems = [];\n    }\n    ngOnInit() {\n        if (isPlatformBrowser(this.platformId) && masonryConstructor === undefined) {\n            masonryConstructor = require('masonry-layout');\n        }\n        // Create masonry options object\n        if (!this.options) {\n            this.options = {};\n        }\n        // Set default itemSelector\n        if (!this.options.itemSelector) {\n            this.options.itemSelector = '[ngxMasonryItem], ngxMasonryItem';\n        }\n        this.options['transitionDuration'] = '0s';\n        if (isPlatformBrowser(this.platformId)) {\n            // Initialize Masonry\n            this.masonryInstance = new masonryConstructor(this._element.nativeElement, this.options);\n            // Bind to events\n            this.masonryInstance.on('layoutComplete', (items) => {\n                this.layoutComplete.emit(items);\n            });\n            this.masonryInstance.on('removeComplete', (items) => {\n                this.removeComplete.emit(items);\n            });\n        }\n    }\n    ngOnChanges(changes) {\n        // only update layout if it's not the first change\n        if (changes.updateLayout) {\n            if (!changes.updateLayout.firstChange) {\n                this.layout();\n            }\n        }\n    }\n    ngOnDestroy() {\n        if (this.masonryInstance) {\n            this.masonryInstance.destroy();\n        }\n    }\n    layout() {\n        setTimeout(() => {\n            this.masonryInstance.layout();\n        });\n    }\n    reloadItems() {\n        setTimeout(() => {\n            this.masonryInstance.reloadItems();\n        });\n    }\n    addPendingItem(item) {\n        this.pendingItems.push(item);\n    }\n    add(newItem) {\n        if (this.ordered) {\n            for (const [index, item] of this.pendingItems.entries()) {\n                if (item) {\n                    if (item.images && item.images.size === 0) {\n                        this.pendingItems[index] = undefined;\n                        this.itemLoaded(item);\n                        if (index + 1 === this.pendingItems.length) {\n                            // All items are loaded\n                            this.itemsLoaded.emit(this.pendingItems.length);\n                            this.pendingItems = [];\n                        }\n                    }\n                    else {\n                        return;\n                    }\n                }\n            }\n        }\n        else {\n            this.itemLoaded(newItem);\n        }\n    }\n    itemLoaded(item) {\n        // Tell Masonry that a child element has been added\n        if (item.prepend) {\n            this.masonryInstance.prepended(item.element.nativeElement);\n        }\n        else {\n            this.masonryInstance.appended(item.element.nativeElement);\n        }\n        // Check if first item\n        if (this.masonryInstance.items.length === 1) {\n            this.masonryInstance.layout();\n        }\n        item.playAnimation(true);\n    }\n    remove(element) {\n        // Tell Masonry that a child element has been removed\n        this.masonryInstance.remove(element);\n        // Layout items\n        this.layout();\n    }\n}\nNgxMasonryComponent.ɵfac = function NgxMasonryComponent_Factory(t) { return new (t || NgxMasonryComponent)(ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef)); };\nNgxMasonryComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: NgxMasonryComponent, selectors: [[\"\", \"ngx-masonry\", \"\"], [\"ngx-masonry\"]], inputs: { updateLayout: \"updateLayout\", ordered: \"ordered\", options: \"options\" }, outputs: { layoutComplete: \"layoutComplete\", removeComplete: \"removeComplete\", itemsLoaded: \"itemsLoaded\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], attrs: _c0, ngContentSelectors: _c1, decls: 1, vars: 0, template: function NgxMasonryComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef();\n        ɵngcc0.ɵɵprojection(0);\n    } }, styles: [\"[_nghost-%COMP%] {\\n\\t\\t\\tdisplay: block;\\n\\t\\t}\"] });\nNgxMasonryComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: ElementRef }\n];\nNgxMasonryComponent.propDecorators = {\n    options: [{ type: Input }],\n    updateLayout: [{ type: Input }],\n    ordered: [{ type: Input }],\n    layoutComplete: [{ type: Output }],\n    removeComplete: [{ type: Output }],\n    itemsLoaded: [{ type: Output }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxMasonryComponent, [{\n        type: Component,\n        args: [{\n                selector: '[ngx-masonry], ngx-masonry',\n                template: '<ng-content></ng-content>',\n                styles: [`\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t}\n\t`]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: ɵngcc0.ElementRef }]; }, { updateLayout: [{\n            type: Input\n        }], ordered: [{\n            type: Input\n        }], layoutComplete: [{\n            type: Output\n        }], removeComplete: [{\n            type: Output\n        }], itemsLoaded: [{\n            type: Output\n        }], options: [{\n            type: Input\n        }] }); })();\n\nclass NgxMasonryDirective {\n    constructor(element, builder, parent, renderer) {\n        this.element = element;\n        this.builder = builder;\n        this.parent = parent;\n        this.renderer = renderer;\n        this.prepend = false;\n        this.animations = {\n            show: [\n                style({ opacity: 0 }),\n                animate('400ms ease-in', style({ opacity: 1 })),\n            ],\n            hide: [\n                style({ opacity: '*' }),\n                animate('400ms ease-in', style({ opacity: 0 })),\n            ]\n        };\n    }\n    ngOnInit() {\n        if (this.parent.options.animations !== undefined) {\n            this.animations = this.parent.options.animations;\n        }\n        this.renderer.setStyle(this.element.nativeElement, 'position', 'fixed');\n        this.renderer.setStyle(this.element.nativeElement, 'right', '-150vw');\n        this.parent.addPendingItem(this);\n    }\n    ngAfterViewInit() {\n        const images = Array.from(this.element.nativeElement.getElementsByTagName('img'));\n        if (images.length === 0) {\n            setTimeout(() => {\n                this.parent.add(this);\n            });\n        }\n        else {\n            this.images = new Set(images);\n            for (const imageRef of images) {\n                // skip image render check if image has `masonryLazy` attribute\n                if (imageRef.hasAttribute('masonryLazy')) {\n                    this.imageLoaded(imageRef);\n                }\n                else {\n                    this.renderer.listen(imageRef, 'load', _ => {\n                        this.imageLoaded(imageRef);\n                    });\n                    this.renderer.listen(imageRef, 'error', _ => {\n                        this.imageLoaded(imageRef);\n                    });\n                }\n            }\n        }\n    }\n    ngOnDestroy() {\n        if (this.images && this.images.size === 0 && this.element.nativeElement.parentNode) {\n            this.playAnimation(false);\n            this.parent.remove(this.element.nativeElement);\n        }\n    }\n    imageLoaded(image) {\n        this.images.delete(image);\n        if (this.images.size === 0) {\n            this.parent.add(this);\n        }\n    }\n    playAnimation(show) {\n        const metadata = show ? this.animations.show : this.animations.hide;\n        if (metadata) {\n            const player = this.builder.build(metadata).create(this.element.nativeElement);\n            player.play();\n        }\n    }\n}\nNgxMasonryDirective.ɵfac = function NgxMasonryDirective_Factory(t) { return new (t || NgxMasonryDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc1.AnimationBuilder), ɵngcc0.ɵɵdirectiveInject(forwardRef(() => NgxMasonryComponent)), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nNgxMasonryDirective.ɵdir = /*@__PURE__*/ ɵngcc0.ɵɵdefineDirective({ type: NgxMasonryDirective, selectors: [[\"\", \"ngxMasonryItem\", \"\"], [\"ngxMasonryItem\"]], inputs: { prepend: \"prepend\" } });\nNgxMasonryDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: AnimationBuilder },\n    { type: NgxMasonryComponent, decorators: [{ type: Inject, args: [forwardRef(() => NgxMasonryComponent),] }] },\n    { type: Renderer2 }\n];\nNgxMasonryDirective.propDecorators = {\n    prepend: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxMasonryDirective, [{\n        type: Directive,\n        args: [{\n                selector: '[ngxMasonryItem], ngxMasonryItem'\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc1.AnimationBuilder }, { type: NgxMasonryComponent, decorators: [{\n                type: Inject,\n                args: [forwardRef(() => NgxMasonryComponent)]\n            }] }, { type: ɵngcc0.Renderer2 }]; }, { prepend: [{\n            type: Input\n        }] }); })();\n\nclass NgxMasonryModule {\n}\nNgxMasonryModule.ɵfac = function NgxMasonryModule_Factory(t) { return new (t || NgxMasonryModule)(); };\nNgxMasonryModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: NgxMasonryModule });\nNgxMasonryModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({ imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(NgxMasonryModule, [{\n        type: NgModule,\n        args: [{\n                imports: [],\n                declarations: [NgxMasonryComponent, NgxMasonryDirective],\n                exports: [NgxMasonryComponent, NgxMasonryDirective]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(NgxMasonryModule, { declarations: [NgxMasonryComponent, NgxMasonryDirective], exports: [NgxMasonryComponent, NgxMasonryDirective] }); })();\n\n/*\n * Public API Surface of ngx-masonry\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NgxMasonryComponent, NgxMasonryDirective, NgxMasonryModule };\n\n//# sourceMappingURL=ngx-masonry.js.map","/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size'\n      ],\n      factory\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      require('ev-emitter'),\n      require('get-size')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window.EvEmitter,\n      window.getSize\n    );\n  }\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n","/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( [\n        'ev-emitter/ev-emitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory(\n      window,\n      require('ev-emitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.EvEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n","/*! PhotoSwipe Default UI - 4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n/**\n*\n* UI on top of main sliding area (caption, arrows, close button, etc.).\n* Built just using public methods/properties of PhotoSwipe.\n* \n*/\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipeUI_Default = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\n\n\nvar PhotoSwipeUI_Default =\n function(pswp, framework) {\n\n\tvar ui = this;\n\tvar _overlayUIUpdated = false,\n\t\t_controlsVisible = true,\n\t\t_fullscrenAPI,\n\t\t_controls,\n\t\t_captionContainer,\n\t\t_fakeCaptionContainer,\n\t\t_indexIndicator,\n\t\t_shareButton,\n\t\t_shareModal,\n\t\t_shareModalHidden = true,\n\t\t_initalCloseOnScrollValue,\n\t\t_isIdle,\n\t\t_listen,\n\n\t\t_loadingIndicator,\n\t\t_loadingIndicatorHidden,\n\t\t_loadingIndicatorTimeout,\n\n\t\t_galleryHasOneSlide,\n\n\t\t_options,\n\t\t_defaultUIOptions = {\n\t\t\tbarsSize: {top:44, bottom:'auto'},\n\t\t\tcloseElClasses: ['item', 'caption', 'zoom-wrap', 'ui', 'top-bar'], \n\t\t\ttimeToIdle: 4000, \n\t\t\ttimeToIdleOutside: 1000,\n\t\t\tloadingIndicatorDelay: 1000, // 2s\n\t\t\t\n\t\t\taddCaptionHTMLFn: function(item, captionEl /*, isFake */) {\n\t\t\t\tif(!item.title) {\n\t\t\t\t\tcaptionEl.children[0].innerHTML = '';\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tcaptionEl.children[0].innerHTML = item.title;\n\t\t\t\treturn true;\n\t\t\t},\n\n\t\t\tcloseEl:true,\n\t\t\tcaptionEl: true,\n\t\t\tfullscreenEl: true,\n\t\t\tzoomEl: true,\n\t\t\tshareEl: true,\n\t\t\tcounterEl: true,\n\t\t\tarrowEl: true,\n\t\t\tpreloaderEl: true,\n\n\t\t\ttapToClose: false,\n\t\t\ttapToToggleControls: true,\n\n\t\t\tclickToCloseNonZoomable: true,\n\n\t\t\tshareButtons: [\n\t\t\t\t{id:'facebook', label:'Share on Facebook', url:'https://www.facebook.com/sharer/sharer.php?u={{url}}'},\n\t\t\t\t{id:'twitter', label:'Tweet', url:'https://twitter.com/intent/tweet?text={{text}}&url={{url}}'},\n\t\t\t\t{id:'pinterest', label:'Pin it', url:'http://www.pinterest.com/pin/create/button/'+\n\t\t\t\t\t\t\t\t\t\t\t\t\t'?url={{url}}&media={{image_url}}&description={{text}}'},\n\t\t\t\t{id:'download', label:'Download image', url:'{{raw_image_url}}', download:true}\n\t\t\t],\n\t\t\tgetImageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.src || '';\n\t\t\t},\n\t\t\tgetPageURLForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn window.location.href;\n\t\t\t},\n\t\t\tgetTextForShare: function( /* shareButtonData */ ) {\n\t\t\t\treturn pswp.currItem.title || '';\n\t\t\t},\n\t\t\t\t\n\t\t\tindexIndicatorSep: ' / ',\n\t\t\tfitControlsWidth: 1200\n\n\t\t},\n\t\t_blockControlsTap,\n\t\t_blockControlsTapTimeout;\n\n\n\n\tvar _onControlsTap = function(e) {\n\t\t\tif(_blockControlsTap) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\n\t\t\te = e || window.event;\n\n\t\t\tif(_options.timeToIdle && _options.mouseUsed && !_isIdle) {\n\t\t\t\t// reset idle timer\n\t\t\t\t_onIdleMouseMove();\n\t\t\t}\n\n\n\t\t\tvar target = e.target || e.srcElement,\n\t\t\t\tuiElement,\n\t\t\t\tclickedClass = target.getAttribute('class') || '',\n\t\t\t\tfound;\n\n\t\t\tfor(var i = 0; i < _uiElements.length; i++) {\n\t\t\t\tuiElement = _uiElements[i];\n\t\t\t\tif(uiElement.onTap && clickedClass.indexOf('pswp__' + uiElement.name ) > -1 ) {\n\t\t\t\t\tuiElement.onTap();\n\t\t\t\t\tfound = true;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(found) {\n\t\t\t\tif(e.stopPropagation) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t}\n\t\t\t\t_blockControlsTap = true;\n\n\t\t\t\t// Some versions of Android don't prevent ghost click event \n\t\t\t\t// when preventDefault() was called on touchstart and/or touchend.\n\t\t\t\t// \n\t\t\t\t// This happens on v4.3, 4.2, 4.1, \n\t\t\t\t// older versions strangely work correctly, \n\t\t\t\t// but just in case we add delay on all of them)\t\n\t\t\t\tvar tapDelay = framework.features.isOldAndroid ? 600 : 30;\n\t\t\t\t_blockControlsTapTimeout = setTimeout(function() {\n\t\t\t\t\t_blockControlsTap = false;\n\t\t\t\t}, tapDelay);\n\t\t\t}\n\n\t\t},\n\t\t_fitControlsInViewport = function() {\n\t\t\treturn !pswp.likelyTouchDevice || _options.mouseUsed || screen.width > _options.fitControlsWidth;\n\t\t},\n\t\t_togglePswpClass = function(el, cName, add) {\n\t\t\tframework[ (add ? 'add' : 'remove') + 'Class' ](el, 'pswp__' + cName);\n\t\t},\n\n\t\t// add class when there is just one item in the gallery\n\t\t// (by default it hides left/right arrows and 1ofX counter)\n\t\t_countNumItems = function() {\n\t\t\tvar hasOneSlide = (_options.getNumItemsFn() === 1);\n\n\t\t\tif(hasOneSlide !== _galleryHasOneSlide) {\n\t\t\t\t_togglePswpClass(_controls, 'ui--one-slide', hasOneSlide);\n\t\t\t\t_galleryHasOneSlide = hasOneSlide;\n\t\t\t}\n\t\t},\n\t\t_toggleShareModalClass = function() {\n\t\t\t_togglePswpClass(_shareModal, 'share-modal--hidden', _shareModalHidden);\n\t\t},\n\t\t_toggleShareModal = function() {\n\n\t\t\t_shareModalHidden = !_shareModalHidden;\n\t\t\t\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModalClass();\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(!_shareModalHidden) {\n\t\t\t\t\t\tframework.addClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\t\t}\n\t\t\t\t}, 30);\n\t\t\t} else {\n\t\t\t\tframework.removeClass(_shareModal, 'pswp__share-modal--fade-in');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(_shareModalHidden) {\n\t\t\t\t\t\t_toggleShareModalClass();\n\t\t\t\t\t}\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t\t\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_updateShareURLs();\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\t_openWindowPopup = function(e) {\n\t\t\te = e || window.event;\n\t\t\tvar target = e.target || e.srcElement;\n\n\t\t\tpswp.shout('shareLinkClick', e, target);\n\n\t\t\tif(!target.href) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif( target.hasAttribute('download') ) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\twindow.open(target.href, 'pswp_share', 'scrollbars=yes,resizable=yes,toolbar=no,'+\n\t\t\t\t\t\t\t\t\t\t'location=yes,width=550,height=420,top=100,left=' + \n\t\t\t\t\t\t\t\t\t\t(window.screen ? Math.round(screen.width / 2 - 275) : 100)  );\n\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\t\t\t\n\t\t\treturn false;\n\t\t},\n\t\t_updateShareURLs = function() {\n\t\t\tvar shareButtonOut = '',\n\t\t\t\tshareButtonData,\n\t\t\t\tshareURL,\n\t\t\t\timage_url,\n\t\t\t\tpage_url,\n\t\t\t\tshare_text;\n\n\t\t\tfor(var i = 0; i < _options.shareButtons.length; i++) {\n\t\t\t\tshareButtonData = _options.shareButtons[i];\n\n\t\t\t\timage_url = _options.getImageURLForShare(shareButtonData);\n\t\t\t\tpage_url = _options.getPageURLForShare(shareButtonData);\n\t\t\t\tshare_text = _options.getTextForShare(shareButtonData);\n\n\t\t\t\tshareURL = shareButtonData.url.replace('{{url}}', encodeURIComponent(page_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{image_url}}', encodeURIComponent(image_url) )\n\t\t\t\t\t\t\t\t\t.replace('{{raw_image_url}}', image_url )\n\t\t\t\t\t\t\t\t\t.replace('{{text}}', encodeURIComponent(share_text) );\n\n\t\t\t\tshareButtonOut += '<a href=\"' + shareURL + '\" target=\"_blank\" '+\n\t\t\t\t\t\t\t\t\t'class=\"pswp__share--' + shareButtonData.id + '\"' +\n\t\t\t\t\t\t\t\t\t(shareButtonData.download ? 'download' : '') + '>' + \n\t\t\t\t\t\t\t\t\tshareButtonData.label + '</a>';\n\n\t\t\t\tif(_options.parseShareButtonOut) {\n\t\t\t\t\tshareButtonOut = _options.parseShareButtonOut(shareButtonData, shareButtonOut);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_shareModal.children[0].innerHTML = shareButtonOut;\n\t\t\t_shareModal.children[0].onclick = _openWindowPopup;\n\n\t\t},\n\t\t_hasCloseClass = function(target) {\n\t\t\tfor(var  i = 0; i < _options.closeElClasses.length; i++) {\n\t\t\t\tif( framework.hasClass(target, 'pswp__' + _options.closeElClasses[i]) ) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_idleInterval,\n\t\t_idleTimer,\n\t\t_idleIncrement = 0,\n\t\t_onIdleMouseMove = function() {\n\t\t\tclearTimeout(_idleTimer);\n\t\t\t_idleIncrement = 0;\n\t\t\tif(_isIdle) {\n\t\t\t\tui.setIdle(false);\n\t\t\t}\n\t\t},\n\t\t_onMouseLeaveWindow = function(e) {\n\t\t\te = e ? e : window.event;\n\t\t\tvar from = e.relatedTarget || e.toElement;\n\t\t\tif (!from || from.nodeName === 'HTML') {\n\t\t\t\tclearTimeout(_idleTimer);\n\t\t\t\t_idleTimer = setTimeout(function() {\n\t\t\t\t\tui.setIdle(true);\n\t\t\t\t}, _options.timeToIdleOutside);\n\t\t\t}\n\t\t},\n\t\t_setupFullscreenAPI = function() {\n\t\t\tif(_options.fullscreenEl && !framework.features.isOldAndroid) {\n\t\t\t\tif(!_fullscrenAPI) {\n\t\t\t\t\t_fullscrenAPI = ui.getFullscreenAPI();\n\t\t\t\t}\n\t\t\t\tif(_fullscrenAPI) {\n\t\t\t\t\tframework.bind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\t\tui.updateFullscreen();\n\t\t\t\t\tframework.addClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t} else {\n\t\t\t\t\tframework.removeClass(pswp.template, 'pswp--supports-fs');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t_setupLoadingIndicator = function() {\n\t\t\t// Setup loading indicator\n\t\t\tif(_options.preloaderEl) {\n\t\t\t\n\t\t\t\t_toggleLoadingIndicator(true);\n\n\t\t\t\t_listen('beforeChange', function() {\n\n\t\t\t\t\tclearTimeout(_loadingIndicatorTimeout);\n\n\t\t\t\t\t// display loading indicator with delay\n\t\t\t\t\t_loadingIndicatorTimeout = setTimeout(function() {\n\n\t\t\t\t\t\tif(pswp.currItem && pswp.currItem.loading) {\n\n\t\t\t\t\t\t\tif( !pswp.allowProgressiveImg() || (pswp.currItem.img && !pswp.currItem.img.naturalWidth)  ) {\n\t\t\t\t\t\t\t\t// show preloader if progressive loading is not enabled, \n\t\t\t\t\t\t\t\t// or image width is not defined yet (because of slow connection)\n\t\t\t\t\t\t\t\t_toggleLoadingIndicator(false); \n\t\t\t\t\t\t\t\t// items-controller.js function allowProgressiveImg\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t_toggleLoadingIndicator(true); // hide preloader\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}, _options.loadingIndicatorDelay);\n\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t_listen('imageLoadComplete', function(index, item) {\n\t\t\t\t\tif(pswp.currItem === item) {\n\t\t\t\t\t\t_toggleLoadingIndicator(true);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\t\t},\n\t\t_toggleLoadingIndicator = function(hide) {\n\t\t\tif( _loadingIndicatorHidden !== hide ) {\n\t\t\t\t_togglePswpClass(_loadingIndicator, 'preloader--active', !hide);\n\t\t\t\t_loadingIndicatorHidden = hide;\n\t\t\t}\n\t\t},\n\t\t_applyNavBarGaps = function(item) {\n\t\t\tvar gap = item.vGap;\n\n\t\t\tif( _fitControlsInViewport() ) {\n\t\t\t\t\n\t\t\t\tvar bars = _options.barsSize; \n\t\t\t\tif(_options.captionEl && bars.bottom === 'auto') {\n\t\t\t\t\tif(!_fakeCaptionContainer) {\n\t\t\t\t\t\t_fakeCaptionContainer = framework.createEl('pswp__caption pswp__caption--fake');\n\t\t\t\t\t\t_fakeCaptionContainer.appendChild( framework.createEl('pswp__caption__center') );\n\t\t\t\t\t\t_controls.insertBefore(_fakeCaptionContainer, _captionContainer);\n\t\t\t\t\t\tframework.addClass(_controls, 'pswp__ui--fit');\n\t\t\t\t\t}\n\t\t\t\t\tif( _options.addCaptionHTMLFn(item, _fakeCaptionContainer, true) ) {\n\n\t\t\t\t\t\tvar captionSize = _fakeCaptionContainer.clientHeight;\n\t\t\t\t\t\tgap.bottom = parseInt(captionSize,10) || 44;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tgap.bottom = bars.top; // if no caption, set size of bottom gap to size of top\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tgap.bottom = bars.bottom === 'auto' ? 0 : bars.bottom;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// height of top bar is static, no need to calculate it\n\t\t\t\tgap.top = bars.top;\n\t\t\t} else {\n\t\t\t\tgap.top = gap.bottom = 0;\n\t\t\t}\n\t\t},\n\t\t_setupIdle = function() {\n\t\t\t// Hide controls when mouse is used\n\t\t\tif(_options.timeToIdle) {\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\t\n\t\t\t\t\tframework.bind(document, 'mousemove', _onIdleMouseMove);\n\t\t\t\t\tframework.bind(document, 'mouseout', _onMouseLeaveWindow);\n\n\t\t\t\t\t_idleInterval = setInterval(function() {\n\t\t\t\t\t\t_idleIncrement++;\n\t\t\t\t\t\tif(_idleIncrement === 2) {\n\t\t\t\t\t\t\tui.setIdle(true);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, _options.timeToIdle / 2);\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t_setupHidingControlsDuringGestures = function() {\n\n\t\t\t// Hide controls on vertical drag\n\t\t\t_listen('onVerticalDrag', function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.95) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else if(!_controlsVisible && now >= 0.95) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Hide controls when pinching to close\n\t\t\tvar pinchControlsHidden;\n\t\t\t_listen('onPinchClose' , function(now) {\n\t\t\t\tif(_controlsVisible && now < 0.9) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t\tpinchControlsHidden = true;\n\t\t\t\t} else if(pinchControlsHidden && !_controlsVisible && now > 0.9) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('zoomGestureEnded', function() {\n\t\t\t\tpinchControlsHidden = false;\n\t\t\t\tif(pinchControlsHidden && !_controlsVisible) {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t});\n\n\t\t};\n\n\n\n\tvar _uiElements = [\n\t\t{ \n\t\t\tname: 'caption', \n\t\t\toption: 'captionEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_captionContainer = el; \n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'share-modal', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_shareModal = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--share', \n\t\t\toption: 'shareEl',\n\t\t\tonInit: function(el) { \n\t\t\t\t_shareButton = el;\n\t\t\t},\n\t\t\tonTap: function() {\n\t\t\t\t_toggleShareModal();\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--zoom', \n\t\t\toption: 'zoomEl',\n\t\t\tonTap: pswp.toggleDesktopZoom\n\t\t},\n\t\t{ \n\t\t\tname: 'counter', \n\t\t\toption: 'counterEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_indexIndicator = el;\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'button--close', \n\t\t\toption: 'closeEl',\n\t\t\tonTap: pswp.close\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--left', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.prev\n\t\t},\n\t\t{ \n\t\t\tname: 'button--arrow--right', \n\t\t\toption: 'arrowEl',\n\t\t\tonTap: pswp.next\n\t\t},\n\t\t{ \n\t\t\tname: 'button--fs', \n\t\t\toption: 'fullscreenEl',\n\t\t\tonTap: function() {  \n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t} else {\n\t\t\t\t\t_fullscrenAPI.enter();\n\t\t\t\t}\n\t\t\t} \n\t\t},\n\t\t{ \n\t\t\tname: 'preloader', \n\t\t\toption: 'preloaderEl',\n\t\t\tonInit: function(el) {  \n\t\t\t\t_loadingIndicator = el;\n\t\t\t} \n\t\t}\n\n\t];\n\n\tvar _setupUIElements = function() {\n\t\tvar item,\n\t\t\tclassAttr,\n\t\t\tuiElement;\n\n\t\tvar loopThroughChildElements = function(sChildren) {\n\t\t\tif(!sChildren) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar l = sChildren.length;\n\t\t\tfor(var i = 0; i < l; i++) {\n\t\t\t\titem = sChildren[i];\n\t\t\t\tclassAttr = item.className;\n\n\t\t\t\tfor(var a = 0; a < _uiElements.length; a++) {\n\t\t\t\t\tuiElement = _uiElements[a];\n\n\t\t\t\t\tif(classAttr.indexOf('pswp__' + uiElement.name) > -1  ) {\n\n\t\t\t\t\t\tif( _options[uiElement.option] ) { // if element is not disabled from options\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tframework.removeClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\tif(uiElement.onInit) {\n\t\t\t\t\t\t\t\tuiElement.onInit(item);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//item.style.display = 'block';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tframework.addClass(item, 'pswp__element--disabled');\n\t\t\t\t\t\t\t//item.style.display = 'none';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tloopThroughChildElements(_controls.children);\n\n\t\tvar topBar =  framework.getChildByClass(_controls, 'pswp__top-bar');\n\t\tif(topBar) {\n\t\t\tloopThroughChildElements( topBar.children );\n\t\t}\n\t};\n\n\n\t\n\n\tui.init = function() {\n\n\t\t// extend options\n\t\tframework.extend(pswp.options, _defaultUIOptions, true);\n\n\t\t// create local link for fast access\n\t\t_options = pswp.options;\n\n\t\t// find pswp__ui element\n\t\t_controls = framework.getChildByClass(pswp.scrollWrap, 'pswp__ui');\n\n\t\t// create local link\n\t\t_listen = pswp.listen;\n\n\n\t\t_setupHidingControlsDuringGestures();\n\n\t\t// update controls when slides change\n\t\t_listen('beforeChange', ui.update);\n\n\t\t// toggle zoom on double-tap\n\t\t_listen('doubleTap', function(point) {\n\t\t\tvar initialZoomLevel = pswp.currItem.initialZoomLevel;\n\t\t\tif(pswp.getZoomLevel() !== initialZoomLevel) {\n\t\t\t\tpswp.zoomTo(initialZoomLevel, point, 333);\n\t\t\t} else {\n\t\t\t\tpswp.zoomTo(_options.getDoubleTapZoom(false, pswp.currItem), point, 333);\n\t\t\t}\n\t\t});\n\n\t\t// Allow text selection in caption\n\t\t_listen('preventDragEvent', function(e, isDown, preventObj) {\n\t\t\tvar t = e.target || e.srcElement;\n\t\t\tif(\n\t\t\t\tt && \n\t\t\t\tt.getAttribute('class') && e.type.indexOf('mouse') > -1 && \n\t\t\t\t( t.getAttribute('class').indexOf('__caption') > 0 || (/(SMALL|STRONG|EM)/i).test(t.tagName) ) \n\t\t\t) {\n\t\t\t\tpreventObj.prevent = false;\n\t\t\t}\n\t\t});\n\n\t\t// bind events for UI\n\t\t_listen('bindEvents', function() {\n\t\t\tframework.bind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.bind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\n\t\t\tif(!pswp.likelyTouchDevice) {\n\t\t\t\tframework.bind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\t\t\t}\n\t\t});\n\n\t\t// unbind events for UI\n\t\t_listen('unbindEvents', function() {\n\t\t\tif(!_shareModalHidden) {\n\t\t\t\t_toggleShareModal();\n\t\t\t}\n\n\t\t\tif(_idleInterval) {\n\t\t\t\tclearInterval(_idleInterval);\n\t\t\t}\n\t\t\tframework.unbind(document, 'mouseout', _onMouseLeaveWindow);\n\t\t\tframework.unbind(document, 'mousemove', _onIdleMouseMove);\n\t\t\tframework.unbind(_controls, 'pswpTap click', _onControlsTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'pswpTap', ui.onGlobalTap);\n\t\t\tframework.unbind(pswp.scrollWrap, 'mouseover', ui.onMouseOver);\n\n\t\t\tif(_fullscrenAPI) {\n\t\t\t\tframework.unbind(document, _fullscrenAPI.eventK, ui.updateFullscreen);\n\t\t\t\tif(_fullscrenAPI.isFullscreen()) {\n\t\t\t\t\t_options.hideAnimationDuration = 0;\n\t\t\t\t\t_fullscrenAPI.exit();\n\t\t\t\t}\n\t\t\t\t_fullscrenAPI = null;\n\t\t\t}\n\t\t});\n\n\n\t\t// clean up things when gallery is destroyed\n\t\t_listen('destroy', function() {\n\t\t\tif(_options.captionEl) {\n\t\t\t\tif(_fakeCaptionContainer) {\n\t\t\t\t\t_controls.removeChild(_fakeCaptionContainer);\n\t\t\t\t}\n\t\t\t\tframework.removeClass(_captionContainer, 'pswp__caption--empty');\n\t\t\t}\n\n\t\t\tif(_shareModal) {\n\t\t\t\t_shareModal.children[0].onclick = null;\n\t\t\t}\n\t\t\tframework.removeClass(_controls, 'pswp__ui--over-close');\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t\tui.setIdle(false);\n\t\t});\n\t\t\n\n\t\tif(!_options.showAnimationDuration) {\n\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t}\n\t\t_listen('initialZoomIn', function() {\n\t\t\tif(_options.showAnimationDuration) {\n\t\t\t\tframework.removeClass( _controls, 'pswp__ui--hidden');\n\t\t\t}\n\t\t});\n\t\t_listen('initialZoomOut', function() {\n\t\t\tframework.addClass( _controls, 'pswp__ui--hidden');\n\t\t});\n\n\t\t_listen('parseVerticalMargin', _applyNavBarGaps);\n\t\t\n\t\t_setupUIElements();\n\n\t\tif(_options.shareEl && _shareButton && _shareModal) {\n\t\t\t_shareModalHidden = true;\n\t\t}\n\n\t\t_countNumItems();\n\n\t\t_setupIdle();\n\n\t\t_setupFullscreenAPI();\n\n\t\t_setupLoadingIndicator();\n\t};\n\n\tui.setIdle = function(isIdle) {\n\t\t_isIdle = isIdle;\n\t\t_togglePswpClass(_controls, 'ui--idle', isIdle);\n\t};\n\n\tui.update = function() {\n\t\t// Don't update UI if it's hidden\n\t\tif(_controlsVisible && pswp.currItem) {\n\t\t\t\n\t\t\tui.updateIndexIndicator();\n\n\t\t\tif(_options.captionEl) {\n\t\t\t\t_options.addCaptionHTMLFn(pswp.currItem, _captionContainer);\n\n\t\t\t\t_togglePswpClass(_captionContainer, 'caption--empty', !pswp.currItem.title);\n\t\t\t}\n\n\t\t\t_overlayUIUpdated = true;\n\n\t\t} else {\n\t\t\t_overlayUIUpdated = false;\n\t\t}\n\n\t\tif(!_shareModalHidden) {\n\t\t\t_toggleShareModal();\n\t\t}\n\n\t\t_countNumItems();\n\t};\n\n\tui.updateFullscreen = function(e) {\n\n\t\tif(e) {\n\t\t\t// some browsers change window scroll position during the fullscreen\n\t\t\t// so PhotoSwipe updates it just in case\n\t\t\tsetTimeout(function() {\n\t\t\t\tpswp.setScrollOffset( 0, framework.getScrollY() );\n\t\t\t}, 50);\n\t\t}\n\t\t\n\t\t// toogle pswp--fs class on root element\n\t\tframework[ (_fullscrenAPI.isFullscreen() ? 'add' : 'remove') + 'Class' ](pswp.template, 'pswp--fs');\n\t};\n\n\tui.updateIndexIndicator = function() {\n\t\tif(_options.counterEl) {\n\t\t\t_indexIndicator.innerHTML = (pswp.getCurrentIndex()+1) + \n\t\t\t\t\t\t\t\t\t\t_options.indexIndicatorSep + \n\t\t\t\t\t\t\t\t\t\t_options.getNumItemsFn();\n\t\t}\n\t};\n\t\n\tui.onGlobalTap = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\tif(_blockControlsTap) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(e.detail && e.detail.pointerType === 'mouse') {\n\n\t\t\t// close gallery if clicked outside of the image\n\t\t\tif(_hasCloseClass(target)) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(framework.hasClass(target, 'pswp__img')) {\n\t\t\t\tif(pswp.getZoomLevel() === 1 && pswp.getZoomLevel() <= pswp.currItem.fitRatio) {\n\t\t\t\t\tif(_options.clickToCloseNonZoomable) {\n\t\t\t\t\t\tpswp.close();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tpswp.toggleDesktopZoom(e.detail.releasePoint);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t} else {\n\n\t\t\t// tap anywhere (except buttons) to toggle visibility of controls\n\t\t\tif(_options.tapToToggleControls) {\n\t\t\t\tif(_controlsVisible) {\n\t\t\t\t\tui.hideControls();\n\t\t\t\t} else {\n\t\t\t\t\tui.showControls();\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// tap to close gallery\n\t\t\tif(_options.tapToClose && (framework.hasClass(target, 'pswp__img') || _hasCloseClass(target)) ) {\n\t\t\t\tpswp.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t\n\t\t}\n\t};\n\tui.onMouseOver = function(e) {\n\t\te = e || window.event;\n\t\tvar target = e.target || e.srcElement;\n\n\t\t// add class when mouse is over an element that should close the gallery\n\t\t_togglePswpClass(_controls, 'ui--over-close', _hasCloseClass(target));\n\t};\n\n\tui.hideControls = function() {\n\t\tframework.addClass(_controls,'pswp__ui--hidden');\n\t\t_controlsVisible = false;\n\t};\n\n\tui.showControls = function() {\n\t\t_controlsVisible = true;\n\t\tif(!_overlayUIUpdated) {\n\t\t\tui.update();\n\t\t}\n\t\tframework.removeClass(_controls,'pswp__ui--hidden');\n\t};\n\n\tui.supportsFullscreen = function() {\n\t\tvar d = document;\n\t\treturn !!(d.exitFullscreen || d.mozCancelFullScreen || d.webkitExitFullscreen || d.msExitFullscreen);\n\t};\n\n\tui.getFullscreenAPI = function() {\n\t\tvar dE = document.documentElement,\n\t\t\tapi,\n\t\t\ttF = 'fullscreenchange';\n\n\t\tif (dE.requestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'requestFullscreen',\n\t\t\t\texitK: 'exitFullscreen',\n\t\t\t\telementK: 'fullscreenElement',\n\t\t\t\teventK: tF\n\t\t\t};\n\n\t\t} else if(dE.mozRequestFullScreen ) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'mozRequestFullScreen',\n\t\t\t\texitK: 'mozCancelFullScreen',\n\t\t\t\telementK: 'mozFullScreenElement',\n\t\t\t\teventK: 'moz' + tF\n\t\t\t};\n\n\t\t\t\n\n\t\t} else if(dE.webkitRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'webkitRequestFullscreen',\n\t\t\t\texitK: 'webkitExitFullscreen',\n\t\t\t\telementK: 'webkitFullscreenElement',\n\t\t\t\teventK: 'webkit' + tF\n\t\t\t};\n\n\t\t} else if(dE.msRequestFullscreen) {\n\t\t\tapi = {\n\t\t\t\tenterK: 'msRequestFullscreen',\n\t\t\t\texitK: 'msExitFullscreen',\n\t\t\t\telementK: 'msFullscreenElement',\n\t\t\t\teventK: 'MSFullscreenChange'\n\t\t\t};\n\t\t}\n\n\t\tif(api) {\n\t\t\tapi.enter = function() { \n\t\t\t\t// disable close-on-scroll in fullscreen\n\t\t\t\t_initalCloseOnScrollValue = _options.closeOnScroll; \n\t\t\t\t_options.closeOnScroll = false; \n\n\t\t\t\tif(this.enterK === 'webkitRequestFullscreen') {\n\t\t\t\t\tpswp.template[this.enterK]( Element.ALLOW_KEYBOARD_INPUT );\n\t\t\t\t} else {\n\t\t\t\t\treturn pswp.template[this.enterK](); \n\t\t\t\t}\n\t\t\t};\n\t\t\tapi.exit = function() { \n\t\t\t\t_options.closeOnScroll = _initalCloseOnScrollValue;\n\n\t\t\t\treturn document[this.exitK](); \n\n\t\t\t};\n\t\t\tapi.isFullscreen = function() { return document[this.elementK]; };\n\t\t}\n\n\t\treturn api;\n\t};\n\n\n\n};\nreturn PhotoSwipeUI_Default;\n\n\n});\n","/*! PhotoSwipe - v4.1.3 - 2019-01-08\n* http://photoswipe.com\n* Copyright (c) 2019 Dmitry Semenov; */\n(function (root, factory) { \n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\troot.PhotoSwipe = factory();\n\t}\n})(this, function () {\n\n\t'use strict';\n\tvar PhotoSwipe = function(template, UiClass, items, options){\n\n/*>>framework-bridge*/\n/**\n *\n * Set of generic functions used by gallery.\n * \n * You're free to modify anything here as long as functionality is kept.\n * \n */\nvar framework = {\n\tfeatures: null,\n\tbind: function(target, type, listener, unbind) {\n\t\tvar methodName = (unbind ? 'remove' : 'add') + 'EventListener';\n\t\ttype = type.split(' ');\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tif(type[i]) {\n\t\t\t\ttarget[methodName]( type[i], listener, false);\n\t\t\t}\n\t\t}\n\t},\n\tisArray: function(obj) {\n\t\treturn (obj instanceof Array);\n\t},\n\tcreateEl: function(classes, tag) {\n\t\tvar el = document.createElement(tag || 'div');\n\t\tif(classes) {\n\t\t\tel.className = classes;\n\t\t}\n\t\treturn el;\n\t},\n\tgetScrollY: function() {\n\t\tvar yOffset = window.pageYOffset;\n\t\treturn yOffset !== undefined ? yOffset : document.documentElement.scrollTop;\n\t},\n\tunbind: function(target, type, listener) {\n\t\tframework.bind(target,type,listener,true);\n\t},\n\tremoveClass: function(el, className) {\n\t\tvar reg = new RegExp('(\\\\s|^)' + className + '(\\\\s|$)');\n\t\tel.className = el.className.replace(reg, ' ').replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, ''); \n\t},\n\taddClass: function(el, className) {\n\t\tif( !framework.hasClass(el,className) ) {\n\t\t\tel.className += (el.className ? ' ' : '') + className;\n\t\t}\n\t},\n\thasClass: function(el, className) {\n\t\treturn el.className && new RegExp('(^|\\\\s)' + className + '(\\\\s|$)').test(el.className);\n\t},\n\tgetChildByClass: function(parentEl, childClassName) {\n\t\tvar node = parentEl.firstChild;\n\t\twhile(node) {\n\t\t\tif( framework.hasClass(node, childClassName) ) {\n\t\t\t\treturn node;\n\t\t\t}\n\t\t\tnode = node.nextSibling;\n\t\t}\n\t},\n\tarraySearch: function(array, value, key) {\n\t\tvar i = array.length;\n\t\twhile(i--) {\n\t\t\tif(array[i][key] === value) {\n\t\t\t\treturn i;\n\t\t\t} \n\t\t}\n\t\treturn -1;\n\t},\n\textend: function(o1, o2, preventOverwrite) {\n\t\tfor (var prop in o2) {\n\t\t\tif (o2.hasOwnProperty(prop)) {\n\t\t\t\tif(preventOverwrite && o1.hasOwnProperty(prop)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\to1[prop] = o2[prop];\n\t\t\t}\n\t\t}\n\t},\n\teasing: {\n\t\tsine: {\n\t\t\tout: function(k) {\n\t\t\t\treturn Math.sin(k * (Math.PI / 2));\n\t\t\t},\n\t\t\tinOut: function(k) {\n\t\t\t\treturn - (Math.cos(Math.PI * k) - 1) / 2;\n\t\t\t}\n\t\t},\n\t\tcubic: {\n\t\t\tout: function(k) {\n\t\t\t\treturn --k * k * k + 1;\n\t\t\t}\n\t\t}\n\t\t/*\n\t\t\telastic: {\n\t\t\t\tout: function ( k ) {\n\n\t\t\t\t\tvar s, a = 0.1, p = 0.4;\n\t\t\t\t\tif ( k === 0 ) return 0;\n\t\t\t\t\tif ( k === 1 ) return 1;\n\t\t\t\t\tif ( !a || a < 1 ) { a = 1; s = p / 4; }\n\t\t\t\t\telse s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n\t\t\t\t\treturn ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n\t\t\t\t},\n\t\t\t},\n\t\t\tback: {\n\t\t\t\tout: function ( k ) {\n\t\t\t\t\tvar s = 1.70158;\n\t\t\t\t\treturn --k * k * ( ( s + 1 ) * k + s ) + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t*/\n\t},\n\n\t/**\n\t * \n\t * @return {object}\n\t * \n\t * {\n\t *  raf : request animation frame function\n\t *  caf : cancel animation frame function\n\t *  transfrom : transform property key (with vendor), or null if not supported\n\t *  oldIE : IE8 or below\n\t * }\n\t * \n\t */\n\tdetectFeatures: function() {\n\t\tif(framework.features) {\n\t\t\treturn framework.features;\n\t\t}\n\t\tvar helperEl = framework.createEl(),\n\t\t\thelperStyle = helperEl.style,\n\t\t\tvendor = '',\n\t\t\tfeatures = {};\n\n\t\t// IE8 and below\n\t\tfeatures.oldIE = document.all && !document.addEventListener;\n\n\t\tfeatures.touch = 'ontouchstart' in window;\n\n\t\tif(window.requestAnimationFrame) {\n\t\t\tfeatures.raf = window.requestAnimationFrame;\n\t\t\tfeatures.caf = window.cancelAnimationFrame;\n\t\t}\n\n\t\tfeatures.pointerEvent = !!(window.PointerEvent) || navigator.msPointerEnabled;\n\n\t\t// fix false-positive detection of old Android in new IE\n\t\t// (IE11 ua string contains \"Android 4.0\")\n\t\t\n\t\tif(!features.pointerEvent) { \n\n\t\t\tvar ua = navigator.userAgent;\n\n\t\t\t// Detect if device is iPhone or iPod and if it's older than iOS 8\n\t\t\t// http://stackoverflow.com/a/14223920\n\t\t\t// \n\t\t\t// This detection is made because of buggy top/bottom toolbars\n\t\t\t// that don't trigger window.resize event.\n\t\t\t// For more info refer to _isFixedPosition variable in core.js\n\n\t\t\tif (/iP(hone|od)/.test(navigator.platform)) {\n\t\t\t\tvar v = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/);\n\t\t\t\tif(v && v.length > 0) {\n\t\t\t\t\tv = parseInt(v[1], 10);\n\t\t\t\t\tif(v >= 1 && v < 8 ) {\n\t\t\t\t\t\tfeatures.isOldIOSPhone = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Detect old Android (before KitKat)\n\t\t\t// due to bugs related to position:fixed\n\t\t\t// http://stackoverflow.com/questions/7184573/pick-up-the-android-version-in-the-browser-by-javascript\n\t\t\t\n\t\t\tvar match = ua.match(/Android\\s([0-9\\.]*)/);\n\t\t\tvar androidversion =  match ? match[1] : 0;\n\t\t\tandroidversion = parseFloat(androidversion);\n\t\t\tif(androidversion >= 1 ) {\n\t\t\t\tif(androidversion < 4.4) {\n\t\t\t\t\tfeatures.isOldAndroid = true; // for fixed position bug & performance\n\t\t\t\t}\n\t\t\t\tfeatures.androidVersion = androidversion; // for touchend bug\n\t\t\t}\t\n\t\t\tfeatures.isMobileOpera = /opera mini|opera mobi/i.test(ua);\n\n\t\t\t// p.s. yes, yes, UA sniffing is bad, propose your solution for above bugs.\n\t\t}\n\t\t\n\t\tvar styleChecks = ['transform', 'perspective', 'animationName'],\n\t\t\tvendors = ['', 'webkit','Moz','ms','O'],\n\t\t\tstyleCheckItem,\n\t\t\tstyleName;\n\n\t\tfor(var i = 0; i < 4; i++) {\n\t\t\tvendor = vendors[i];\n\n\t\t\tfor(var a = 0; a < 3; a++) {\n\t\t\t\tstyleCheckItem = styleChecks[a];\n\n\t\t\t\t// uppercase first letter of property name, if vendor is present\n\t\t\t\tstyleName = vendor + (vendor ? \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem.charAt(0).toUpperCase() + styleCheckItem.slice(1) : \n\t\t\t\t\t\t\t\t\t\tstyleCheckItem);\n\t\t\t\n\t\t\t\tif(!features[styleCheckItem] && styleName in helperStyle ) {\n\t\t\t\t\tfeatures[styleCheckItem] = styleName;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(vendor && !features.raf) {\n\t\t\t\tvendor = vendor.toLowerCase();\n\t\t\t\tfeatures.raf = window[vendor+'RequestAnimationFrame'];\n\t\t\t\tif(features.raf) {\n\t\t\t\t\tfeatures.caf = window[vendor+'CancelAnimationFrame'] || \n\t\t\t\t\t\t\t\t\twindow[vendor+'CancelRequestAnimationFrame'];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\t\n\t\tif(!features.raf) {\n\t\t\tvar lastTime = 0;\n\t\t\tfeatures.raf = function(fn) {\n\t\t\t\tvar currTime = new Date().getTime();\n\t\t\t\tvar timeToCall = Math.max(0, 16 - (currTime - lastTime));\n\t\t\t\tvar id = window.setTimeout(function() { fn(currTime + timeToCall); }, timeToCall);\n\t\t\t\tlastTime = currTime + timeToCall;\n\t\t\t\treturn id;\n\t\t\t};\n\t\t\tfeatures.caf = function(id) { clearTimeout(id); };\n\t\t}\n\n\t\t// Detect SVG support\n\t\tfeatures.svg = !!document.createElementNS && \n\t\t\t\t\t\t!!document.createElementNS('http://www.w3.org/2000/svg', 'svg').createSVGRect;\n\n\t\tframework.features = features;\n\n\t\treturn features;\n\t}\n};\n\nframework.detectFeatures();\n\n// Override addEventListener for old versions of IE\nif(framework.features.oldIE) {\n\n\tframework.bind = function(target, type, listener, unbind) {\n\t\t\n\t\ttype = type.split(' ');\n\n\t\tvar methodName = (unbind ? 'detach' : 'attach') + 'Event',\n\t\t\tevName,\n\t\t\t_handleEv = function() {\n\t\t\t\tlistener.handleEvent.call(listener);\n\t\t\t};\n\n\t\tfor(var i = 0; i < type.length; i++) {\n\t\t\tevName = type[i];\n\t\t\tif(evName) {\n\n\t\t\t\tif(typeof listener === 'object' && listener.handleEvent) {\n\t\t\t\t\tif(!unbind) {\n\t\t\t\t\t\tlistener['oldIE' + evName] = _handleEv;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(!listener['oldIE' + evName]) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener['oldIE' + evName]);\n\t\t\t\t} else {\n\t\t\t\t\ttarget[methodName]( 'on' + evName, listener);\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t};\n\t\n}\n\n/*>>framework-bridge*/\n\n/*>>core*/\n//function(template, UiClass, items, options)\n\nvar self = this;\n\n/**\n * Static vars, don't change unless you know what you're doing.\n */\nvar DOUBLE_TAP_RADIUS = 25, \n\tNUM_HOLDERS = 3;\n\n/**\n * Options\n */\nvar _options = {\n\tallowPanToNext:true,\n\tspacing: 0.12,\n\tbgOpacity: 1,\n\tmouseUsed: false,\n\tloop: true,\n\tpinchToClose: true,\n\tcloseOnScroll: true,\n\tcloseOnVerticalDrag: true,\n\tverticalDragRange: 0.75,\n\thideAnimationDuration: 333,\n\tshowAnimationDuration: 333,\n\tshowHideOpacity: false,\n\tfocus: true,\n\tescKey: true,\n\tarrowKeys: true,\n\tmainScrollEndFriction: 0.35,\n\tpanEndFriction: 0.35,\n\tisClickableElement: function(el) {\n        return el.tagName === 'A';\n    },\n    getDoubleTapZoom: function(isMouseClick, item) {\n    \tif(isMouseClick) {\n    \t\treturn 1;\n    \t} else {\n    \t\treturn item.initialZoomLevel < 0.7 ? 1 : 1.33;\n    \t}\n    },\n    maxSpreadZoom: 1.33,\n\tmodal: true,\n\n\t// not fully implemented yet\n\tscaleMode: 'fit' // TODO\n};\nframework.extend(_options, options);\n\n\n/**\n * Private helper variables & functions\n */\n\nvar _getEmptyPoint = function() { \n\t\treturn {x:0,y:0}; \n\t};\n\nvar _isOpen,\n\t_isDestroying,\n\t_closedByScroll,\n\t_currentItemIndex,\n\t_containerStyle,\n\t_containerShiftIndex,\n\t_currPanDist = _getEmptyPoint(),\n\t_startPanOffset = _getEmptyPoint(),\n\t_panOffset = _getEmptyPoint(),\n\t_upMoveEvents, // drag move, drag end & drag cancel events array\n\t_downEvents, // drag start events array\n\t_globalEventHandlers,\n\t_viewportSize = {},\n\t_currZoomLevel,\n\t_startZoomLevel,\n\t_translatePrefix,\n\t_translateSufix,\n\t_updateSizeInterval,\n\t_itemsNeedUpdate,\n\t_currPositionIndex = 0,\n\t_offset = {},\n\t_slideSize = _getEmptyPoint(), // size of slide area, including spacing\n\t_itemHolders,\n\t_prevItemIndex,\n\t_indexDiff = 0, // difference of indexes since last content update\n\t_dragStartEvent,\n\t_dragMoveEvent,\n\t_dragEndEvent,\n\t_dragCancelEvent,\n\t_transformKey,\n\t_pointerEventEnabled,\n\t_isFixedPosition = true,\n\t_likelyTouchDevice,\n\t_modules = [],\n\t_requestAF,\n\t_cancelAF,\n\t_initalClassName,\n\t_initalWindowScrollY,\n\t_oldIE,\n\t_currentWindowScrollY,\n\t_features,\n\t_windowVisibleSize = {},\n\t_renderMaxResolution = false,\n\t_orientationChangeTimeout,\n\n\n\t// Registers PhotoSWipe module (History, Controller ...)\n\t_registerModule = function(name, module) {\n\t\tframework.extend(self, module.publicMethods);\n\t\t_modules.push(name);\n\t},\n\n\t_getLoopedId = function(index) {\n\t\tvar numSlides = _getNumItems();\n\t\tif(index > numSlides - 1) {\n\t\t\treturn index - numSlides;\n\t\t} else  if(index < 0) {\n\t\t\treturn numSlides + index;\n\t\t}\n\t\treturn index;\n\t},\n\t\n\t// Micro bind/trigger\n\t_listeners = {},\n\t_listen = function(name, fn) {\n\t\tif(!_listeners[name]) {\n\t\t\t_listeners[name] = [];\n\t\t}\n\t\treturn _listeners[name].push(fn);\n\t},\n\t_shout = function(name) {\n\t\tvar listeners = _listeners[name];\n\n\t\tif(listeners) {\n\t\t\tvar args = Array.prototype.slice.call(arguments);\n\t\t\targs.shift();\n\n\t\t\tfor(var i = 0; i < listeners.length; i++) {\n\t\t\t\tlisteners[i].apply(self, args);\n\t\t\t}\n\t\t}\n\t},\n\n\t_getCurrentTime = function() {\n\t\treturn new Date().getTime();\n\t},\n\t_applyBgOpacity = function(opacity) {\n\t\t_bgOpacity = opacity;\n\t\tself.bg.style.opacity = opacity * _options.bgOpacity;\n\t},\n\n\t_applyZoomTransform = function(styleObj,x,y,zoom,item) {\n\t\tif(!_renderMaxResolution || (item && item !== self.currItem) ) {\n\t\t\tzoom = zoom / (item ? item.fitRatio : self.currItem.fitRatio);\t\n\t\t}\n\t\t\t\n\t\tstyleObj[_transformKey] = _translatePrefix + x + 'px, ' + y + 'px' + _translateSufix + ' scale(' + zoom + ')';\n\t},\n\t_applyCurrentZoomPan = function( allowRenderResolution ) {\n\t\tif(_currZoomElementStyle) {\n\n\t\t\tif(allowRenderResolution) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\tif(!_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem, false, true);\n\t\t\t\t\t\t_renderMaxResolution = true;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif(_renderMaxResolution) {\n\t\t\t\t\t\t_setImageSize(self.currItem);\n\t\t\t\t\t\t_renderMaxResolution = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\t_applyZoomTransform(_currZoomElementStyle, _panOffset.x, _panOffset.y, _currZoomLevel);\n\t\t}\n\t},\n\t_applyZoomPanToItem = function(item) {\n\t\tif(item.container) {\n\n\t\t\t_applyZoomTransform(item.container.style, \n\t\t\t\t\t\t\t\titem.initialPosition.x, \n\t\t\t\t\t\t\t\titem.initialPosition.y, \n\t\t\t\t\t\t\t\titem.initialZoomLevel,\n\t\t\t\t\t\t\t\titem);\n\t\t}\n\t},\n\t_setTranslateX = function(x, elStyle) {\n\t\telStyle[_transformKey] = _translatePrefix + x + 'px, 0px' + _translateSufix;\n\t},\n\t_moveMainScroll = function(x, dragging) {\n\n\t\tif(!_options.loop && dragging) {\n\t\t\tvar newSlideIndexOffset = _currentItemIndex + (_slideSize.x * _currPositionIndex - x) / _slideSize.x,\n\t\t\t\tdelta = Math.round(x - _mainScrollPos.x);\n\n\t\t\tif( (newSlideIndexOffset < 0 && delta > 0) || \n\t\t\t\t(newSlideIndexOffset >= _getNumItems() - 1 && delta < 0) ) {\n\t\t\t\tx = _mainScrollPos.x + delta * _options.mainScrollEndFriction;\n\t\t\t} \n\t\t}\n\t\t\n\t\t_mainScrollPos.x = x;\n\t\t_setTranslateX(x, _containerStyle);\n\t},\n\t_calculatePanOffset = function(axis, zoomLevel) {\n\t\tvar m = _midZoomPoint[axis] - _offset[axis];\n\t\treturn _startPanOffset[axis] + _currPanDist[axis] + m - m * ( zoomLevel / _startZoomLevel );\n\t},\n\t\n\t_equalizePoints = function(p1, p2) {\n\t\tp1.x = p2.x;\n\t\tp1.y = p2.y;\n\t\tif(p2.id) {\n\t\t\tp1.id = p2.id;\n\t\t}\n\t},\n\t_roundPoint = function(p) {\n\t\tp.x = Math.round(p.x);\n\t\tp.y = Math.round(p.y);\n\t},\n\n\t_mouseMoveTimeout = null,\n\t_onFirstMouseMove = function() {\n\t\t// Wait until mouse move event is fired at least twice during 100ms\n\t\t// We do this, because some mobile browsers trigger it on touchstart\n\t\tif(_mouseMoveTimeout ) { \n\t\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\t\t\tframework.addClass(template, 'pswp--has_mouse');\n\t\t\t_options.mouseUsed = true;\n\t\t\t_shout('mouseUsed');\n\t\t}\n\t\t_mouseMoveTimeout = setTimeout(function() {\n\t\t\t_mouseMoveTimeout = null;\n\t\t}, 100);\n\t},\n\n\t_bindEvents = function() {\n\t\tframework.bind(document, 'keydown', self);\n\n\t\tif(_features.transform) {\n\t\t\t// don't bind click event in browsers that don't support transform (mostly IE8)\n\t\t\tframework.bind(self.scrollWrap, 'click', self);\n\t\t}\n\t\t\n\n\t\tif(!_options.mouseUsed) {\n\t\t\tframework.bind(document, 'mousemove', _onFirstMouseMove);\n\t\t}\n\n\t\tframework.bind(window, 'resize scroll orientationchange', self);\n\n\t\t_shout('bindEvents');\n\t},\n\n\t_unbindEvents = function() {\n\t\tframework.unbind(window, 'resize scroll orientationchange', self);\n\t\tframework.unbind(window, 'scroll', _globalEventHandlers.scroll);\n\t\tframework.unbind(document, 'keydown', self);\n\t\tframework.unbind(document, 'mousemove', _onFirstMouseMove);\n\n\t\tif(_features.transform) {\n\t\t\tframework.unbind(self.scrollWrap, 'click', self);\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\t\t}\n\n\t\tclearTimeout(_orientationChangeTimeout);\n\n\t\t_shout('unbindEvents');\n\t},\n\t\n\t_calculatePanBounds = function(zoomLevel, update) {\n\t\tvar bounds = _calculateItemSize( self.currItem, _viewportSize, zoomLevel );\n\t\tif(update) {\n\t\t\t_currPanBounds = bounds;\n\t\t}\n\t\treturn bounds;\n\t},\n\t\n\t_getMinZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.initialZoomLevel;\n\t},\n\t_getMaxZoomLevel = function(item) {\n\t\tif(!item) {\n\t\t\titem = self.currItem;\n\t\t}\n\t\treturn item.w > 0 ? _options.maxSpreadZoom : 1;\n\t},\n\n\t// Return true if offset is out of the bounds\n\t_modifyDestPanOffset = function(axis, destPanBounds, destPanOffset, destZoomLevel) {\n\t\tif(destZoomLevel === self.currItem.initialZoomLevel) {\n\t\t\tdestPanOffset[axis] = self.currItem.initialPosition[axis];\n\t\t\treturn true;\n\t\t} else {\n\t\t\tdestPanOffset[axis] = _calculatePanOffset(axis, destZoomLevel); \n\n\t\t\tif(destPanOffset[axis] > destPanBounds.min[axis]) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.min[axis];\n\t\t\t\treturn true;\n\t\t\t} else if(destPanOffset[axis] < destPanBounds.max[axis] ) {\n\t\t\t\tdestPanOffset[axis] = destPanBounds.max[axis];\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\t_setupTransforms = function() {\n\n\t\tif(_transformKey) {\n\t\t\t// setup 3d transforms\n\t\t\tvar allow3dTransform = _features.perspective && !_likelyTouchDevice;\n\t\t\t_translatePrefix = 'translate' + (allow3dTransform ? '3d(' : '(');\n\t\t\t_translateSufix = _features.perspective ? ', 0px)' : ')';\t\n\t\t\treturn;\n\t\t}\n\n\t\t// Override zoom/pan/move functions in case old browser is used (most likely IE)\n\t\t// (so they use left/top/width/height, instead of CSS transform)\n\t\n\t\t_transformKey = 'left';\n\t\tframework.addClass(template, 'pswp--ie');\n\n\t\t_setTranslateX = function(x, elStyle) {\n\t\t\telStyle.left = x + 'px';\n\t\t};\n\t\t_applyZoomPanToItem = function(item) {\n\n\t\t\tvar zoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\ts = item.container.style,\n\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\th = zoomRatio * item.h;\n\n\t\t\ts.width = w + 'px';\n\t\t\ts.height = h + 'px';\n\t\t\ts.left = item.initialPosition.x + 'px';\n\t\t\ts.top = item.initialPosition.y + 'px';\n\n\t\t};\n\t\t_applyCurrentZoomPan = function() {\n\t\t\tif(_currZoomElementStyle) {\n\n\t\t\t\tvar s = _currZoomElementStyle,\n\t\t\t\t\titem = self.currItem,\n\t\t\t\t\tzoomRatio = item.fitRatio > 1 ? 1 : item.fitRatio,\n\t\t\t\t\tw = zoomRatio * item.w,\n\t\t\t\t\th = zoomRatio * item.h;\n\n\t\t\t\ts.width = w + 'px';\n\t\t\t\ts.height = h + 'px';\n\n\n\t\t\t\ts.left = _panOffset.x + 'px';\n\t\t\t\ts.top = _panOffset.y + 'px';\n\t\t\t}\n\t\t\t\n\t\t};\n\t},\n\n\t_onKeyDown = function(e) {\n\t\tvar keydownAction = '';\n\t\tif(_options.escKey && e.keyCode === 27) { \n\t\t\tkeydownAction = 'close';\n\t\t} else if(_options.arrowKeys) {\n\t\t\tif(e.keyCode === 37) {\n\t\t\t\tkeydownAction = 'prev';\n\t\t\t} else if(e.keyCode === 39) { \n\t\t\t\tkeydownAction = 'next';\n\t\t\t}\n\t\t}\n\n\t\tif(keydownAction) {\n\t\t\t// don't do anything if special key pressed to prevent from overriding default browser actions\n\t\t\t// e.g. in Chrome on Mac cmd+arrow-left returns to previous page\n\t\t\tif( !e.ctrlKey && !e.altKey && !e.shiftKey && !e.metaKey ) {\n\t\t\t\tif(e.preventDefault) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\te.returnValue = false;\n\t\t\t\t} \n\t\t\t\tself[keydownAction]();\n\t\t\t}\n\t\t}\n\t},\n\n\t_onGlobalClick = function(e) {\n\t\tif(!e) {\n\t\t\treturn;\n\t\t}\n\n\t\t// don't allow click event to pass through when triggering after drag or some other gesture\n\t\tif(_moved || _zoomStarted || _mainScrollAnimating || _verticalDragInitiated) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t}\n\t},\n\n\t_updatePageScrollOffset = function() {\n\t\tself.setScrollOffset(0, framework.getScrollY());\t\t\n\t};\n\t\n\n\n\t\n\n\n\n// Micro animation engine\nvar _animations = {},\n\t_numAnimations = 0,\n\t_stopAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\tif(_animations[name].raf) {\n\t\t\t\t_cancelAF( _animations[name].raf );\n\t\t\t}\n\t\t\t_numAnimations--;\n\t\t\tdelete _animations[name];\n\t\t}\n\t},\n\t_registerStartAnimation = function(name) {\n\t\tif(_animations[name]) {\n\t\t\t_stopAnimation(name);\n\t\t}\n\t\tif(!_animations[name]) {\n\t\t\t_numAnimations++;\n\t\t\t_animations[name] = {};\n\t\t}\n\t},\n\t_stopAllAnimations = function() {\n\t\tfor (var prop in _animations) {\n\n\t\t\tif( _animations.hasOwnProperty( prop ) ) {\n\t\t\t\t_stopAnimation(prop);\n\t\t\t} \n\t\t\t\n\t\t}\n\t},\n\t_animateProp = function(name, b, endProp, d, easingFn, onUpdate, onComplete) {\n\t\tvar startAnimTime = _getCurrentTime(), t;\n\t\t_registerStartAnimation(name);\n\n\t\tvar animloop = function(){\n\t\t\tif ( _animations[name] ) {\n\t\t\t\t\n\t\t\t\tt = _getCurrentTime() - startAnimTime; // time diff\n\t\t\t\t//b - beginning (start prop)\n\t\t\t\t//d - anim duration\n\n\t\t\t\tif ( t >= d ) {\n\t\t\t\t\t_stopAnimation(name);\n\t\t\t\t\tonUpdate(endProp);\n\t\t\t\t\tif(onComplete) {\n\t\t\t\t\t\tonComplete();\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tonUpdate( (endProp - b) * easingFn(t/d) + b );\n\n\t\t\t\t_animations[name].raf = _requestAF(animloop);\n\t\t\t}\n\t\t};\n\t\tanimloop();\n\t};\n\t\n\n\nvar publicMethods = {\n\n\t// make a few local variables and functions public\n\tshout: _shout,\n\tlisten: _listen,\n\tviewportSize: _viewportSize,\n\toptions: _options,\n\n\tisMainScrollAnimating: function() {\n\t\treturn _mainScrollAnimating;\n\t},\n\tgetZoomLevel: function() {\n\t\treturn _currZoomLevel;\n\t},\n\tgetCurrentIndex: function() {\n\t\treturn _currentItemIndex;\n\t},\n\tisDragging: function() {\n\t\treturn _isDragging;\n\t},\t\n\tisZooming: function() {\n\t\treturn _isZooming;\n\t},\n\tsetScrollOffset: function(x,y) {\n\t\t_offset.x = x;\n\t\t_currentWindowScrollY = _offset.y = y;\n\t\t_shout('updateScrollOffset', _offset);\n\t},\n\tapplyZoomPan: function(zoomLevel,panX,panY,allowRenderResolution) {\n\t\t_panOffset.x = panX;\n\t\t_panOffset.y = panY;\n\t\t_currZoomLevel = zoomLevel;\n\t\t_applyCurrentZoomPan( allowRenderResolution );\n\t},\n\n\tinit: function() {\n\n\t\tif(_isOpen || _isDestroying) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar i;\n\n\t\tself.framework = framework; // basic functionality\n\t\tself.template = template; // root DOM element of PhotoSwipe\n\t\tself.bg = framework.getChildByClass(template, 'pswp__bg');\n\n\t\t_initalClassName = template.className;\n\t\t_isOpen = true;\n\t\t\t\t\n\t\t_features = framework.detectFeatures();\n\t\t_requestAF = _features.raf;\n\t\t_cancelAF = _features.caf;\n\t\t_transformKey = _features.transform;\n\t\t_oldIE = _features.oldIE;\n\t\t\n\t\tself.scrollWrap = framework.getChildByClass(template, 'pswp__scroll-wrap');\n\t\tself.container = framework.getChildByClass(self.scrollWrap, 'pswp__container');\n\n\t\t_containerStyle = self.container.style; // for fast access\n\n\t\t// Objects that hold slides (there are only 3 in DOM)\n\t\tself.itemHolders = _itemHolders = [\n\t\t\t{el:self.container.children[0] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[1] , wrap:0, index: -1},\n\t\t\t{el:self.container.children[2] , wrap:0, index: -1}\n\t\t];\n\n\t\t// hide nearby item holders until initial zoom animation finishes (to avoid extra Paints)\n\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'none';\n\n\t\t_setupTransforms();\n\n\t\t// Setup global events\n\t\t_globalEventHandlers = {\n\t\t\tresize: self.updateSize,\n\n\t\t\t// Fixes: iOS 10.3 resize event\n\t\t\t// does not update scrollWrap.clientWidth instantly after resize\n\t\t\t// https://github.com/dimsemenov/PhotoSwipe/issues/1315\n\t\t\torientationchange: function() {\n\t\t\t\tclearTimeout(_orientationChangeTimeout);\n\t\t\t\t_orientationChangeTimeout = setTimeout(function() {\n\t\t\t\t\tif(_viewportSize.x !== self.scrollWrap.clientWidth) {\n\t\t\t\t\t\tself.updateSize();\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t},\n\t\t\tscroll: _updatePageScrollOffset,\n\t\t\tkeydown: _onKeyDown,\n\t\t\tclick: _onGlobalClick\n\t\t};\n\n\t\t// disable show/hide effects on old browsers that don't support CSS animations or transforms, \n\t\t// old IOS, Android and Opera mobile. Blackberry seems to work fine, even older models.\n\t\tvar oldPhone = _features.isOldIOSPhone || _features.isOldAndroid || _features.isMobileOpera;\n\t\tif(!_features.animationName || !_features.transform || oldPhone) {\n\t\t\t_options.showAnimationDuration = _options.hideAnimationDuration = 0;\n\t\t}\n\n\t\t// init modules\n\t\tfor(i = 0; i < _modules.length; i++) {\n\t\t\tself['init' + _modules[i]]();\n\t\t}\n\t\t\n\t\t// init\n\t\tif(UiClass) {\n\t\t\tvar ui = self.ui = new UiClass(self, framework);\n\t\t\tui.init();\n\t\t}\n\n\t\t_shout('firstUpdate');\n\t\t_currentItemIndex = _currentItemIndex || _options.index || 0;\n\t\t// validate index\n\t\tif( isNaN(_currentItemIndex) || _currentItemIndex < 0 || _currentItemIndex >= _getNumItems() ) {\n\t\t\t_currentItemIndex = 0;\n\t\t}\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\n\t\t\n\t\tif(_features.isOldIOSPhone || _features.isOldAndroid) {\n\t\t\t_isFixedPosition = false;\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'false');\n\t\tif(_options.modal) {\n\t\t\tif(!_isFixedPosition) {\n\t\t\t\ttemplate.style.position = 'absolute';\n\t\t\t\ttemplate.style.top = framework.getScrollY() + 'px';\n\t\t\t} else {\n\t\t\t\ttemplate.style.position = 'fixed';\n\t\t\t}\n\t\t}\n\n\t\tif(_currentWindowScrollY === undefined) {\n\t\t\t_shout('initialLayout');\n\t\t\t_currentWindowScrollY = _initalWindowScrollY = framework.getScrollY();\n\t\t}\n\t\t\n\t\t// add classes to root element of PhotoSwipe\n\t\tvar rootClasses = 'pswp--open ';\n\t\tif(_options.mainClass) {\n\t\t\trootClasses += _options.mainClass + ' ';\n\t\t}\n\t\tif(_options.showHideOpacity) {\n\t\t\trootClasses += 'pswp--animate_opacity ';\n\t\t}\n\t\trootClasses += _likelyTouchDevice ? 'pswp--touch' : 'pswp--notouch';\n\t\trootClasses += _features.animationName ? ' pswp--css_animation' : '';\n\t\trootClasses += _features.svg ? ' pswp--svg' : '';\n\t\tframework.addClass(template, rootClasses);\n\n\t\tself.updateSize();\n\n\t\t// initial update\n\t\t_containerShiftIndex = -1;\n\t\t_indexDiff = null;\n\t\tfor(i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, _itemHolders[i].el.style);\n\t\t}\n\n\t\tif(!_oldIE) {\n\t\t\tframework.bind(self.scrollWrap, _downEvents, self); // no dragging for old IE\n\t\t}\t\n\n\t\t_listen('initialZoomInEnd', function() {\n\t\t\tself.setContent(_itemHolders[0], _currentItemIndex-1);\n\t\t\tself.setContent(_itemHolders[2], _currentItemIndex+1);\n\n\t\t\t_itemHolders[0].el.style.display = _itemHolders[2].el.style.display = 'block';\n\n\t\t\tif(_options.focus) {\n\t\t\t\t// focus causes layout, \n\t\t\t\t// which causes lag during the animation, \n\t\t\t\t// that's why we delay it untill the initial zoom transition ends\n\t\t\t\ttemplate.focus();\n\t\t\t}\n\t\t\t \n\n\t\t\t_bindEvents();\n\t\t});\n\n\t\t// set content for center slide (first time)\n\t\tself.setContent(_itemHolders[1], _currentItemIndex);\n\t\t\n\t\tself.updateCurrItem();\n\n\t\t_shout('afterInit');\n\n\t\tif(!_isFixedPosition) {\n\n\t\t\t// On all versions of iOS lower than 8.0, we check size of viewport every second.\n\t\t\t// \n\t\t\t// This is done to detect when Safari top & bottom bars appear, \n\t\t\t// as this action doesn't trigger any events (like resize). \n\t\t\t// \n\t\t\t// On iOS8 they fixed this.\n\t\t\t// \n\t\t\t// 10 Nov 2014: iOS 7 usage ~40%. iOS 8 usage 56%.\n\t\t\t\n\t\t\t_updateSizeInterval = setInterval(function() {\n\t\t\t\tif(!_numAnimations && !_isDragging && !_isZooming && (_currZoomLevel === self.currItem.initialZoomLevel)  ) {\n\t\t\t\t\tself.updateSize();\n\t\t\t\t}\n\t\t\t}, 1000);\n\t\t}\n\n\t\tframework.addClass(template, 'pswp--visible');\n\t},\n\n\t// Close the gallery, then destroy it\n\tclose: function() {\n\t\tif(!_isOpen) {\n\t\t\treturn;\n\t\t}\n\n\t\t_isOpen = false;\n\t\t_isDestroying = true;\n\t\t_shout('close');\n\t\t_unbindEvents();\n\n\t\t_showOrHide(self.currItem, null, true, self.destroy);\n\t},\n\n\t// destroys the gallery (unbinds events, cleans up intervals and timeouts to avoid memory leaks)\n\tdestroy: function() {\n\t\t_shout('destroy');\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\t\t\n\t\ttemplate.setAttribute('aria-hidden', 'true');\n\t\ttemplate.className = _initalClassName;\n\n\t\tif(_updateSizeInterval) {\n\t\t\tclearInterval(_updateSizeInterval);\n\t\t}\n\n\t\tframework.unbind(self.scrollWrap, _downEvents, self);\n\n\t\t// we unbind scroll event at the end, as closing animation may depend on it\n\t\tframework.unbind(window, 'scroll', self);\n\n\t\t_stopDragUpdateLoop();\n\n\t\t_stopAllAnimations();\n\n\t\t_listeners = null;\n\t},\n\n\t/**\n\t * Pan image to position\n\t * @param {Number} x     \n\t * @param {Number} y     \n\t * @param {Boolean} force Will ignore bounds if set to true.\n\t */\n\tpanTo: function(x,y,force) {\n\t\tif(!force) {\n\t\t\tif(x > _currPanBounds.min.x) {\n\t\t\t\tx = _currPanBounds.min.x;\n\t\t\t} else if(x < _currPanBounds.max.x) {\n\t\t\t\tx = _currPanBounds.max.x;\n\t\t\t}\n\n\t\t\tif(y > _currPanBounds.min.y) {\n\t\t\t\ty = _currPanBounds.min.y;\n\t\t\t} else if(y < _currPanBounds.max.y) {\n\t\t\t\ty = _currPanBounds.max.y;\n\t\t\t}\n\t\t}\n\t\t\n\t\t_panOffset.x = x;\n\t\t_panOffset.y = y;\n\t\t_applyCurrentZoomPan();\n\t},\n\t\n\thandleEvent: function (e) {\n\t\te = e || window.event;\n\t\tif(_globalEventHandlers[e.type]) {\n\t\t\t_globalEventHandlers[e.type](e);\n\t\t}\n\t},\n\n\n\tgoTo: function(index) {\n\n\t\tindex = _getLoopedId(index);\n\n\t\tvar diff = index - _currentItemIndex;\n\t\t_indexDiff = diff;\n\n\t\t_currentItemIndex = index;\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_currPositionIndex -= diff;\n\t\t\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\t\t\n\n\t\t_stopAllAnimations();\n\t\t_mainScrollAnimating = false;\n\n\t\tself.updateCurrItem();\n\t},\n\tnext: function() {\n\t\tself.goTo( _currentItemIndex + 1);\n\t},\n\tprev: function() {\n\t\tself.goTo( _currentItemIndex - 1);\n\t},\n\n\t// update current zoom/pan objects\n\tupdateCurrZoomItem: function(emulateSetContent) {\n\t\tif(emulateSetContent) {\n\t\t\t_shout('beforeChange', 0);\n\t\t}\n\n\t\t// itemHolder[1] is middle (current) item\n\t\tif(_itemHolders[1].el.children.length) {\n\t\t\tvar zoomElement = _itemHolders[1].el.children[0];\n\t\t\tif( framework.hasClass(zoomElement, 'pswp__zoom-wrap') ) {\n\t\t\t\t_currZoomElementStyle = zoomElement.style;\n\t\t\t} else {\n\t\t\t\t_currZoomElementStyle = null;\n\t\t\t}\n\t\t} else {\n\t\t\t_currZoomElementStyle = null;\n\t\t}\n\t\t\n\t\t_currPanBounds = self.currItem.bounds;\t\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\n\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t_panOffset.y = _currPanBounds.center.y;\n\n\t\tif(emulateSetContent) {\n\t\t\t_shout('afterChange');\n\t\t}\n\t},\n\n\n\tinvalidateCurrItems: function() {\n\t\t_itemsNeedUpdate = true;\n\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\tif( _itemHolders[i].item ) {\n\t\t\t\t_itemHolders[i].item.needsUpdate = true;\n\t\t\t}\n\t\t}\n\t},\n\n\tupdateCurrItem: function(beforeAnimation) {\n\n\t\tif(_indexDiff === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar diffAbs = Math.abs(_indexDiff),\n\t\t\ttempHolder;\n\n\t\tif(beforeAnimation && diffAbs < 2) {\n\t\t\treturn;\n\t\t}\n\n\n\t\tself.currItem = _getItemAt( _currentItemIndex );\n\t\t_renderMaxResolution = false;\n\t\t\n\t\t_shout('beforeChange', _indexDiff);\n\n\t\tif(diffAbs >= NUM_HOLDERS) {\n\t\t\t_containerShiftIndex += _indexDiff + (_indexDiff > 0 ? -NUM_HOLDERS : NUM_HOLDERS);\n\t\t\tdiffAbs = NUM_HOLDERS;\n\t\t}\n\t\tfor(var i = 0; i < diffAbs; i++) {\n\t\t\tif(_indexDiff > 0) {\n\t\t\t\ttempHolder = _itemHolders.shift();\n\t\t\t\t_itemHolders[NUM_HOLDERS-1] = tempHolder; // move first to last\n\n\t\t\t\t_containerShiftIndex++;\n\t\t\t\t_setTranslateX( (_containerShiftIndex+2) * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex - diffAbs + i + 1 + 1);\n\t\t\t} else {\n\t\t\t\ttempHolder = _itemHolders.pop();\n\t\t\t\t_itemHolders.unshift( tempHolder ); // move last to first\n\n\t\t\t\t_containerShiftIndex--;\n\t\t\t\t_setTranslateX( _containerShiftIndex * _slideSize.x, tempHolder.el.style);\n\t\t\t\tself.setContent(tempHolder, _currentItemIndex + diffAbs - i - 1 - 1);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t// reset zoom/pan on previous item\n\t\tif(_currZoomElementStyle && Math.abs(_indexDiff) === 1) {\n\n\t\t\tvar prevItem = _getItemAt(_prevItemIndex);\n\t\t\tif(prevItem.initialZoomLevel !== _currZoomLevel) {\n\t\t\t\t_calculateItemSize(prevItem , _viewportSize );\n\t\t\t\t_setImageSize(prevItem);\n\t\t\t\t_applyZoomPanToItem( prevItem ); \t\t\t\t\n\t\t\t}\n\n\t\t}\n\n\t\t// reset diff after update\n\t\t_indexDiff = 0;\n\n\t\tself.updateCurrZoomItem();\n\n\t\t_prevItemIndex = _currentItemIndex;\n\n\t\t_shout('afterChange');\n\t\t\n\t},\n\n\n\n\tupdateSize: function(force) {\n\t\t\n\t\tif(!_isFixedPosition && _options.modal) {\n\t\t\tvar windowScrollY = framework.getScrollY();\n\t\t\tif(_currentWindowScrollY !== windowScrollY) {\n\t\t\t\ttemplate.style.top = windowScrollY + 'px';\n\t\t\t\t_currentWindowScrollY = windowScrollY;\n\t\t\t}\n\t\t\tif(!force && _windowVisibleSize.x === window.innerWidth && _windowVisibleSize.y === window.innerHeight) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t_windowVisibleSize.x = window.innerWidth;\n\t\t\t_windowVisibleSize.y = window.innerHeight;\n\n\t\t\t//template.style.width = _windowVisibleSize.x + 'px';\n\t\t\ttemplate.style.height = _windowVisibleSize.y + 'px';\n\t\t}\n\n\n\n\t\t_viewportSize.x = self.scrollWrap.clientWidth;\n\t\t_viewportSize.y = self.scrollWrap.clientHeight;\n\n\t\t_updatePageScrollOffset();\n\n\t\t_slideSize.x = _viewportSize.x + Math.round(_viewportSize.x * _options.spacing);\n\t\t_slideSize.y = _viewportSize.y;\n\n\t\t_moveMainScroll(_slideSize.x * _currPositionIndex);\n\n\t\t_shout('beforeResize'); // even may be used for example to switch image sources\n\n\n\t\t// don't re-calculate size on inital size update\n\t\tif(_containerShiftIndex !== undefined) {\n\n\t\t\tvar holder,\n\t\t\t\titem,\n\t\t\t\thIndex;\n\n\t\t\tfor(var i = 0; i < NUM_HOLDERS; i++) {\n\t\t\t\tholder = _itemHolders[i];\n\t\t\t\t_setTranslateX( (i+_containerShiftIndex) * _slideSize.x, holder.el.style);\n\n\t\t\t\thIndex = _currentItemIndex+i-1;\n\n\t\t\t\tif(_options.loop && _getNumItems() > 2) {\n\t\t\t\t\thIndex = _getLoopedId(hIndex);\n\t\t\t\t}\n\n\t\t\t\t// update zoom level on items and refresh source (if needsUpdate)\n\t\t\t\titem = _getItemAt( hIndex );\n\n\t\t\t\t// re-render gallery item if `needsUpdate`,\n\t\t\t\t// or doesn't have `bounds` (entirely new slide object)\n\t\t\t\tif( item && (_itemsNeedUpdate || item.needsUpdate || !item.bounds) ) {\n\n\t\t\t\t\tself.cleanSlide( item );\n\t\t\t\t\t\n\t\t\t\t\tself.setContent( holder, hIndex );\n\n\t\t\t\t\t// if \"center\" slide\n\t\t\t\t\tif(i === 1) {\n\t\t\t\t\t\tself.currItem = item;\n\t\t\t\t\t\tself.updateCurrZoomItem(true);\n\t\t\t\t\t}\n\n\t\t\t\t\titem.needsUpdate = false;\n\n\t\t\t\t} else if(holder.index === -1 && hIndex >= 0) {\n\t\t\t\t\t// add content first time\n\t\t\t\t\tself.setContent( holder, hIndex );\n\t\t\t\t}\n\t\t\t\tif(item && item.container) {\n\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t_setImageSize(item);\n\t\t\t\t\t_applyZoomPanToItem( item );\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t_itemsNeedUpdate = false;\n\t\t}\t\n\n\t\t_startZoomLevel = _currZoomLevel = self.currItem.initialZoomLevel;\n\t\t_currPanBounds = self.currItem.bounds;\n\n\t\tif(_currPanBounds) {\n\t\t\t_panOffset.x = _currPanBounds.center.x;\n\t\t\t_panOffset.y = _currPanBounds.center.y;\n\t\t\t_applyCurrentZoomPan( true );\n\t\t}\n\t\t\n\t\t_shout('resize');\n\t},\n\t\n\t// Zoom current item to\n\tzoomTo: function(destZoomLevel, centerPoint, speed, easingFn, updateFn) {\n\t\t/*\n\t\t\tif(destZoomLevel === 'fit') {\n\t\t\t\tdestZoomLevel = self.currItem.fitRatio;\n\t\t\t} else if(destZoomLevel === 'fill') {\n\t\t\t\tdestZoomLevel = self.currItem.fillRatio;\n\t\t\t}\n\t\t*/\n\n\t\tif(centerPoint) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_midZoomPoint.x = Math.abs(centerPoint.x) - _panOffset.x ;\n\t\t\t_midZoomPoint.y = Math.abs(centerPoint.y) - _panOffset.y ;\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\t\t}\n\n\t\tvar destPanBounds = _calculatePanBounds(destZoomLevel, false),\n\t\t\tdestPanOffset = {};\n\n\t\t_modifyDestPanOffset('x', destPanBounds, destPanOffset, destZoomLevel);\n\t\t_modifyDestPanOffset('y', destPanBounds, destPanOffset, destZoomLevel);\n\n\t\tvar initialZoomLevel = _currZoomLevel;\n\t\tvar initialPanOffset = {\n\t\t\tx: _panOffset.x,\n\t\t\ty: _panOffset.y\n\t\t};\n\n\t\t_roundPoint(destPanOffset);\n\n\t\tvar onUpdate = function(now) {\n\t\t\tif(now === 1) {\n\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t_panOffset.x = destPanOffset.x;\n\t\t\t\t_panOffset.y = destPanOffset.y;\n\t\t\t} else {\n\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t_panOffset.x = (destPanOffset.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t_panOffset.y = (destPanOffset.y - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t}\n\n\t\t\tif(updateFn) {\n\t\t\t\tupdateFn(now);\n\t\t\t}\n\n\t\t\t_applyCurrentZoomPan( now === 1 );\n\t\t};\n\n\t\tif(speed) {\n\t\t\t_animateProp('customZoomTo', 0, 1, speed, easingFn || framework.easing.sine.inOut, onUpdate);\n\t\t} else {\n\t\t\tonUpdate(1);\n\t\t}\n\t}\n\n\n};\n\n\n/*>>core*/\n\n/*>>gestures*/\n/**\n * Mouse/touch/pointer event handlers.\n * \n * separated from @core.js for readability\n */\n\nvar MIN_SWIPE_DISTANCE = 30,\n\tDIRECTION_CHECK_OFFSET = 10; // amount of pixels to drag to determine direction of swipe\n\nvar _gestureStartTime,\n\t_gestureCheckSpeedTime,\n\n\t// pool of objects that are used during dragging of zooming\n\tp = {}, // first point\n\tp2 = {}, // second point (for zoom gesture)\n\tdelta = {},\n\t_currPoint = {},\n\t_startPoint = {},\n\t_currPointers = [],\n\t_startMainScrollPos = {},\n\t_releaseAnimData,\n\t_posPoints = [], // array of points during dragging, used to determine type of gesture\n\t_tempPoint = {},\n\n\t_isZoomingIn,\n\t_verticalDragInitiated,\n\t_oldAndroidTouchEndTimeout,\n\t_currZoomedItemIndex = 0,\n\t_centerPoint = _getEmptyPoint(),\n\t_lastReleaseTime = 0,\n\t_isDragging, // at least one pointer is down\n\t_isMultitouch, // at least two _pointers are down\n\t_zoomStarted, // zoom level changed during zoom gesture\n\t_moved,\n\t_dragAnimFrame,\n\t_mainScrollShifted,\n\t_currentPoints, // array of current touch points\n\t_isZooming,\n\t_currPointsDistance,\n\t_startPointsDistance,\n\t_currPanBounds,\n\t_mainScrollPos = _getEmptyPoint(),\n\t_currZoomElementStyle,\n\t_mainScrollAnimating, // true, if animation after swipe gesture is running\n\t_midZoomPoint = _getEmptyPoint(),\n\t_currCenterPoint = _getEmptyPoint(),\n\t_direction,\n\t_isFirstMove,\n\t_opacityChanged,\n\t_bgOpacity,\n\t_wasOverInitialZoom,\n\n\t_isEqualPoints = function(p1, p2) {\n\t\treturn p1.x === p2.x && p1.y === p2.y;\n\t},\n\t_isNearbyPoints = function(touch0, touch1) {\n\t\treturn Math.abs(touch0.x - touch1.x) < DOUBLE_TAP_RADIUS && Math.abs(touch0.y - touch1.y) < DOUBLE_TAP_RADIUS;\n\t},\n\t_calculatePointsDistance = function(p1, p2) {\n\t\t_tempPoint.x = Math.abs( p1.x - p2.x );\n\t\t_tempPoint.y = Math.abs( p1.y - p2.y );\n\t\treturn Math.sqrt(_tempPoint.x * _tempPoint.x + _tempPoint.y * _tempPoint.y);\n\t},\n\t_stopDragUpdateLoop = function() {\n\t\tif(_dragAnimFrame) {\n\t\t\t_cancelAF(_dragAnimFrame);\n\t\t\t_dragAnimFrame = null;\n\t\t}\n\t},\n\t_dragUpdateLoop = function() {\n\t\tif(_isDragging) {\n\t\t\t_dragAnimFrame = _requestAF(_dragUpdateLoop);\n\t\t\t_renderMovement();\n\t\t}\n\t},\n\t_canPan = function() {\n\t\treturn !(_options.scaleMode === 'fit' && _currZoomLevel ===  self.currItem.initialZoomLevel);\n\t},\n\t\n\t// find the closest parent DOM element\n\t_closestElement = function(el, fn) {\n\t  \tif(!el || el === document) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \t// don't search elements above pswp__scroll-wrap\n\t  \tif(el.getAttribute('class') && el.getAttribute('class').indexOf('pswp__scroll-wrap') > -1 ) {\n\t  \t\treturn false;\n\t  \t}\n\n\t  \tif( fn(el) ) {\n\t  \t\treturn el;\n\t  \t}\n\n\t  \treturn _closestElement(el.parentNode, fn);\n\t},\n\n\t_preventObj = {},\n\t_preventDefaultEventBehaviour = function(e, isDown) {\n\t    _preventObj.prevent = !_closestElement(e.target, _options.isClickableElement);\n\n\t\t_shout('preventDragEvent', e, isDown, _preventObj);\n\t\treturn _preventObj.prevent;\n\n\t},\n\t_convertTouchToPoint = function(touch, p) {\n\t\tp.x = touch.pageX;\n\t\tp.y = touch.pageY;\n\t\tp.id = touch.identifier;\n\t\treturn p;\n\t},\n\t_findCenterOfPoints = function(p1, p2, pCenter) {\n\t\tpCenter.x = (p1.x + p2.x) * 0.5;\n\t\tpCenter.y = (p1.y + p2.y) * 0.5;\n\t},\n\t_pushPosPoint = function(time, x, y) {\n\t\tif(time - _gestureCheckSpeedTime > 50) {\n\t\t\tvar o = _posPoints.length > 2 ? _posPoints.shift() : {};\n\t\t\to.x = x;\n\t\t\to.y = y; \n\t\t\t_posPoints.push(o);\n\t\t\t_gestureCheckSpeedTime = time;\n\t\t}\n\t},\n\n\t_calculateVerticalDragOpacityRatio = function() {\n\t\tvar yOffset = _panOffset.y - self.currItem.initialPosition.y; // difference between initial and current position\n\t\treturn 1 -  Math.abs( yOffset / (_viewportSize.y / 2)  );\n\t},\n\n\t\n\t// points pool, reused during touch events\n\t_ePoint1 = {},\n\t_ePoint2 = {},\n\t_tempPointsArr = [],\n\t_tempCounter,\n\t_getTouchPoints = function(e) {\n\t\t// clean up previous points, without recreating array\n\t\twhile(_tempPointsArr.length > 0) {\n\t\t\t_tempPointsArr.pop();\n\t\t}\n\n\t\tif(!_pointerEventEnabled) {\n\t\t\tif(e.type.indexOf('touch') > -1) {\n\n\t\t\t\tif(e.touches && e.touches.length > 0) {\n\t\t\t\t\t_tempPointsArr[0] = _convertTouchToPoint(e.touches[0], _ePoint1);\n\t\t\t\t\tif(e.touches.length > 1) {\n\t\t\t\t\t\t_tempPointsArr[1] = _convertTouchToPoint(e.touches[1], _ePoint2);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_ePoint1.x = e.pageX;\n\t\t\t\t_ePoint1.y = e.pageY;\n\t\t\t\t_ePoint1.id = '';\n\t\t\t\t_tempPointsArr[0] = _ePoint1;//_ePoint1;\n\t\t\t}\n\t\t} else {\n\t\t\t_tempCounter = 0;\n\t\t\t// we can use forEach, as pointer events are supported only in modern browsers\n\t\t\t_currPointers.forEach(function(p) {\n\t\t\t\tif(_tempCounter === 0) {\n\t\t\t\t\t_tempPointsArr[0] = p;\n\t\t\t\t} else if(_tempCounter === 1) {\n\t\t\t\t\t_tempPointsArr[1] = p;\n\t\t\t\t}\n\t\t\t\t_tempCounter++;\n\n\t\t\t});\n\t\t}\n\t\treturn _tempPointsArr;\n\t},\n\n\t_panOrMoveMainScroll = function(axis, delta) {\n\n\t\tvar panFriction,\n\t\t\toverDiff = 0,\n\t\t\tnewOffset = _panOffset[axis] + delta[axis],\n\t\t\tstartOverDiff,\n\t\t\tdir = delta[axis] > 0,\n\t\t\tnewMainScrollPosition = _mainScrollPos.x + delta.x,\n\t\t\tmainScrollDiff = _mainScrollPos.x - _startMainScrollPos.x,\n\t\t\tnewPanPos,\n\t\t\tnewMainScrollPos;\n\n\t\t// calculate fdistance over the bounds and friction\n\t\tif(newOffset > _currPanBounds.min[axis] || newOffset < _currPanBounds.max[axis]) {\n\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t// Linear increasing of friction, so at 1/4 of viewport it's at max value. \n\t\t\t// Looks not as nice as was expected. Left for history.\n\t\t\t// panFriction = (1 - (_panOffset[axis] + delta[axis] + panBounds.min[axis]) / (_viewportSize[axis] / 4) );\n\t\t} else {\n\t\t\tpanFriction = 1;\n\t\t}\n\t\t\n\t\tnewOffset = _panOffset[axis] + delta[axis] * panFriction;\n\n\t\t// move main scroll or start panning\n\t\tif(_options.allowPanToNext || _currZoomLevel === self.currItem.initialZoomLevel) {\n\n\n\t\t\tif(!_currZoomElementStyle) {\n\t\t\t\t\n\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t} else if(_direction === 'h' && axis === 'x' && !_zoomStarted ) {\n\t\t\t\t\n\t\t\t\tif(dir) {\n\t\t\t\t\tif(newOffset > _currPanBounds.min[axis]) {\n\t\t\t\t\t\tpanFriction = _options.panEndFriction;\n\t\t\t\t\t\toverDiff = _currPanBounds.min[axis] - newOffset;\n\t\t\t\t\t\tstartOverDiff = _currPanBounds.min[axis] - _startPanOffset[axis];\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// drag right\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff < 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\t\t\t\t\t\tif(mainScrollDiff < 0 && newMainScrollPosition > _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif(newOffset < _currPanBounds.max[axis] ) {\n\t\t\t\t\t\tpanFriction =_options.panEndFriction;\n\t\t\t\t\t\toverDiff = newOffset - _currPanBounds.max[axis];\n\t\t\t\t\t\tstartOverDiff = _startPanOffset[axis] - _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif( (startOverDiff <= 0 || mainScrollDiff > 0) && _getNumItems() > 1 ) {\n\t\t\t\t\t\tnewMainScrollPos = newMainScrollPosition;\n\n\t\t\t\t\t\tif(mainScrollDiff > 0 && newMainScrollPosition < _startMainScrollPos.x) {\n\t\t\t\t\t\t\tnewMainScrollPos = _startMainScrollPos.x;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\t\t\tnewPanPos = newOffset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\n\t\t\t\t//\n\t\t\t}\n\n\t\t\tif(axis === 'x') {\n\n\t\t\t\tif(newMainScrollPos !== undefined) {\n\t\t\t\t\t_moveMainScroll(newMainScrollPos, true);\n\t\t\t\t\tif(newMainScrollPos === _startMainScrollPos.x) {\n\t\t\t\t\t\t_mainScrollShifted = false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_mainScrollShifted = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(_currPanBounds.min.x !== _currPanBounds.max.x) {\n\t\t\t\t\tif(newPanPos !== undefined) {\n\t\t\t\t\t\t_panOffset.x = newPanPos;\n\t\t\t\t\t} else if(!_mainScrollShifted) {\n\t\t\t\t\t\t_panOffset.x += delta.x * panFriction;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn newMainScrollPos !== undefined;\n\t\t\t}\n\n\t\t}\n\n\t\tif(!_mainScrollAnimating) {\n\t\t\t\n\t\t\tif(!_mainScrollShifted) {\n\t\t\t\tif(_currZoomLevel > self.currItem.fitRatio) {\n\t\t\t\t\t_panOffset[axis] += delta[axis] * panFriction;\n\t\t\t\t\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t}\n\t\t\n\t},\n\n\t// Pointerdown/touchstart/mousedown handler\n\t_onDragStart = function(e) {\n\n\t\t// Allow dragging only via left mouse button.\n\t\t// As this handler is not added in IE8 - we ignore e.which\n\t\t// \n\t\t// http://www.quirksmode.org/js/events_properties.html\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/event.button\n\t\tif(e.type === 'mousedown' && e.button > 0  ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_initialZoomRunning) {\n\t\t\te.preventDefault();\n\t\t\treturn;\n\t\t}\n\n\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mousedown') {\n\t\t\treturn;\n\t\t}\n\n\t\tif(_preventDefaultEventBehaviour(e, true)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\n\n\t\t_shout('pointerDown');\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex < 0) {\n\t\t\t\tpointerIndex = _currPointers.length;\n\t\t\t}\n\t\t\t_currPointers[pointerIndex] = {x:e.pageX, y:e.pageY, id: e.pointerId};\n\t\t}\n\t\t\n\n\n\t\tvar startPointsList = _getTouchPoints(e),\n\t\t\tnumPoints = startPointsList.length;\n\n\t\t_currentPoints = null;\n\n\t\t_stopAllAnimations();\n\n\t\t// init drag\n\t\tif(!_isDragging || numPoints === 1) {\n\n\t\t\t\n\n\t\t\t_isDragging = _isFirstMove = true;\n\t\t\tframework.bind(window, _upMoveEvents, self);\n\n\t\t\t_isZoomingIn = \n\t\t\t\t_wasOverInitialZoom = \n\t\t\t\t_opacityChanged = \n\t\t\t\t_verticalDragInitiated = \n\t\t\t\t_mainScrollShifted = \n\t\t\t\t_moved = \n\t\t\t\t_isMultitouch = \n\t\t\t\t_zoomStarted = false;\n\n\t\t\t_direction = null;\n\n\t\t\t_shout('firstTouchStart', startPointsList);\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_currPanDist.x = _currPanDist.y = 0;\n\t\t\t_equalizePoints(_currPoint, startPointsList[0]);\n\t\t\t_equalizePoints(_startPoint, _currPoint);\n\n\t\t\t//_equalizePoints(_startMainScrollPos, _mainScrollPos);\n\t\t\t_startMainScrollPos.x = _slideSize.x * _currPositionIndex;\n\n\t\t\t_posPoints = [{\n\t\t\t\tx: _currPoint.x,\n\t\t\t\ty: _currPoint.y\n\t\t\t}];\n\n\t\t\t_gestureCheckSpeedTime = _gestureStartTime = _getCurrentTime();\n\n\t\t\t//_mainScrollAnimationEnd(true);\n\t\t\t_calculatePanBounds( _currZoomLevel, true );\n\t\t\t\n\t\t\t// Start rendering\n\t\t\t_stopDragUpdateLoop();\n\t\t\t_dragUpdateLoop();\n\t\t\t\n\t\t}\n\n\t\t// init zoom\n\t\tif(!_isZooming && numPoints > 1 && !_mainScrollAnimating && !_mainScrollShifted) {\n\t\t\t_startZoomLevel = _currZoomLevel;\n\t\t\t_zoomStarted = false; // true if zoom changed at least once\n\n\t\t\t_isZooming = _isMultitouch = true;\n\t\t\t_currPanDist.y = _currPanDist.x = 0;\n\n\t\t\t_equalizePoints(_startPanOffset, _panOffset);\n\n\t\t\t_equalizePoints(p, startPointsList[0]);\n\t\t\t_equalizePoints(p2, startPointsList[1]);\n\n\t\t\t_findCenterOfPoints(p, p2, _currCenterPoint);\n\n\t\t\t_midZoomPoint.x = Math.abs(_currCenterPoint.x) - _panOffset.x;\n\t\t\t_midZoomPoint.y = Math.abs(_currCenterPoint.y) - _panOffset.y;\n\t\t\t_currPointsDistance = _startPointsDistance = _calculatePointsDistance(p, p2);\n\t\t}\n\n\n\t},\n\n\t// Pointermove/touchmove/mousemove handler\n\t_onDragMove = function(e) {\n\n\t\te.preventDefault();\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\tvar p = _currPointers[pointerIndex];\n\t\t\t\tp.x = e.pageX;\n\t\t\t\tp.y = e.pageY; \n\t\t\t}\n\t\t}\n\n\t\tif(_isDragging) {\n\t\t\tvar touchesList = _getTouchPoints(e);\n\t\t\tif(!_direction && !_moved && !_isZooming) {\n\n\t\t\t\tif(_mainScrollPos.x !== _slideSize.x * _currPositionIndex) {\n\t\t\t\t\t// if main scroll position is shifted – direction is always horizontal\n\t\t\t\t\t_direction = 'h';\n\t\t\t\t} else {\n\t\t\t\t\tvar diff = Math.abs(touchesList[0].x - _currPoint.x) - Math.abs(touchesList[0].y - _currPoint.y);\n\t\t\t\t\t// check the direction of movement\n\t\t\t\t\tif(Math.abs(diff) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\t\t_direction = diff > 0 ? 'h' : 'v';\n\t\t\t\t\t\t_currentPoints = touchesList;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else {\n\t\t\t\t_currentPoints = touchesList;\n\t\t\t}\n\t\t}\t\n\t},\n\t// \n\t_renderMovement =  function() {\n\n\t\tif(!_currentPoints) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar numPoints = _currentPoints.length;\n\n\t\tif(numPoints === 0) {\n\t\t\treturn;\n\t\t}\n\n\t\t_equalizePoints(p, _currentPoints[0]);\n\n\t\tdelta.x = p.x - _currPoint.x;\n\t\tdelta.y = p.y - _currPoint.y;\n\n\t\tif(_isZooming && numPoints > 1) {\n\t\t\t// Handle behaviour for more than 1 point\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\t\t\n\t\t\t// check if one of two points changed\n\t\t\tif( !delta.x && !delta.y && _isEqualPoints(_currentPoints[1], p2) ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_equalizePoints(p2, _currentPoints[1]);\n\n\n\t\t\tif(!_zoomStarted) {\n\t\t\t\t_zoomStarted = true;\n\t\t\t\t_shout('zoomGestureStarted');\n\t\t\t}\n\t\t\t\n\t\t\t// Distance between two points\n\t\t\tvar pointsDistance = _calculatePointsDistance(p,p2);\n\n\t\t\tvar zoomLevel = _calculateZoomLevel(pointsDistance);\n\n\t\t\t// slightly over the of initial zoom level\n\t\t\tif(zoomLevel > self.currItem.initialZoomLevel + self.currItem.initialZoomLevel / 15) {\n\t\t\t\t_wasOverInitialZoom = true;\n\t\t\t}\n\n\t\t\t// Apply the friction if zoom level is out of the bounds\n\t\t\tvar zoomFriction = 1,\n\t\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\t\tif ( zoomLevel < minZoomLevel ) {\n\t\t\t\t\n\t\t\t\tif(_options.pinchToClose && !_wasOverInitialZoom && _startZoomLevel <= self.currItem.initialZoomLevel) {\n\t\t\t\t\t// fade out background if zooming out\n\t\t\t\t\tvar minusDiff = minZoomLevel - zoomLevel;\n\t\t\t\t\tvar percent = 1 - minusDiff / (minZoomLevel / 1.2);\n\n\t\t\t\t\t_applyBgOpacity(percent);\n\t\t\t\t\t_shout('onPinchClose', percent);\n\t\t\t\t\t_opacityChanged = true;\n\t\t\t\t} else {\n\t\t\t\t\tzoomFriction = (minZoomLevel - zoomLevel) / minZoomLevel;\n\t\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t\t}\n\t\t\t\t\tzoomLevel = minZoomLevel - zoomFriction * (minZoomLevel / 3);\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if ( zoomLevel > maxZoomLevel ) {\n\t\t\t\t// 1.5 - extra zoom level above the max. E.g. if max is x6, real max 6 + 1.5 = 7.5\n\t\t\t\tzoomFriction = (zoomLevel - maxZoomLevel) / ( minZoomLevel * 6 );\n\t\t\t\tif(zoomFriction > 1) {\n\t\t\t\t\tzoomFriction = 1;\n\t\t\t\t}\n\t\t\t\tzoomLevel = maxZoomLevel + zoomFriction * minZoomLevel;\n\t\t\t}\n\n\t\t\tif(zoomFriction < 0) {\n\t\t\t\tzoomFriction = 0;\n\t\t\t}\n\n\t\t\t// distance between touch points after friction is applied\n\t\t\t_currPointsDistance = pointsDistance;\n\n\t\t\t// _centerPoint - The point in the middle of two pointers\n\t\t\t_findCenterOfPoints(p, p2, _centerPoint);\n\t\t\n\t\t\t// paning with two pointers pressed\n\t\t\t_currPanDist.x += _centerPoint.x - _currCenterPoint.x;\n\t\t\t_currPanDist.y += _centerPoint.y - _currCenterPoint.y;\n\t\t\t_equalizePoints(_currCenterPoint, _centerPoint);\n\n\t\t\t_panOffset.x = _calculatePanOffset('x', zoomLevel);\n\t\t\t_panOffset.y = _calculatePanOffset('y', zoomLevel);\n\n\t\t\t_isZoomingIn = zoomLevel > _currZoomLevel;\n\t\t\t_currZoomLevel = zoomLevel;\n\t\t\t_applyCurrentZoomPan();\n\n\t\t} else {\n\n\t\t\t// handle behaviour for one point (dragging or panning)\n\n\t\t\tif(!_direction) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_isFirstMove) {\n\t\t\t\t_isFirstMove = false;\n\n\t\t\t\t// subtract drag distance that was used during the detection direction  \n\n\t\t\t\tif( Math.abs(delta.x) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.x -= _currentPoints[0].x - _startPoint.x;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif( Math.abs(delta.y) >= DIRECTION_CHECK_OFFSET) {\n\t\t\t\t\tdelta.y -= _currentPoints[0].y - _startPoint.y;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_currPoint.x = p.x;\n\t\t\t_currPoint.y = p.y;\n\n\t\t\t// do nothing if pointers position hasn't changed\n\t\t\tif(delta.x === 0 && delta.y === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_direction === 'v' && _options.closeOnVerticalDrag) {\n\t\t\t\tif(!_canPan()) {\n\t\t\t\t\t_currPanDist.y += delta.y;\n\t\t\t\t\t_panOffset.y += delta.y;\n\n\t\t\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\t\t\t_verticalDragInitiated = true;\n\t\t\t\t\t_shout('onVerticalDrag', opacityRatio);\n\n\t\t\t\t\t_applyBgOpacity(opacityRatio);\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\treturn ;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_pushPosPoint(_getCurrentTime(), p.x, p.y);\n\n\t\t\t_moved = true;\n\t\t\t_currPanBounds = self.currItem.bounds;\n\t\t\t\n\t\t\tvar mainScrollChanged = _panOrMoveMainScroll('x', delta);\n\t\t\tif(!mainScrollChanged) {\n\t\t\t\t_panOrMoveMainScroll('y', delta);\n\n\t\t\t\t_roundPoint(_panOffset);\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t}\n\n\t},\n\t\n\t// Pointerup/pointercancel/touchend/touchcancel/mouseup event handler\n\t_onDragRelease = function(e) {\n\n\t\tif(_features.isOldAndroid ) {\n\n\t\t\tif(_oldAndroidTouchEndTimeout && e.type === 'mouseup') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// on Android (v4.1, 4.2, 4.3 & possibly older) \n\t\t\t// ghost mousedown/up event isn't preventable via e.preventDefault,\n\t\t\t// which causes fake mousedown event\n\t\t\t// so we block mousedown/up for 600ms\n\t\t\tif( e.type.indexOf('touch') > -1 ) {\n\t\t\t\tclearTimeout(_oldAndroidTouchEndTimeout);\n\t\t\t\t_oldAndroidTouchEndTimeout = setTimeout(function() {\n\t\t\t\t\t_oldAndroidTouchEndTimeout = 0;\n\t\t\t\t}, 600);\n\t\t\t}\n\t\t\t\n\t\t}\n\n\t\t_shout('pointerUp');\n\n\t\tif(_preventDefaultEventBehaviour(e, false)) {\n\t\t\te.preventDefault();\n\t\t}\n\n\t\tvar releasePoint;\n\n\t\tif(_pointerEventEnabled) {\n\t\t\tvar pointerIndex = framework.arraySearch(_currPointers, e.pointerId, 'id');\n\t\t\t\n\t\t\tif(pointerIndex > -1) {\n\t\t\t\treleasePoint = _currPointers.splice(pointerIndex, 1)[0];\n\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\tvar MSPOINTER_TYPES = {\n\t\t\t\t\t\t4: 'mouse', // event.MSPOINTER_TYPE_MOUSE\n\t\t\t\t\t\t2: 'touch', // event.MSPOINTER_TYPE_TOUCH \n\t\t\t\t\t\t3: 'pen' // event.MSPOINTER_TYPE_PEN\n\t\t\t\t\t};\n\t\t\t\t\treleasePoint.type = MSPOINTER_TYPES[e.pointerType];\n\n\t\t\t\t\tif(!releasePoint.type) {\n\t\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\treleasePoint.type = e.pointerType || 'mouse';\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\n\t\tvar touchList = _getTouchPoints(e),\n\t\t\tgestureType,\n\t\t\tnumPoints = touchList.length;\n\n\t\tif(e.type === 'mouseup') {\n\t\t\tnumPoints = 0;\n\t\t}\n\n\t\t// Do nothing if there were 3 touch points or more\n\t\tif(numPoints === 2) {\n\t\t\t_currentPoints = null;\n\t\t\treturn true;\n\t\t}\n\n\t\t// if second pointer released\n\t\tif(numPoints === 1) {\n\t\t\t_equalizePoints(_startPoint, touchList[0]);\n\t\t}\t\t\t\t\n\n\n\t\t// pointer hasn't moved, send \"tap release\" point\n\t\tif(numPoints === 0 && !_direction && !_mainScrollAnimating) {\n\t\t\tif(!releasePoint) {\n\t\t\t\tif(e.type === 'mouseup') {\n\t\t\t\t\treleasePoint = {x: e.pageX, y: e.pageY, type:'mouse'};\n\t\t\t\t} else if(e.changedTouches && e.changedTouches[0]) {\n\t\t\t\t\treleasePoint = {x: e.changedTouches[0].pageX, y: e.changedTouches[0].pageY, type:'touch'};\n\t\t\t\t}\t\t\n\t\t\t}\n\n\t\t\t_shout('touchRelease', e, releasePoint);\n\t\t}\n\n\t\t// Difference in time between releasing of two last touch points (zoom gesture)\n\t\tvar releaseTimeDiff = -1;\n\n\t\t// Gesture completed, no pointers left\n\t\tif(numPoints === 0) {\n\t\t\t_isDragging = false;\n\t\t\tframework.unbind(window, _upMoveEvents, self);\n\n\t\t\t_stopDragUpdateLoop();\n\n\t\t\tif(_isZooming) {\n\t\t\t\t// Two points released at the same time\n\t\t\t\treleaseTimeDiff = 0;\n\t\t\t} else if(_lastReleaseTime !== -1) {\n\t\t\t\treleaseTimeDiff = _getCurrentTime() - _lastReleaseTime;\n\t\t\t}\n\t\t}\n\t\t_lastReleaseTime = numPoints === 1 ? _getCurrentTime() : -1;\n\t\t\n\t\tif(releaseTimeDiff !== -1 && releaseTimeDiff < 150) {\n\t\t\tgestureType = 'zoom';\n\t\t} else {\n\t\t\tgestureType = 'swipe';\n\t\t}\n\n\t\tif(_isZooming && numPoints < 2) {\n\t\t\t_isZooming = false;\n\n\t\t\t// Only second point released\n\t\t\tif(numPoints === 1) {\n\t\t\t\tgestureType = 'zoomPointerUp';\n\t\t\t}\n\t\t\t_shout('zoomGestureEnded');\n\t\t}\n\n\t\t_currentPoints = null;\n\t\tif(!_moved && !_zoomStarted && !_mainScrollAnimating && !_verticalDragInitiated) {\n\t\t\t// nothing to animate\n\t\t\treturn;\n\t\t}\n\t\n\t\t_stopAllAnimations();\n\n\t\t\n\t\tif(!_releaseAnimData) {\n\t\t\t_releaseAnimData = _initDragReleaseAnimationData();\n\t\t}\n\t\t\n\t\t_releaseAnimData.calculateSwipeSpeed('x');\n\n\n\t\tif(_verticalDragInitiated) {\n\n\t\t\tvar opacityRatio = _calculateVerticalDragOpacityRatio();\n\n\t\t\tif(opacityRatio < _options.verticalDragRange) {\n\t\t\t\tself.close();\n\t\t\t} else {\n\t\t\t\tvar initalPanY = _panOffset.y,\n\t\t\t\t\tinitialBgOpacity = _bgOpacity;\n\n\t\t\t\t_animateProp('verticalDrag', 0, 1, 300, framework.easing.cubic.out, function(now) {\n\t\t\t\t\t\n\t\t\t\t\t_panOffset.y = (self.currItem.initialPosition.y - initalPanY) * now + initalPanY;\n\n\t\t\t\t\t_applyBgOpacity(  (1 - initialBgOpacity) * now + initialBgOpacity );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t});\n\n\t\t\t\t_shout('onVerticalDrag', 1);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\n\t\t// main scroll \n\t\tif(  (_mainScrollShifted || _mainScrollAnimating) && numPoints === 0) {\n\t\t\tvar itemChanged = _finishSwipeMainScrollGesture(gestureType, _releaseAnimData);\n\t\t\tif(itemChanged) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tgestureType = 'zoomPointerUp';\n\t\t}\n\n\t\t// prevent zoom/pan animation when main scroll animation runs\n\t\tif(_mainScrollAnimating) {\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// Complete simple zoom gesture (reset zoom level if it's out of the bounds)  \n\t\tif(gestureType !== 'swipe') {\n\t\t\t_completeZoomGesture();\n\t\t\treturn;\n\t\t}\n\t\n\t\t// Complete pan gesture if main scroll is not shifted, and it's possible to pan current image\n\t\tif(!_mainScrollShifted && _currZoomLevel > self.currItem.fitRatio) {\n\t\t\t_completePanGesture(_releaseAnimData);\n\t\t}\n\t},\n\n\n\t// Returns object with data about gesture\n\t// It's created only once and then reused\n\t_initDragReleaseAnimationData  = function() {\n\t\t// temp local vars\n\t\tvar lastFlickDuration,\n\t\t\ttempReleasePos;\n\n\t\t// s = this\n\t\tvar s = {\n\t\t\tlastFlickOffset: {},\n\t\t\tlastFlickDist: {},\n\t\t\tlastFlickSpeed: {},\n\t\t\tslowDownRatio:  {},\n\t\t\tslowDownRatioReverse:  {},\n\t\t\tspeedDecelerationRatio:  {},\n\t\t\tspeedDecelerationRatioAbs:  {},\n\t\t\tdistanceOffset:  {},\n\t\t\tbackAnimDestination: {},\n\t\t\tbackAnimStarted: {},\n\t\t\tcalculateSwipeSpeed: function(axis) {\n\t\t\t\t\n\n\t\t\t\tif( _posPoints.length > 1) {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureCheckSpeedTime + 50;\n\t\t\t\t\ttempReleasePos = _posPoints[_posPoints.length-2][axis];\n\t\t\t\t} else {\n\t\t\t\t\tlastFlickDuration = _getCurrentTime() - _gestureStartTime; // total gesture duration\n\t\t\t\t\ttempReleasePos = _startPoint[axis];\n\t\t\t\t}\n\t\t\t\ts.lastFlickOffset[axis] = _currPoint[axis] - tempReleasePos;\n\t\t\t\ts.lastFlickDist[axis] = Math.abs(s.lastFlickOffset[axis]);\n\t\t\t\tif(s.lastFlickDist[axis] > 20) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = s.lastFlickOffset[axis] / lastFlickDuration;\n\t\t\t\t} else {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\tif( Math.abs(s.lastFlickSpeed[axis]) < 0.1 ) {\n\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\ts.slowDownRatio[axis] = 0.95;\n\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\ts.speedDecelerationRatio[axis] = 1;\n\t\t\t},\n\n\t\t\tcalculateOverBoundsAnimOffset: function(axis, speed) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\n\t\t\t\t\tif(_panOffset[axis] > _currPanBounds.min[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.min[axis];\n\t\t\t\t\t\t\n\t\t\t\t\t} else if(_panOffset[axis] < _currPanBounds.max[axis]) {\n\t\t\t\t\t\ts.backAnimDestination[axis] = _currPanBounds.max[axis];\n\t\t\t\t\t}\n\n\t\t\t\t\tif(s.backAnimDestination[axis] !== undefined) {\n\t\t\t\t\t\ts.slowDownRatio[axis] = 0.7;\n\t\t\t\t\t\ts.slowDownRatioReverse[axis] = 1 - s.slowDownRatio[axis];\n\t\t\t\t\t\tif(s.speedDecelerationRatioAbs[axis] < 0.05) {\n\n\t\t\t\t\t\t\ts.lastFlickSpeed[axis] = 0;\n\t\t\t\t\t\t\ts.backAnimStarted[axis] = true;\n\n\t\t\t\t\t\t\t_animateProp('bounceZoomPan'+axis,_panOffset[axis], \n\t\t\t\t\t\t\t\ts.backAnimDestination[axis], \n\t\t\t\t\t\t\t\tspeed || 300, \n\t\t\t\t\t\t\t\tframework.easing.sine.out, \n\t\t\t\t\t\t\t\tfunction(pos) {\n\t\t\t\t\t\t\t\t\t_panOffset[axis] = pos;\n\t\t\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Reduces the speed by slowDownRatio (per 10ms)\n\t\t\tcalculateAnimOffset: function(axis) {\n\t\t\t\tif(!s.backAnimStarted[axis]) {\n\t\t\t\t\ts.speedDecelerationRatio[axis] = s.speedDecelerationRatio[axis] * (s.slowDownRatio[axis] + \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] - \n\t\t\t\t\t\t\t\t\t\t\t\ts.slowDownRatioReverse[axis] * s.timeDiff / 10);\n\n\t\t\t\t\ts.speedDecelerationRatioAbs[axis] = Math.abs(s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis]);\n\t\t\t\t\ts.distanceOffset[axis] = s.lastFlickSpeed[axis] * s.speedDecelerationRatio[axis] * s.timeDiff;\n\t\t\t\t\t_panOffset[axis] += s.distanceOffset[axis];\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tpanAnimLoop: function() {\n\t\t\t\tif ( _animations.zoomPan ) {\n\t\t\t\t\t_animations.zoomPan.raf = _requestAF(s.panAnimLoop);\n\n\t\t\t\t\ts.now = _getCurrentTime();\n\t\t\t\t\ts.timeDiff = s.now - s.lastNow;\n\t\t\t\t\ts.lastNow = s.now;\n\t\t\t\t\t\n\t\t\t\t\ts.calculateAnimOffset('x');\n\t\t\t\t\ts.calculateAnimOffset('y');\n\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('x');\n\t\t\t\t\ts.calculateOverBoundsAnimOffset('y');\n\n\n\t\t\t\t\tif (s.speedDecelerationRatioAbs.x < 0.05 && s.speedDecelerationRatioAbs.y < 0.05) {\n\n\t\t\t\t\t\t// round pan position\n\t\t\t\t\t\t_panOffset.x = Math.round(_panOffset.x);\n\t\t\t\t\t\t_panOffset.y = Math.round(_panOffset.y);\n\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\n\t\t\t\t\t\t_stopAnimation('zoomPan');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\t\t};\n\t\treturn s;\n\t},\n\n\t_completePanGesture = function(animData) {\n\t\t// calculate swipe speed for Y axis (paanning)\n\t\tanimData.calculateSwipeSpeed('y');\n\n\t\t_currPanBounds = self.currItem.bounds;\n\t\t\n\t\tanimData.backAnimDestination = {};\n\t\tanimData.backAnimStarted = {};\n\n\t\t// Avoid acceleration animation if speed is too low\n\t\tif(Math.abs(animData.lastFlickSpeed.x) <= 0.05 && Math.abs(animData.lastFlickSpeed.y) <= 0.05 ) {\n\t\t\tanimData.speedDecelerationRatioAbs.x = animData.speedDecelerationRatioAbs.y = 0;\n\n\t\t\t// Run pan drag release animation. E.g. if you drag image and release finger without momentum.\n\t\t\tanimData.calculateOverBoundsAnimOffset('x');\n\t\t\tanimData.calculateOverBoundsAnimOffset('y');\n\t\t\treturn true;\n\t\t}\n\n\t\t// Animation loop that controls the acceleration after pan gesture ends\n\t\t_registerStartAnimation('zoomPan');\n\t\tanimData.lastNow = _getCurrentTime();\n\t\tanimData.panAnimLoop();\n\t},\n\n\n\t_finishSwipeMainScrollGesture = function(gestureType, _releaseAnimData) {\n\t\tvar itemChanged;\n\t\tif(!_mainScrollAnimating) {\n\t\t\t_currZoomedItemIndex = _currentItemIndex;\n\t\t}\n\n\n\t\t\n\t\tvar itemsDiff;\n\n\t\tif(gestureType === 'swipe') {\n\t\t\tvar totalShiftDist = _currPoint.x - _startPoint.x,\n\t\t\t\tisFastLastFlick = _releaseAnimData.lastFlickDist.x < 10;\n\n\t\t\t// if container is shifted for more than MIN_SWIPE_DISTANCE, \n\t\t\t// and last flick gesture was in right direction\n\t\t\tif(totalShiftDist > MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x > 20) ) {\n\t\t\t\t// go to prev item\n\t\t\t\titemsDiff = -1;\n\t\t\t} else if(totalShiftDist < -MIN_SWIPE_DISTANCE && \n\t\t\t\t(isFastLastFlick || _releaseAnimData.lastFlickOffset.x < -20) ) {\n\t\t\t\t// go to next item\n\t\t\t\titemsDiff = 1;\n\t\t\t}\n\t\t}\n\n\t\tvar nextCircle;\n\n\t\tif(itemsDiff) {\n\t\t\t\n\t\t\t_currentItemIndex += itemsDiff;\n\n\t\t\tif(_currentItemIndex < 0) {\n\t\t\t\t_currentItemIndex = _options.loop ? _getNumItems()-1 : 0;\n\t\t\t\tnextCircle = true;\n\t\t\t} else if(_currentItemIndex >= _getNumItems()) {\n\t\t\t\t_currentItemIndex = _options.loop ? 0 : _getNumItems()-1;\n\t\t\t\tnextCircle = true;\n\t\t\t}\n\n\t\t\tif(!nextCircle || _options.loop) {\n\t\t\t\t_indexDiff += itemsDiff;\n\t\t\t\t_currPositionIndex -= itemsDiff;\n\t\t\t\titemChanged = true;\n\t\t\t}\n\t\t\t\n\n\t\t\t\n\t\t}\n\n\t\tvar animateToX = _slideSize.x * _currPositionIndex;\n\t\tvar animateToDist = Math.abs( animateToX - _mainScrollPos.x );\n\t\tvar finishAnimDuration;\n\n\n\t\tif(!itemChanged && animateToX > _mainScrollPos.x !== _releaseAnimData.lastFlickSpeed.x > 0) {\n\t\t\t// \"return to current\" duration, e.g. when dragging from slide 0 to -1\n\t\t\tfinishAnimDuration = 333; \n\t\t} else {\n\t\t\tfinishAnimDuration = Math.abs(_releaseAnimData.lastFlickSpeed.x) > 0 ? \n\t\t\t\t\t\t\t\t\tanimateToDist / Math.abs(_releaseAnimData.lastFlickSpeed.x) : \n\t\t\t\t\t\t\t\t\t333;\n\n\t\t\tfinishAnimDuration = Math.min(finishAnimDuration, 400);\n\t\t\tfinishAnimDuration = Math.max(finishAnimDuration, 250);\n\t\t}\n\n\t\tif(_currZoomedItemIndex === _currentItemIndex) {\n\t\t\titemChanged = false;\n\t\t}\n\t\t\n\t\t_mainScrollAnimating = true;\n\t\t\n\t\t_shout('mainScrollAnimStart');\n\n\t\t_animateProp('mainScroll', _mainScrollPos.x, animateToX, finishAnimDuration, framework.easing.cubic.out, \n\t\t\t_moveMainScroll,\n\t\t\tfunction() {\n\t\t\t\t_stopAllAnimations();\n\t\t\t\t_mainScrollAnimating = false;\n\t\t\t\t_currZoomedItemIndex = -1;\n\t\t\t\t\n\t\t\t\tif(itemChanged || _currZoomedItemIndex !== _currentItemIndex) {\n\t\t\t\t\tself.updateCurrItem();\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t_shout('mainScrollAnimComplete');\n\t\t\t}\n\t\t);\n\n\t\tif(itemChanged) {\n\t\t\tself.updateCurrItem(true);\n\t\t}\n\n\t\treturn itemChanged;\n\t},\n\n\t_calculateZoomLevel = function(touchesDistance) {\n\t\treturn  1 / _startPointsDistance * touchesDistance * _startZoomLevel;\n\t},\n\n\t// Resets zoom if it's out of bounds\n\t_completeZoomGesture = function() {\n\t\tvar destZoomLevel = _currZoomLevel,\n\t\t\tminZoomLevel = _getMinZoomLevel(),\n\t\t\tmaxZoomLevel = _getMaxZoomLevel();\n\n\t\tif ( _currZoomLevel < minZoomLevel ) {\n\t\t\tdestZoomLevel = minZoomLevel;\n\t\t} else if ( _currZoomLevel > maxZoomLevel ) {\n\t\t\tdestZoomLevel = maxZoomLevel;\n\t\t}\n\n\t\tvar destOpacity = 1,\n\t\t\tonUpdate,\n\t\t\tinitialOpacity = _bgOpacity;\n\n\t\tif(_opacityChanged && !_isZoomingIn && !_wasOverInitialZoom && _currZoomLevel < minZoomLevel) {\n\t\t\t//_closedByScroll = true;\n\t\t\tself.close();\n\t\t\treturn true;\n\t\t}\n\n\t\tif(_opacityChanged) {\n\t\t\tonUpdate = function(now) {\n\t\t\t\t_applyBgOpacity(  (destOpacity - initialOpacity) * now + initialOpacity );\n\t\t\t};\n\t\t}\n\n\t\tself.zoomTo(destZoomLevel, 0, 200,  framework.easing.cubic.out, onUpdate);\n\t\treturn true;\n\t};\n\n\n_registerModule('Gestures', {\n\tpublicMethods: {\n\n\t\tinitGestures: function() {\n\n\t\t\t// helper function that builds touch/pointer/mouse events\n\t\t\tvar addEventNames = function(pref, down, move, up, cancel) {\n\t\t\t\t_dragStartEvent = pref + down;\n\t\t\t\t_dragMoveEvent = pref + move;\n\t\t\t\t_dragEndEvent = pref + up;\n\t\t\t\tif(cancel) {\n\t\t\t\t\t_dragCancelEvent = pref + cancel;\n\t\t\t\t} else {\n\t\t\t\t\t_dragCancelEvent = '';\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t_pointerEventEnabled = _features.pointerEvent;\n\t\t\tif(_pointerEventEnabled && _features.touch) {\n\t\t\t\t// we don't need touch events, if browser supports pointer events\n\t\t\t\t_features.touch = false;\n\t\t\t}\n\n\t\t\tif(_pointerEventEnabled) {\n\t\t\t\tif(navigator.msPointerEnabled) {\n\t\t\t\t\t// IE10 pointer events are case-sensitive\n\t\t\t\t\taddEventNames('MSPointer', 'Down', 'Move', 'Up', 'Cancel');\n\t\t\t\t} else {\n\t\t\t\t\taddEventNames('pointer', 'down', 'move', 'up', 'cancel');\n\t\t\t\t}\n\t\t\t} else if(_features.touch) {\n\t\t\t\taddEventNames('touch', 'start', 'move', 'end', 'cancel');\n\t\t\t\t_likelyTouchDevice = true;\n\t\t\t} else {\n\t\t\t\taddEventNames('mouse', 'down', 'move', 'up');\t\n\t\t\t}\n\n\t\t\t_upMoveEvents = _dragMoveEvent + ' ' + _dragEndEvent  + ' ' +  _dragCancelEvent;\n\t\t\t_downEvents = _dragStartEvent;\n\n\t\t\tif(_pointerEventEnabled && !_likelyTouchDevice) {\n\t\t\t\t_likelyTouchDevice = (navigator.maxTouchPoints > 1) || (navigator.msMaxTouchPoints > 1);\n\t\t\t}\n\t\t\t// make variable public\n\t\t\tself.likelyTouchDevice = _likelyTouchDevice; \n\t\t\t\n\t\t\t_globalEventHandlers[_dragStartEvent] = _onDragStart;\n\t\t\t_globalEventHandlers[_dragMoveEvent] = _onDragMove;\n\t\t\t_globalEventHandlers[_dragEndEvent] = _onDragRelease; // the Kraken\n\n\t\t\tif(_dragCancelEvent) {\n\t\t\t\t_globalEventHandlers[_dragCancelEvent] = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\t// Bind mouse events on device with detected hardware touch support, in case it supports multiple types of input.\n\t\t\tif(_features.touch) {\n\t\t\t\t_downEvents += ' mousedown';\n\t\t\t\t_upMoveEvents += ' mousemove mouseup';\n\t\t\t\t_globalEventHandlers.mousedown = _globalEventHandlers[_dragStartEvent];\n\t\t\t\t_globalEventHandlers.mousemove = _globalEventHandlers[_dragMoveEvent];\n\t\t\t\t_globalEventHandlers.mouseup = _globalEventHandlers[_dragEndEvent];\n\t\t\t}\n\n\t\t\tif(!_likelyTouchDevice) {\n\t\t\t\t// don't allow pan to next slide from zoomed state on Desktop\n\t\t\t\t_options.allowPanToNext = false;\n\t\t\t}\n\t\t}\n\n\t}\n});\n\n\n/*>>gestures*/\n\n/*>>show-hide-transition*/\n/**\n * show-hide-transition.js:\n *\n * Manages initial opening or closing transition.\n *\n * If you're not planning to use transition for gallery at all,\n * you may set options hideAnimationDuration and showAnimationDuration to 0,\n * and just delete startAnimation function.\n * \n */\n\n\nvar _showOrHideTimeout,\n\t_showOrHide = function(item, img, out, completeFn) {\n\n\t\tif(_showOrHideTimeout) {\n\t\t\tclearTimeout(_showOrHideTimeout);\n\t\t}\n\n\t\t_initialZoomRunning = true;\n\t\t_initialContentSet = true;\n\t\t\n\t\t// dimensions of small thumbnail {x:,y:,w:}.\n\t\t// Height is optional, as calculated based on large image.\n\t\tvar thumbBounds; \n\t\tif(item.initialLayout) {\n\t\t\tthumbBounds = item.initialLayout;\n\t\t\titem.initialLayout = null;\n\t\t} else {\n\t\t\tthumbBounds = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t}\n\n\t\tvar duration = out ? _options.hideAnimationDuration : _options.showAnimationDuration;\n\n\t\tvar onComplete = function() {\n\t\t\t_stopAnimation('initialZoom');\n\t\t\tif(!out) {\n\t\t\t\t_applyBgOpacity(1);\n\t\t\t\tif(img) {\n\t\t\t\t\timg.style.display = 'block';\n\t\t\t\t}\n\t\t\t\tframework.addClass(template, 'pswp--animated-in');\n\t\t\t\t_shout('initialZoom' + (out ? 'OutEnd' : 'InEnd'));\n\t\t\t} else {\n\t\t\t\tself.template.removeAttribute('style');\n\t\t\t\tself.bg.removeAttribute('style');\n\t\t\t}\n\n\t\t\tif(completeFn) {\n\t\t\t\tcompleteFn();\n\t\t\t}\n\t\t\t_initialZoomRunning = false;\n\t\t};\n\n\t\t// if bounds aren't provided, just open gallery without animation\n\t\tif(!duration || !thumbBounds || thumbBounds.x === undefined) {\n\n\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\n\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t_applyCurrentZoomPan();\n\n\t\t\ttemplate.style.opacity = out ? 0 : 1;\n\t\t\t_applyBgOpacity(1);\n\n\t\t\tif(duration) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tonComplete();\n\t\t\t\t}, duration);\n\t\t\t} else {\n\t\t\t\tonComplete();\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tvar startAnimation = function() {\n\t\t\tvar closeWithRaf = _closedByScroll,\n\t\t\t\tfadeEverything = !self.currItem.src || self.currItem.loadError || _options.showHideOpacity;\n\t\t\t\n\t\t\t// apply hw-acceleration to image\n\t\t\tif(item.miniImg) {\n\t\t\t\titem.miniImg.style.webkitBackfaceVisibility = 'hidden';\n\t\t\t}\n\n\t\t\tif(!out) {\n\t\t\t\t_currZoomLevel = thumbBounds.w / item.w;\n\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t_panOffset.y = thumbBounds.y - _initalWindowScrollY;\n\n\t\t\t\tself[fadeEverything ? 'template' : 'bg'].style.opacity = 0.001;\n\t\t\t\t_applyCurrentZoomPan();\n\t\t\t}\n\n\t\t\t_registerStartAnimation('initialZoom');\n\t\t\t\n\t\t\tif(out && !closeWithRaf) {\n\t\t\t\tframework.removeClass(template, 'pswp--animated-in');\n\t\t\t}\n\n\t\t\tif(fadeEverything) {\n\t\t\t\tif(out) {\n\t\t\t\t\tframework[ (closeWithRaf ? 'remove' : 'add') + 'Class' ](template, 'pswp--animate_opacity');\n\t\t\t\t} else {\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--animate_opacity');\n\t\t\t\t\t}, 30);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_showOrHideTimeout = setTimeout(function() {\n\n\t\t\t\t_shout('initialZoom' + (out ? 'Out' : 'In') );\n\t\t\t\t\n\n\t\t\t\tif(!out) {\n\n\t\t\t\t\t// \"in\" animation always uses CSS transitions (instead of rAF).\n\t\t\t\t\t// CSS transition work faster here, \n\t\t\t\t\t// as developer may also want to animate other things, \n\t\t\t\t\t// like ui on top of sliding area, which can be animated just via CSS\n\t\t\t\t\t\n\t\t\t\t\t_currZoomLevel = item.initialZoomLevel;\n\t\t\t\t\t_equalizePoints(_panOffset,  item.initialPosition );\n\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t_applyBgOpacity(1);\n\n\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\ttemplate.style.opacity = 1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_applyBgOpacity(1);\n\t\t\t\t\t}\n\n\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t} else {\n\n\t\t\t\t\t// \"out\" animation uses rAF only when PhotoSwipe is closed by browser scroll, to recalculate position\n\t\t\t\t\tvar destZoomLevel = thumbBounds.w / item.w,\n\t\t\t\t\t\tinitialPanOffset = {\n\t\t\t\t\t\t\tx: _panOffset.x,\n\t\t\t\t\t\t\ty: _panOffset.y\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinitialZoomLevel = _currZoomLevel,\n\t\t\t\t\t\tinitalBgOpacity = _bgOpacity,\n\t\t\t\t\t\tonUpdate = function(now) {\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tif(now === 1) {\n\t\t\t\t\t\t\t\t_currZoomLevel = destZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = thumbBounds.x;\n\t\t\t\t\t\t\t\t_panOffset.y = thumbBounds.y  - _currentWindowScrollY;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_currZoomLevel = (destZoomLevel - initialZoomLevel) * now + initialZoomLevel;\n\t\t\t\t\t\t\t\t_panOffset.x = (thumbBounds.x - initialPanOffset.x) * now + initialPanOffset.x;\n\t\t\t\t\t\t\t\t_panOffset.y = (thumbBounds.y - _currentWindowScrollY - initialPanOffset.y) * now + initialPanOffset.y;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t_applyCurrentZoomPan();\n\t\t\t\t\t\t\tif(fadeEverything) {\n\t\t\t\t\t\t\t\ttemplate.style.opacity = 1 - now;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_applyBgOpacity( initalBgOpacity - now * initalBgOpacity );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\n\t\t\t\t\tif(closeWithRaf) {\n\t\t\t\t\t\t_animateProp('initialZoom', 0, 1, duration, framework.easing.cubic.out, onUpdate, onComplete);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tonUpdate(1);\n\t\t\t\t\t\t_showOrHideTimeout = setTimeout(onComplete, duration + 20);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}, out ? 25 : 90); // Main purpose of this delay is to give browser time to paint and\n\t\t\t\t\t// create composite layers of PhotoSwipe UI parts (background, controls, caption, arrows).\n\t\t\t\t\t// Which avoids lag at the beginning of scale transition.\n\t\t};\n\t\tstartAnimation();\n\n\t\t\n\t};\n\n/*>>show-hide-transition*/\n\n/*>>items-controller*/\n/**\n*\n* Controller manages gallery items, their dimensions, and their content.\n* \n*/\n\nvar _items,\n\t_tempPanAreaSize = {},\n\t_imagesToAppendPool = [],\n\t_initialContentSet,\n\t_initialZoomRunning,\n\t_controllerDefaultOptions = {\n\t\tindex: 0,\n\t\terrorMsg: '<div class=\"pswp__error-msg\"><a href=\"%url%\" target=\"_blank\">The image</a> could not be loaded.</div>',\n\t\tforceProgressiveLoading: false, // TODO\n\t\tpreload: [1,1],\n\t\tgetNumItemsFn: function() {\n\t\t\treturn _items.length;\n\t\t}\n\t};\n\n\nvar _getItemAt,\n\t_getNumItems,\n\t_initialIsLoop,\n\t_getZeroBounds = function() {\n\t\treturn {\n\t\t\tcenter:{x:0,y:0}, \n\t\t\tmax:{x:0,y:0}, \n\t\t\tmin:{x:0,y:0}\n\t\t};\n\t},\n\t_calculateSingleItemPanBounds = function(item, realPanElementW, realPanElementH ) {\n\t\tvar bounds = item.bounds;\n\n\t\t// position of element when it's centered\n\t\tbounds.center.x = Math.round((_tempPanAreaSize.x - realPanElementW) / 2);\n\t\tbounds.center.y = Math.round((_tempPanAreaSize.y - realPanElementH) / 2) + item.vGap.top;\n\n\t\t// maximum pan position\n\t\tbounds.max.x = (realPanElementW > _tempPanAreaSize.x) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.x - realPanElementW) : \n\t\t\t\t\t\t\tbounds.center.x;\n\t\t\n\t\tbounds.max.y = (realPanElementH > _tempPanAreaSize.y) ? \n\t\t\t\t\t\t\tMath.round(_tempPanAreaSize.y - realPanElementH) + item.vGap.top : \n\t\t\t\t\t\t\tbounds.center.y;\n\t\t\n\t\t// minimum pan position\n\t\tbounds.min.x = (realPanElementW > _tempPanAreaSize.x) ? 0 : bounds.center.x;\n\t\tbounds.min.y = (realPanElementH > _tempPanAreaSize.y) ? item.vGap.top : bounds.center.y;\n\t},\n\t_calculateItemSize = function(item, viewportSize, zoomLevel) {\n\n\t\tif (item.src && !item.loadError) {\n\t\t\tvar isInitial = !zoomLevel;\n\t\t\t\n\t\t\tif(isInitial) {\n\t\t\t\tif(!item.vGap) {\n\t\t\t\t\titem.vGap = {top:0,bottom:0};\n\t\t\t\t}\n\t\t\t\t// allows overriding vertical margin for individual items\n\t\t\t\t_shout('parseVerticalMargin', item);\n\t\t\t}\n\n\n\t\t\t_tempPanAreaSize.x = viewportSize.x;\n\t\t\t_tempPanAreaSize.y = viewportSize.y - item.vGap.top - item.vGap.bottom;\n\n\t\t\tif (isInitial) {\n\t\t\t\tvar hRatio = _tempPanAreaSize.x / item.w;\n\t\t\t\tvar vRatio = _tempPanAreaSize.y / item.h;\n\n\t\t\t\titem.fitRatio = hRatio < vRatio ? hRatio : vRatio;\n\t\t\t\t//item.fillRatio = hRatio > vRatio ? hRatio : vRatio;\n\n\t\t\t\tvar scaleMode = _options.scaleMode;\n\n\t\t\t\tif (scaleMode === 'orig') {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t} else if (scaleMode === 'fit') {\n\t\t\t\t\tzoomLevel = item.fitRatio;\n\t\t\t\t}\n\n\t\t\t\tif (zoomLevel > 1) {\n\t\t\t\t\tzoomLevel = 1;\n\t\t\t\t}\n\n\t\t\t\titem.initialZoomLevel = zoomLevel;\n\t\t\t\t\n\t\t\t\tif(!item.bounds) {\n\t\t\t\t\t// reuse bounds object\n\t\t\t\t\titem.bounds = _getZeroBounds(); \n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif(!zoomLevel) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculateSingleItemPanBounds(item, item.w * zoomLevel, item.h * zoomLevel);\n\n\t\t\tif (isInitial && zoomLevel === item.initialZoomLevel) {\n\t\t\t\titem.initialPosition = item.bounds.center;\n\t\t\t}\n\n\t\t\treturn item.bounds;\n\t\t} else {\n\t\t\titem.w = item.h = 0;\n\t\t\titem.initialZoomLevel = item.fitRatio = 1;\n\t\t\titem.bounds = _getZeroBounds();\n\t\t\titem.initialPosition = item.bounds.center;\n\n\t\t\t// if it's not image, we return zero bounds (content is not zoomable)\n\t\t\treturn item.bounds;\n\t\t}\n\t\t\n\t},\n\n\t\n\n\n\t_appendImage = function(index, item, baseDiv, img, preventAnimation, keepPlaceholder) {\n\t\t\n\n\t\tif(item.loadError) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(img) {\n\n\t\t\titem.imageAppended = true;\n\t\t\t_setImageSize(item, img, (item === self.currItem && _renderMaxResolution) );\n\t\t\t\n\t\t\tbaseDiv.appendChild(img);\n\n\t\t\tif(keepPlaceholder) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tif(item && item.loaded && item.placeholder) {\n\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t}, 500);\n\t\t\t}\n\t\t}\n\t},\n\t\n\n\n\t_preloadImage = function(item) {\n\t\titem.loading = true;\n\t\titem.loaded = false;\n\t\tvar img = item.img = framework.createEl('pswp__img', 'img');\n\t\tvar onComplete = function() {\n\t\t\titem.loading = false;\n\t\t\titem.loaded = true;\n\n\t\t\tif(item.loadComplete) {\n\t\t\t\titem.loadComplete(item);\n\t\t\t} else {\n\t\t\t\titem.img = null; // no need to store image object\n\t\t\t}\n\t\t\timg.onload = img.onerror = null;\n\t\t\timg = null;\n\t\t};\n\t\timg.onload = onComplete;\n\t\timg.onerror = function() {\n\t\t\titem.loadError = true;\n\t\t\tonComplete();\n\t\t};\t\t\n\n\t\timg.src = item.src;// + '?a=' + Math.random();\n\n\t\treturn img;\n\t},\n\t_checkForError = function(item, cleanUp) {\n\t\tif(item.src && item.loadError && item.container) {\n\n\t\t\tif(cleanUp) {\n\t\t\t\titem.container.innerHTML = '';\n\t\t\t}\n\n\t\t\titem.container.innerHTML = _options.errorMsg.replace('%url%',  item.src );\n\t\t\treturn true;\n\t\t\t\n\t\t}\n\t},\n\t_setImageSize = function(item, img, maxRes) {\n\t\tif(!item.src) {\n\t\t\treturn;\n\t\t}\n\n\t\tif(!img) {\n\t\t\timg = item.container.lastChild;\n\t\t}\n\n\t\tvar w = maxRes ? item.w : Math.round(item.w * item.fitRatio),\n\t\t\th = maxRes ? item.h : Math.round(item.h * item.fitRatio);\n\t\t\n\t\tif(item.placeholder && !item.loaded) {\n\t\t\titem.placeholder.style.width = w + 'px';\n\t\t\titem.placeholder.style.height = h + 'px';\n\t\t}\n\n\t\timg.style.width = w + 'px';\n\t\timg.style.height = h + 'px';\n\t},\n\t_appendImagesPool = function() {\n\n\t\tif(_imagesToAppendPool.length) {\n\t\t\tvar poolItem;\n\n\t\t\tfor(var i = 0; i < _imagesToAppendPool.length; i++) {\n\t\t\t\tpoolItem = _imagesToAppendPool[i];\n\t\t\t\tif( poolItem.holder.index === poolItem.index ) {\n\t\t\t\t\t_appendImage(poolItem.index, poolItem.item, poolItem.baseDiv, poolItem.img, false, poolItem.clearPlaceholder);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_imagesToAppendPool = [];\n\t\t}\n\t};\n\t\n\n\n_registerModule('Controller', {\n\n\tpublicMethods: {\n\n\t\tlazyLoadItem: function(index) {\n\t\t\tindex = _getLoopedId(index);\n\t\t\tvar item = _getItemAt(index);\n\n\t\t\tif(!item || ((item.loaded || item.loading) && !_itemsNeedUpdate)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tif (!item.src) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_preloadImage(item);\n\t\t},\n\t\tinitController: function() {\n\t\t\tframework.extend(_options, _controllerDefaultOptions, true);\n\t\t\tself.items = _items = items;\n\t\t\t_getItemAt = self.getItemAt;\n\t\t\t_getNumItems = _options.getNumItemsFn; //self.getNumItems;\n\n\n\n\t\t\t_initialIsLoop = _options.loop;\n\t\t\tif(_getNumItems() < 3) {\n\t\t\t\t_options.loop = false; // disable loop if less then 3 items\n\t\t\t}\n\n\t\t\t_listen('beforeChange', function(diff) {\n\n\t\t\t\tvar p = _options.preload,\n\t\t\t\t\tisNext = diff === null ? true : (diff >= 0),\n\t\t\t\t\tpreloadBefore = Math.min(p[0], _getNumItems() ),\n\t\t\t\t\tpreloadAfter = Math.min(p[1], _getNumItems() ),\n\t\t\t\t\ti;\n\n\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadAfter : preloadBefore); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex+i);\n\t\t\t\t}\n\t\t\t\tfor(i = 1; i <= (isNext ? preloadBefore : preloadAfter); i++) {\n\t\t\t\t\tself.lazyLoadItem(_currentItemIndex-i);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t_listen('initialLayout', function() {\n\t\t\t\tself.currItem.initialLayout = _options.getThumbBoundsFn && _options.getThumbBoundsFn(_currentItemIndex);\n\t\t\t});\n\n\t\t\t_listen('mainScrollAnimComplete', _appendImagesPool);\n\t\t\t_listen('initialZoomInEnd', _appendImagesPool);\n\n\n\n\t\t\t_listen('destroy', function() {\n\t\t\t\tvar item;\n\t\t\t\tfor(var i = 0; i < _items.length; i++) {\n\t\t\t\t\titem = _items[i];\n\t\t\t\t\t// remove reference to DOM elements, for GC\n\t\t\t\t\tif(item.container) {\n\t\t\t\t\t\titem.container = null; \n\t\t\t\t\t}\n\t\t\t\t\tif(item.placeholder) {\n\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.img) {\n\t\t\t\t\t\titem.img = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.preloader) {\n\t\t\t\t\t\titem.preloader = null;\n\t\t\t\t\t}\n\t\t\t\t\tif(item.loadError) {\n\t\t\t\t\t\titem.loaded = item.loadError = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t_imagesToAppendPool = null;\n\t\t\t});\n\t\t},\n\n\n\t\tgetItemAt: function(index) {\n\t\t\tif (index >= 0) {\n\t\t\t\treturn _items[index] !== undefined ? _items[index] : false;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tallowProgressiveImg: function() {\n\t\t\t// 1. Progressive image loading isn't working on webkit/blink \n\t\t\t//    when hw-acceleration (e.g. translateZ) is applied to IMG element.\n\t\t\t//    That's why in PhotoSwipe parent element gets zoom transform, not image itself.\n\t\t\t//    \n\t\t\t// 2. Progressive image loading sometimes blinks in webkit/blink when applying animation to parent element.\n\t\t\t//    That's why it's disabled on touch devices (mainly because of swipe transition)\n\t\t\t//    \n\t\t\t// 3. Progressive image loading sometimes doesn't work in IE (up to 11).\n\n\t\t\t// Don't allow progressive loading on non-large touch devices\n\t\t\treturn _options.forceProgressiveLoading || !_likelyTouchDevice || _options.mouseUsed || screen.width > 1200; \n\t\t\t// 1200 - to eliminate touch devices with large screen (like Chromebook Pixel)\n\t\t},\n\n\t\tsetContent: function(holder, index) {\n\n\t\t\tif(_options.loop) {\n\t\t\t\tindex = _getLoopedId(index);\n\t\t\t}\n\n\t\t\tvar prevItem = self.getItemAt(holder.index);\n\t\t\tif(prevItem) {\n\t\t\t\tprevItem.container = null;\n\t\t\t}\n\t\n\t\t\tvar item = self.getItemAt(index),\n\t\t\t\timg;\n\t\t\t\n\t\t\tif(!item) {\n\t\t\t\tholder.el.innerHTML = '';\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// allow to override data\n\t\t\t_shout('gettingData', index, item);\n\n\t\t\tholder.index = index;\n\t\t\tholder.item = item;\n\n\t\t\t// base container DIV is created only once for each of 3 holders\n\t\t\tvar baseDiv = item.container = framework.createEl('pswp__zoom-wrap'); \n\n\t\t\t\n\n\t\t\tif(!item.src && item.html) {\n\t\t\t\tif(item.html.tagName) {\n\t\t\t\t\tbaseDiv.appendChild(item.html);\n\t\t\t\t} else {\n\t\t\t\t\tbaseDiv.innerHTML = item.html;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t_checkForError(item);\n\n\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\n\t\t\tif(item.src && !item.loadError && !item.loaded) {\n\n\t\t\t\titem.loadComplete = function(item) {\n\n\t\t\t\t\t// gallery closed before image finished loading\n\t\t\t\t\tif(!_isOpen) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// check if holder hasn't changed while image was loading\n\t\t\t\t\tif(holder && holder.index === index ) {\n\t\t\t\t\t\tif( _checkForError(item, true) ) {\n\t\t\t\t\t\t\titem.loadComplete = item.img = null;\n\t\t\t\t\t\t\t_calculateItemSize(item, _viewportSize);\n\t\t\t\t\t\t\t_applyZoomPanToItem(item);\n\n\t\t\t\t\t\t\tif(holder.index === _currentItemIndex) {\n\t\t\t\t\t\t\t\t// recalculate dimensions\n\t\t\t\t\t\t\t\tself.updateCurrZoomItem();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif( !item.imageAppended ) {\n\t\t\t\t\t\t\tif(_features.transform && (_mainScrollAnimating || _initialZoomRunning) ) {\n\t\t\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\t\t\titem:item,\n\t\t\t\t\t\t\t\t\tbaseDiv:baseDiv,\n\t\t\t\t\t\t\t\t\timg:item.img,\n\t\t\t\t\t\t\t\t\tindex:index,\n\t\t\t\t\t\t\t\t\tholder:holder,\n\t\t\t\t\t\t\t\t\tclearPlaceholder:true\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, _mainScrollAnimating || _initialZoomRunning, true);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// remove preloader & mini-img\n\t\t\t\t\t\t\tif(!_initialZoomRunning && item.placeholder) {\n\t\t\t\t\t\t\t\titem.placeholder.style.display = 'none';\n\t\t\t\t\t\t\t\titem.placeholder = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\titem.loadComplete = null;\n\t\t\t\t\titem.img = null; // no need to store image element after it's added\n\n\t\t\t\t\t_shout('imageLoadComplete', index, item);\n\t\t\t\t};\n\n\t\t\t\tif(framework.features.transform) {\n\t\t\t\t\t\n\t\t\t\t\tvar placeholderClassName = 'pswp__img pswp__img--placeholder'; \n\t\t\t\t\tplaceholderClassName += (item.msrc ? '' : ' pswp__img--placeholder--blank');\n\n\t\t\t\t\tvar placeholder = framework.createEl(placeholderClassName, item.msrc ? 'img' : '');\n\t\t\t\t\tif(item.msrc) {\n\t\t\t\t\t\tplaceholder.src = item.msrc;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t_setImageSize(item, placeholder);\n\n\t\t\t\t\tbaseDiv.appendChild(placeholder);\n\t\t\t\t\titem.placeholder = placeholder;\n\n\t\t\t\t}\n\t\t\t\t\n\n\t\t\t\t\n\n\t\t\t\tif(!item.loading) {\n\t\t\t\t\t_preloadImage(item);\n\t\t\t\t}\n\n\n\t\t\t\tif( self.allowProgressiveImg() ) {\n\t\t\t\t\t// just append image\n\t\t\t\t\tif(!_initialContentSet && _features.transform) {\n\t\t\t\t\t\t_imagesToAppendPool.push({\n\t\t\t\t\t\t\titem:item, \n\t\t\t\t\t\t\tbaseDiv:baseDiv, \n\t\t\t\t\t\t\timg:item.img, \n\t\t\t\t\t\t\tindex:index, \n\t\t\t\t\t\t\tholder:holder\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t_appendImage(index, item, baseDiv, item.img, true, true);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} else if(item.src && !item.loadError) {\n\t\t\t\t// image object is created every time, due to bugs of image loading & delay when switching images\n\t\t\t\timg = framework.createEl('pswp__img', 'img');\n\t\t\t\timg.style.opacity = 1;\n\t\t\t\timg.src = item.src;\n\t\t\t\t_setImageSize(item, img);\n\t\t\t\t_appendImage(index, item, baseDiv, img, true);\n\t\t\t}\n\t\t\t\n\n\t\t\tif(!_initialContentSet && index === _currentItemIndex) {\n\t\t\t\t_currZoomElementStyle = baseDiv.style;\n\t\t\t\t_showOrHide(item, (img ||item.img) );\n\t\t\t} else {\n\t\t\t\t_applyZoomPanToItem(item);\n\t\t\t}\n\n\t\t\tholder.el.innerHTML = '';\n\t\t\tholder.el.appendChild(baseDiv);\n\t\t},\n\n\t\tcleanSlide: function( item ) {\n\t\t\tif(item.img ) {\n\t\t\t\titem.img.onload = item.img.onerror = null;\n\t\t\t}\n\t\t\titem.loaded = item.loading = item.img = item.imageAppended = false;\n\t\t}\n\n\t}\n});\n\n/*>>items-controller*/\n\n/*>>tap*/\n/**\n * tap.js:\n *\n * Displatches tap and double-tap events.\n * \n */\n\nvar tapTimer,\n\ttapReleasePoint = {},\n\t_dispatchTapEvent = function(origEvent, releasePoint, pointerType) {\t\t\n\t\tvar e = document.createEvent( 'CustomEvent' ),\n\t\t\teDetail = {\n\t\t\t\torigEvent:origEvent, \n\t\t\t\ttarget:origEvent.target, \n\t\t\t\treleasePoint: releasePoint, \n\t\t\t\tpointerType:pointerType || 'touch'\n\t\t\t};\n\n\t\te.initCustomEvent( 'pswpTap', true, true, eDetail );\n\t\torigEvent.target.dispatchEvent(e);\n\t};\n\n_registerModule('Tap', {\n\tpublicMethods: {\n\t\tinitTap: function() {\n\t\t\t_listen('firstTouchStart', self.onTapStart);\n\t\t\t_listen('touchRelease', self.onTapRelease);\n\t\t\t_listen('destroy', function() {\n\t\t\t\ttapReleasePoint = {};\n\t\t\t\ttapTimer = null;\n\t\t\t});\n\t\t},\n\t\tonTapStart: function(touchList) {\n\t\t\tif(touchList.length > 1) {\n\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\ttapTimer = null;\n\t\t\t}\n\t\t},\n\t\tonTapRelease: function(e, releasePoint) {\n\t\t\tif(!releasePoint) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_moved && !_isMultitouch && !_numAnimations) {\n\t\t\t\tvar p0 = releasePoint;\n\t\t\t\tif(tapTimer) {\n\t\t\t\t\tclearTimeout(tapTimer);\n\t\t\t\t\ttapTimer = null;\n\n\t\t\t\t\t// Check if taped on the same place\n\t\t\t\t\tif ( _isNearbyPoints(p0, tapReleasePoint) ) {\n\t\t\t\t\t\t_shout('doubleTap', p0);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(releasePoint.type === 'mouse') {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint, 'mouse');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar clickedTagName = e.target.tagName.toUpperCase();\n\t\t\t\t// avoid double tap delay on buttons and elements that have class pswp__single-tap\n\t\t\t\tif(clickedTagName === 'BUTTON' || framework.hasClass(e.target, 'pswp__single-tap') ) {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t_equalizePoints(tapReleasePoint, p0);\n\n\t\t\t\ttapTimer = setTimeout(function() {\n\t\t\t\t\t_dispatchTapEvent(e, releasePoint);\n\t\t\t\t\ttapTimer = null;\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t}\n\t}\n});\n\n/*>>tap*/\n\n/*>>desktop-zoom*/\n/**\n *\n * desktop-zoom.js:\n *\n * - Binds mousewheel event for paning zoomed image.\n * - Manages \"dragging\", \"zoomed-in\", \"zoom-out\" classes.\n *   (which are used for cursors and zoom icon)\n * - Adds toggleDesktopZoom function.\n * \n */\n\nvar _wheelDelta;\n\t\n_registerModule('DesktopZoom', {\n\n\tpublicMethods: {\n\n\t\tinitDesktopZoom: function() {\n\n\t\t\tif(_oldIE) {\n\t\t\t\t// no zoom for old IE (<=8)\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(_likelyTouchDevice) {\n\t\t\t\t// if detected hardware touch support, we wait until mouse is used,\n\t\t\t\t// and only then apply desktop-zoom features\n\t\t\t\t_listen('mouseUsed', function() {\n\t\t\t\t\tself.setupDesktopZoom();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.setupDesktopZoom(true);\n\t\t\t}\n\n\t\t},\n\n\t\tsetupDesktopZoom: function(onInit) {\n\n\t\t\t_wheelDelta = {};\n\n\t\t\tvar events = 'wheel mousewheel DOMMouseScroll';\n\t\t\t\n\t\t\t_listen('bindEvents', function() {\n\t\t\t\tframework.bind(template, events,  self.handleMouseWheel);\n\t\t\t});\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_wheelDelta) {\n\t\t\t\t\tframework.unbind(template, events, self.handleMouseWheel);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tself.mouseZoomedIn = false;\n\n\t\t\tvar hasDraggingClass,\n\t\t\t\tupdateZoomable = function() {\n\t\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoomed-in');\n\t\t\t\t\t\tself.mouseZoomedIn = false;\n\t\t\t\t\t}\n\t\t\t\t\tif(_currZoomLevel < 1) {\n\t\t\t\t\t\tframework.addClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--zoom-allowed');\n\t\t\t\t\t}\n\t\t\t\t\tremoveDraggingClass();\n\t\t\t\t},\n\t\t\t\tremoveDraggingClass = function() {\n\t\t\t\t\tif(hasDraggingClass) {\n\t\t\t\t\t\tframework.removeClass(template, 'pswp--dragging');\n\t\t\t\t\t\thasDraggingClass = false;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t_listen('resize' , updateZoomable);\n\t\t\t_listen('afterChange' , updateZoomable);\n\t\t\t_listen('pointerDown', function() {\n\t\t\t\tif(self.mouseZoomedIn) {\n\t\t\t\t\thasDraggingClass = true;\n\t\t\t\t\tframework.addClass(template, 'pswp--dragging');\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('pointerUp', removeDraggingClass);\n\n\t\t\tif(!onInit) {\n\t\t\t\tupdateZoomable();\n\t\t\t}\n\t\t\t\n\t\t},\n\n\t\thandleMouseWheel: function(e) {\n\n\t\t\tif(_currZoomLevel <= self.currItem.fitRatio) {\n\t\t\t\tif( _options.modal ) {\n\n\t\t\t\t\tif (!_options.closeOnScroll || _numAnimations || _isDragging) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t} else if(_transformKey && Math.abs(e.deltaY) > 2) {\n\t\t\t\t\t\t// close PhotoSwipe\n\t\t\t\t\t\t// if browser supports transforms & scroll changed enough\n\t\t\t\t\t\t_closedByScroll = true;\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// allow just one event to fire\n\t\t\te.stopPropagation();\n\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/Events/wheel\n\t\t\t_wheelDelta.x = 0;\n\n\t\t\tif('deltaX' in e) {\n\t\t\t\tif(e.deltaMode === 1 /* DOM_DELTA_LINE */) {\n\t\t\t\t\t// 18 - average line height\n\t\t\t\t\t_wheelDelta.x = e.deltaX * 18;\n\t\t\t\t\t_wheelDelta.y = e.deltaY * 18;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.x = e.deltaX;\n\t\t\t\t\t_wheelDelta.y = e.deltaY;\n\t\t\t\t}\n\t\t\t} else if('wheelDelta' in e) {\n\t\t\t\tif(e.wheelDeltaX) {\n\t\t\t\t\t_wheelDelta.x = -0.16 * e.wheelDeltaX;\n\t\t\t\t}\n\t\t\t\tif(e.wheelDeltaY) {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDeltaY;\n\t\t\t\t} else {\n\t\t\t\t\t_wheelDelta.y = -0.16 * e.wheelDelta;\n\t\t\t\t}\n\t\t\t} else if('detail' in e) {\n\t\t\t\t_wheelDelta.y = e.detail;\n\t\t\t} else {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t_calculatePanBounds(_currZoomLevel, true);\n\n\t\t\tvar newPanX = _panOffset.x - _wheelDelta.x,\n\t\t\t\tnewPanY = _panOffset.y - _wheelDelta.y;\n\n\t\t\t// only prevent scrolling in nonmodal mode when not at edges\n\t\t\tif (_options.modal ||\n\t\t\t\t(\n\t\t\t\tnewPanX <= _currPanBounds.min.x && newPanX >= _currPanBounds.max.x &&\n\t\t\t\tnewPanY <= _currPanBounds.min.y && newPanY >= _currPanBounds.max.y\n\t\t\t\t) ) {\n\t\t\t\te.preventDefault();\n\t\t\t}\n\n\t\t\t// TODO: use rAF instead of mousewheel?\n\t\t\tself.panTo(newPanX, newPanY);\n\t\t},\n\n\t\ttoggleDesktopZoom: function(centerPoint) {\n\t\t\tcenterPoint = centerPoint || {x:_viewportSize.x/2 + _offset.x, y:_viewportSize.y/2 + _offset.y };\n\n\t\t\tvar doubleTapZoomLevel = _options.getDoubleTapZoom(true, self.currItem);\n\t\t\tvar zoomOut = _currZoomLevel === doubleTapZoomLevel;\n\t\t\t\n\t\t\tself.mouseZoomedIn = !zoomOut;\n\n\t\t\tself.zoomTo(zoomOut ? self.currItem.initialZoomLevel : doubleTapZoomLevel, centerPoint, 333);\n\t\t\tframework[ (!zoomOut ? 'add' : 'remove') + 'Class'](template, 'pswp--zoomed-in');\n\t\t}\n\n\t}\n});\n\n\n/*>>desktop-zoom*/\n\n/*>>history*/\n/**\n *\n * history.js:\n *\n * - Back button to close gallery.\n * \n * - Unique URL for each slide: example.com/&pid=1&gid=3\n *   (where PID is picture index, and GID and gallery index)\n *   \n * - Switch URL when slides change.\n * \n */\n\n\nvar _historyDefaultOptions = {\n\thistory: true,\n\tgalleryUID: 1\n};\n\nvar _historyUpdateTimeout,\n\t_hashChangeTimeout,\n\t_hashAnimCheckTimeout,\n\t_hashChangedByScript,\n\t_hashChangedByHistory,\n\t_hashReseted,\n\t_initialHash,\n\t_historyChanged,\n\t_closedFromURL,\n\t_urlChangedOnce,\n\t_windowLoc,\n\n\t_supportsPushState,\n\n\t_getHash = function() {\n\t\treturn _windowLoc.hash.substring(1);\n\t},\n\t_cleanHistoryTimeouts = function() {\n\n\t\tif(_historyUpdateTimeout) {\n\t\t\tclearTimeout(_historyUpdateTimeout);\n\t\t}\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\t},\n\n\t// pid - Picture index\n\t// gid - Gallery index\n\t_parseItemIndexFromURL = function() {\n\t\tvar hash = _getHash(),\n\t\t\tparams = {};\n\n\t\tif(hash.length < 5) { // pid=1\n\t\t\treturn params;\n\t\t}\n\n\t\tvar i, vars = hash.split('&');\n\t\tfor (i = 0; i < vars.length; i++) {\n\t\t\tif(!vars[i]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tvar pair = vars[i].split('=');\t\n\t\t\tif(pair.length < 2) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tparams[pair[0]] = pair[1];\n\t\t}\n\t\tif(_options.galleryPIDs) {\n\t\t\t// detect custom pid in hash and search for it among the items collection\n\t\t\tvar searchfor = params.pid;\n\t\t\tparams.pid = 0; // if custom pid cannot be found, fallback to the first item\n\t\t\tfor(i = 0; i < _items.length; i++) {\n\t\t\t\tif(_items[i].pid === searchfor) {\n\t\t\t\t\tparams.pid = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tparams.pid = parseInt(params.pid,10)-1;\n\t\t}\n\t\tif( params.pid < 0 ) {\n\t\t\tparams.pid = 0;\n\t\t}\n\t\treturn params;\n\t},\n\t_updateHash = function() {\n\n\t\tif(_hashAnimCheckTimeout) {\n\t\t\tclearTimeout(_hashAnimCheckTimeout);\n\t\t}\n\n\n\t\tif(_numAnimations || _isDragging) {\n\t\t\t// changing browser URL forces layout/paint in some browsers, which causes noticable lag during animation\n\t\t\t// that's why we update hash only when no animations running\n\t\t\t_hashAnimCheckTimeout = setTimeout(_updateHash, 500);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tif(_hashChangedByScript) {\n\t\t\tclearTimeout(_hashChangeTimeout);\n\t\t} else {\n\t\t\t_hashChangedByScript = true;\n\t\t}\n\n\n\t\tvar pid = (_currentItemIndex + 1);\n\t\tvar item = _getItemAt( _currentItemIndex );\n\t\tif(item.hasOwnProperty('pid')) {\n\t\t\t// carry forward any custom pid assigned to the item\n\t\t\tpid = item.pid;\n\t\t}\n\t\tvar newHash = _initialHash + '&'  +  'gid=' + _options.galleryUID + '&' + 'pid=' + pid;\n\n\t\tif(!_historyChanged) {\n\t\t\tif(_windowLoc.hash.indexOf(newHash) === -1) {\n\t\t\t\t_urlChangedOnce = true;\n\t\t\t}\n\t\t\t// first time - add new hisory record, then just replace\n\t\t}\n\n\t\tvar newURL = _windowLoc.href.split('#')[0] + '#' +  newHash;\n\n\t\tif( _supportsPushState ) {\n\n\t\t\tif('#' + newHash !== window.location.hash) {\n\t\t\t\thistory[_historyChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}\n\n\t\t} else {\n\t\t\tif(_historyChanged) {\n\t\t\t\t_windowLoc.replace( newURL );\n\t\t\t} else {\n\t\t\t\t_windowLoc.hash = newHash;\n\t\t\t}\n\t\t}\n\t\t\n\t\t\n\n\t\t_historyChanged = true;\n\t\t_hashChangeTimeout = setTimeout(function() {\n\t\t\t_hashChangedByScript = false;\n\t\t}, 60);\n\t};\n\n\n\n\t\n\n_registerModule('History', {\n\n\t\n\n\tpublicMethods: {\n\t\tinitHistory: function() {\n\n\t\t\tframework.extend(_options, _historyDefaultOptions, true);\n\n\t\t\tif( !_options.history ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t_windowLoc = window.location;\n\t\t\t_urlChangedOnce = false;\n\t\t\t_closedFromURL = false;\n\t\t\t_historyChanged = false;\n\t\t\t_initialHash = _getHash();\n\t\t\t_supportsPushState = ('pushState' in history);\n\n\n\t\t\tif(_initialHash.indexOf('gid=') > -1) {\n\t\t\t\t_initialHash = _initialHash.split('&gid=')[0];\n\t\t\t\t_initialHash = _initialHash.split('?gid=')[0];\n\t\t\t}\n\t\t\t\n\n\t\t\t_listen('afterChange', self.updateURL);\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tframework.unbind(window, 'hashchange', self.onHashChange);\n\t\t\t});\n\n\n\t\t\tvar returnToOriginal = function() {\n\t\t\t\t_hashReseted = true;\n\t\t\t\tif(!_closedFromURL) {\n\n\t\t\t\t\tif(_urlChangedOnce) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif(_initialHash) {\n\t\t\t\t\t\t\t_windowLoc.hash = _initialHash;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (_supportsPushState) {\n\n\t\t\t\t\t\t\t\t// remove hash from url without refreshing it or scrolling to top\n\t\t\t\t\t\t\t\thistory.pushState('', document.title,  _windowLoc.pathname + _windowLoc.search );\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t_windowLoc.hash = '';\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t_cleanHistoryTimeouts();\n\t\t\t};\n\n\n\t\t\t_listen('unbindEvents', function() {\n\t\t\t\tif(_closedByScroll) {\n\t\t\t\t\t// if PhotoSwipe is closed by scroll, we go \"back\" before the closing animation starts\n\t\t\t\t\t// this is done to keep the scroll position\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('destroy', function() {\n\t\t\t\tif(!_hashReseted) {\n\t\t\t\t\treturnToOriginal();\n\t\t\t\t}\n\t\t\t});\n\t\t\t_listen('firstUpdate', function() {\n\t\t\t\t_currentItemIndex = _parseItemIndexFromURL().pid;\n\t\t\t});\n\n\t\t\t\n\n\t\t\t\n\t\t\tvar index = _initialHash.indexOf('pid=');\n\t\t\tif(index > -1) {\n\t\t\t\t_initialHash = _initialHash.substring(0, index);\n\t\t\t\tif(_initialHash.slice(-1) === '&') {\n\t\t\t\t\t_initialHash = _initialHash.slice(0, -1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\n\t\t\tsetTimeout(function() {\n\t\t\t\tif(_isOpen) { // hasn't destroyed yet\n\t\t\t\t\tframework.bind(window, 'hashchange', self.onHashChange);\n\t\t\t\t}\n\t\t\t}, 40);\n\t\t\t\n\t\t},\n\t\tonHashChange: function() {\n\n\t\t\tif(_getHash() === _initialHash) {\n\n\t\t\t\t_closedFromURL = true;\n\t\t\t\tself.close();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(!_hashChangedByScript) {\n\n\t\t\t\t_hashChangedByHistory = true;\n\t\t\t\tself.goTo( _parseItemIndexFromURL().pid );\n\t\t\t\t_hashChangedByHistory = false;\n\t\t\t}\n\t\t\t\n\t\t},\n\t\tupdateURL: function() {\n\n\t\t\t// Delay the update of URL, to avoid lag during transition, \n\t\t\t// and to not to trigger actions like \"refresh page sound\" or \"blinking favicon\" to often\n\t\t\t\n\t\t\t_cleanHistoryTimeouts();\n\t\t\t\n\n\t\t\tif(_hashChangedByHistory) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(!_historyChanged) {\n\t\t\t\t_updateHash(); // first time\n\t\t\t} else {\n\t\t\t\t_historyUpdateTimeout = setTimeout(_updateHash, 800);\n\t\t\t}\n\t\t}\n\t\n\t}\n});\n\n\n/*>>history*/\n\tframework.extend(self, publicMethods); };\n\treturn PhotoSwipe;\n});","<app-breadcrumb [title]=\"'Gallery Description'\" [items]=\"['Apps', 'Gallery']\" [active_item]=\"'Gallery Description'\"></app-breadcrumb>\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>IMAGE GALLERY WITH DESCRIPTION</h5>\n        </div>\n        <div class=\"my-gallery card-body row gallery-with-description\" itemscope=\"\">\n          <figure class=\"col-xl-3 col-sm-6\" itemprop=\"associatedMedia\" *ngFor=\"let img of imagesRect\">\n            <a href=\"javascript:void(0)\" itemprop=\"contentUrl\">\n              <img [src]=\"img.modal.img\" itemprop=\"thumbnail\" alt=\"Image description\"\n                (click)=\"openImageModalRowDescription(img)\" class=\"img-thumbnail\">\n              <div class=\"caption\">\n                <h4>Portfolio Title</h4>\n                <p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's\n                  standard dummy.</p>\n              </div>\n            </a>\n          </figure>\n        </div>\n        <ks-modal-gallery [id]=\"1\" [modalImages]=\"imagesRect\" [plainGalleryConfig]=\"customPlainGalleryRowDescConfig\"\n          [currentImageConfig]=\"{downloadable: true}\" [buttonsConfig]=\"buttonsConfigCustom\">\n        </ks-modal-gallery>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\n\nimport {\n  ButtonsConfig,\n  ButtonsStrategy,\n  AdvancedLayout,\n  GalleryService,\n  Image,\n  KS_DEFAULT_BTN_CLOSE,\n  KS_DEFAULT_BTN_DELETE,\n  KS_DEFAULT_BTN_DOWNLOAD,\n  KS_DEFAULT_BTN_EXTURL,\n  KS_DEFAULT_BTN_FULL_SCREEN,\n  ButtonEvent,\n  ButtonType,\n  PlainGalleryConfig,\n  PlainGalleryStrategy,\n} from '@ks89/angular-modal-gallery';\n\n\n@Component({\n  selector: 'app-gallery-desc',\n  templateUrl: './gallery-desc.component.html',\n  styleUrls: ['./gallery-desc.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class GalleryDescComponent implements OnInit {\n\npublic imagesRect: Image[] = [\n    new Image(\n      0,\n      { // modal\n        img: 'assets/images/lightgallry/01.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      1,\n      { // modal\n        img: 'assets/images/lightgallry/02.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      2,\n      { // modal\n        img: 'assets/images/lightgallry/03.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      3,\n      { // modal\n        img: 'assets/images/lightgallry/04.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      4,\n      { // modal\n        img: 'assets/images/lightgallry/05.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      5,\n      { // modal\n        img: 'assets/images/lightgallry/06.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      6,\n      { // modal\n        img: 'assets/images/lightgallry/07.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      7,\n      { // modal\n        img: 'assets/images/lightgallry/08.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      8,\n      { // modal\n        img: 'assets/images/lightgallry/09.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      9,\n      { // modal\n        img: 'assets/images/lightgallry/010.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      10,\n      { // modal\n        img: 'assets/images/lightgallry/011.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n    new Image(\n      11,\n      { // modal\n        img: 'assets/images/lightgallry/012.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: '<h4>Portfolio Title</h4><p>is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy.</p>'\n      },\n    ),\n  ];\n\n  constructor(private galleryService: GalleryService) {\n  }\n\n  buttonsConfigDefault: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.DEFAULT\n  };\n\n  buttonsConfigSimple: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.SIMPLE\n  };\n\n  buttonsConfigAdvanced: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.ADVANCED\n  };\n\n  buttonsConfigFull: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.FULL\n  };\n  \n  buttonsConfigCustom: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.CUSTOM,\n    buttons: [\n      KS_DEFAULT_BTN_FULL_SCREEN,\n      KS_DEFAULT_BTN_DELETE,\n      KS_DEFAULT_BTN_EXTURL,\n      KS_DEFAULT_BTN_DOWNLOAD,\n      KS_DEFAULT_BTN_CLOSE\n    ]\n  };\n\n  customPlainGalleryRowDescConfig: PlainGalleryConfig = {\n    strategy: PlainGalleryStrategy.CUSTOM,\n    layout: new AdvancedLayout(-1, true)\n  };\n\n  openImageModalRowDescription(image: Image) {\n    const index: number = this.getCurrentIndexCustomLayout(image, this.imagesRect);\n    this.customPlainGalleryRowDescConfig = Object.assign({}, this.customPlainGalleryRowDescConfig, { layout: new AdvancedLayout(index, true) });\n  }\n\n  private getCurrentIndexCustomLayout(image: Image, images: Image[]): number {\n    return image ? images.indexOf(image) : -1;\n  };\n\n  onButtonBeforeHook(event: ButtonEvent) {\n    if (!event || !event.button) {\n      return;\n    }\n\n    if (event.button.type === ButtonType.DELETE) {\n      this.imagesRect = this.imagesRect.filter((val: Image) => event.image && val.id !== event.image.id);\n    }\n  }\n\n  onButtonAfterHook(event: ButtonEvent) {\n    if (!event || !event.button) {\n      return;\n    }\n  }\n\n  onCustomButtonBeforeHook(event: ButtonEvent, galleryId: number | undefined) {\n    if (!event || !event.button) {\n      return;\n    }\n\n    if (event.button.type === ButtonType.CUSTOM) {\n      this.addRandomImage();\n      setTimeout(() => {\n        this.galleryService.openGallery(galleryId, this.imagesRect.length - 1);\n      }, 0);\n    }\n  }\n\n  onCustomButtonAfterHook(event: ButtonEvent, galleryId: number | undefined) {\n    if (!event || !event.button) {\n      return;\n    }\n  }\n\n  addRandomImage() {\n    const imageToCopy: Image = this.imagesRect[Math.floor(Math.random() * this.imagesRect.length)];\n    const newImage: Image = new Image(this.imagesRect.length - 1 + 1, imageToCopy.modal, imageToCopy.plain);\n    this.imagesRect = [...this.imagesRect, newImage];\n  }\n\n  ngOnInit() { }\n\n}\n\n\n","<app-breadcrumb [title]=\"'Gallery Grid'\" [items]=\"['Apps', 'Gallery']\" [active_item]=\"'Gallery Grid'\"></app-breadcrumb>\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>IMAGE GALLERY</h5>\n        </div>\n        <div class=\"gallery my-gallery card-body row\" itemscope=\"\">\n        <figure class=\"col-xl-3 col-md-4 col-6\" itemprop=\"associatedMedia\" itemscope=\"\" *ngFor=\"let img of imagesRect\">\n          <a href=\"javascript:void(0)\" itemprop=\"contentUrl\" data-size=\"1600x950\">\n            <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-thumbnail\" /></a>\n        </figure>\n      </div>\n      <ks-modal-gallery [id]=\"1\" [modalImages]=\"imagesRect\" [plainGalleryConfig]=\"customPlainGalleryRowDescConfig\"\n        [currentImageConfig]=\"{downloadable: true}\" [buttonsConfig]=\"buttonsConfigCustom\"\n        (buttonBeforeHook)=\"onButtonBeforeHook($event)\" (buttonAfterHook)=\"onButtonAfterHook($event)\">\n      </ks-modal-gallery>\n    </div>\n  </div>\n</div>","import { Component, OnInit, ViewChild, ViewEncapsulation } from '@angular/core';\n\nimport {\n  ButtonsConfig,\n  ButtonsStrategy,\n  DotsConfig,\n  GalleryService,\n  Image,\n  KS_DEFAULT_BTN_CLOSE,\n  KS_DEFAULT_BTN_DELETE,\n  KS_DEFAULT_BTN_DOWNLOAD,\n  KS_DEFAULT_BTN_EXTURL,\n  KS_DEFAULT_BTN_FULL_SCREEN,\n  ButtonEvent,\n  ButtonType,\n  PlainGalleryConfig,\n  PlainGalleryStrategy,\n  AdvancedLayout,\n} from '@ks89/angular-modal-gallery';\n\n@Component({\n  selector: 'app-gallery-grid',\n  templateUrl: './gallery-grid.component.html',\n  styleUrls: ['./gallery-grid.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class GalleryGridComponent implements OnInit {\n\n\n  imagesRect: Image[] = [\n    new Image(\n      0,\n      { // modal\n        img: 'assets/images/lightgallry/01.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 1'\n      },\n    ),\n    new Image(\n      1,\n      { // modal\n        img: 'assets/images/lightgallry/02.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 2'\n      },\n    ),\n    new Image(\n      2,\n      { // modal\n        img: 'assets/images/lightgallry/03.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 3'\n      },\n    ),\n    new Image(\n      3,\n      { // modal\n        img: 'assets/images/lightgallry/04.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 4'\n      },\n    ),\n    new Image(\n      4,\n      { // modal\n        img: 'assets/images/lightgallry/05.jpg',\n        extUrl: 'http://www.google.com',\n        title: 'Portfolio Title',\n        description: 'Image Caption 5'\n      },\n    ),\n    new Image(\n      5,\n      { // modal\n        img: 'assets/images/lightgallry/06.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 6'\n      },\n    ),\n    new Image(\n      6,\n      { // modal\n        img: 'assets/images/lightgallry/07.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 1'\n      },\n    ),\n    new Image(\n      7,\n      { // modal\n        img: 'assets/images/lightgallry/08.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 8'\n      },\n    ),\n    new Image(\n      8,\n      { // modal\n        img: 'assets/images/lightgallry/09.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 9'\n      },\n    ),\n    new Image(\n      9,\n      { // modal\n        img: 'assets/images/lightgallry/010.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 10'\n      },\n    ),\n    new Image(\n      10,\n      { // modal\n        img: 'assets/images/lightgallry/011.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 11'\n      },\n    ),\n    new Image(\n      11,\n      { // modal\n        img: 'assets/images/lightgallry/012.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 12'\n      },\n    ),\n  ];\n\n  constructor(private galleryService: GalleryService) { }\n\n  buttonsConfigDefault: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.DEFAULT\n  };\n  buttonsConfigSimple: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.SIMPLE\n  };\n  buttonsConfigAdvanced: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.ADVANCED\n  };\n  buttonsConfigFull: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.FULL\n  };\n  buttonsConfigCustom: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.CUSTOM,\n    buttons: [\n      KS_DEFAULT_BTN_FULL_SCREEN,\n      KS_DEFAULT_BTN_DELETE,\n      KS_DEFAULT_BTN_EXTURL,\n      KS_DEFAULT_BTN_DOWNLOAD,\n      KS_DEFAULT_BTN_CLOSE\n    ]\n  };\n\n  customPlainGalleryRowDescConfig: PlainGalleryConfig = {\n    strategy: PlainGalleryStrategy.CUSTOM,\n    layout: new AdvancedLayout(-1, true)\n  };\n\n  openImageModalRowDescription(image: Image) {\n    const index: number = this.getCurrentIndexCustomLayout(image, this.imagesRect);\n    this.customPlainGalleryRowDescConfig = Object.assign({}, this.customPlainGalleryRowDescConfig, { layout: new AdvancedLayout(index, true) });\n  }\n\n  private getCurrentIndexCustomLayout(image: Image, images: Image[]): number {\n    return image ? images.indexOf(image) : -1;\n  };\n  onButtonBeforeHook(event: ButtonEvent) {\n    if (!event || !event.button) {\n      return;\n    }\n\n    if (event.button.type === ButtonType.DELETE) {\n      this.imagesRect = this.imagesRect.filter((val: Image) => event.image && val.id !== event.image.id);\n    }\n  }\n\n  onButtonAfterHook(event: ButtonEvent) {\n    if (!event || !event.button) {\n      return;\n    }\n  }\n\n  onCustomButtonBeforeHook(event: ButtonEvent, galleryId: number | undefined) {\n    if (!event || !event.button) {\n      return;\n    }\n\n    if (event.button.type === ButtonType.CUSTOM) {\n      this.addRandomImage();\n      setTimeout(() => {\n        this.galleryService.openGallery(galleryId, this.imagesRect.length - 1);\n      }, 0);\n    }\n  }\n\n  onCustomButtonAfterHook(event: ButtonEvent, galleryId: number | undefined) {\n    if (!event || !event.button) {\n      return;\n    }\n  }\n\n  addRandomImage() {\n    const imageToCopy: Image = this.imagesRect[Math.floor(Math.random() * this.imagesRect.length)];\n    const newImage: Image = new Image(this.imagesRect.length - 1 + 1, imageToCopy.modal, imageToCopy.plain);\n    this.imagesRect = [...this.imagesRect, newImage];\n  }\n\n  ngOnInit() { }\n\n}\n\n\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { GalleryDescComponent } from './gallery-desc/gallery-desc.component';\nimport { GalleryGridComponent } from './gallery-grid/gallery-grid.component';\nimport { HoverEffectComponent } from './hover-effect/hover-effect.component';\nimport { MesonryComponent } from './mesonry/mesonry.component';\nconst routes: Routes = [{\n  path: '',\n  children: [\n    {\n      path: 'gallery-grid',\n      component: GalleryGridComponent\n    },\n    {\n      path: 'gallery-desc',\n      component: GalleryDescComponent\n    },\n    {\n      path: 'mesonry',\n      component: MesonryComponent\n    },\n    {\n      path: 'hover',\n      component: HoverEffectComponent\n    }\n  ]\n}];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class GalleryRoutingModule { }\n","import { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { GalleryModule } from '@ks89/angular-modal-gallery';\nimport { Angular2PhotoswipeModule } from 'angular2_photoswipe';\nimport { CrystalGalleryModule } from 'ngx-crystal-gallery';\nimport { NgxMasonryModule } from 'ngx-masonry';\nimport { MasonryGalleryModule } from 'ngx-masonry-gallery';\nimport { SharedModule } from \"../../../shared/shared.module\";\n\nimport { GalleryDescComponent } from './gallery-desc/gallery-desc.component';\nimport { GalleryGridComponent } from './gallery-grid/gallery-grid.component';\nimport { GalleryRoutingModule } from './gallery-routing.module';\nimport { HoverEffectComponent } from './hover-effect/hover-effect.component';\nimport { MesonryComponent } from './mesonry/mesonry.component';\n\nimport 'hammerjs';\nimport 'mousetrap';\n\n\n@NgModule({\n  declarations: [GalleryGridComponent, GalleryDescComponent, MesonryComponent, HoverEffectComponent,],\n  imports: [\n    CommonModule,\n    GalleryRoutingModule,\n    Angular2PhotoswipeModule,\n    GalleryModule.forRoot(),\n    MasonryGalleryModule,\n    CrystalGalleryModule,\n    NgxMasonryModule,\n    SharedModule\n  ]\n})\nexport class GalleryDemoModule { }\n","<app-breadcrumb [title]=\"'Gallery Effect'\" [items]=\"['Apps', 'Gallery']\" [active_item]=\"'Gallery Effect'\"></app-breadcrumb>\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">1</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row my-gallery gallery\" id=\"aniimated-thumbnials\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-1\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-1\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n          <ks-modal-gallery [id]=\"2\" [modalImages]=\"imagesRect\" [plainGalleryConfig]=\"customPlainGalleryRowDescConfig\"\n            [currentImageConfig]=\"{downloadable: true}\" [buttonsConfig]=\"buttonsConfigCustom\"\n            (buttonBeforeHook)=\"onButtonBeforeHook($event)\" (buttonAfterHook)=\"onButtonAfterHook($event)\">\n          </ks-modal-gallery>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">2</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row my-gallery gallery\" id=\"aniimated-thumbnials1\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-2\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-2\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">3</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials2\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-3\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-3\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">4</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials3\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-4\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-4\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">5</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials4\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-5\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-5\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">6</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials5\" itemscope=\"\">\n            <figure class=\"col-sm-3 col-6 img-hover hover-6\" *ngFor=\"let img of imagesRect\">\n              <div>\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">7</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials6\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-7\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-7\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">8</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials7\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-8\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-8\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">9</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials8\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-9\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-9\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">10</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials9\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-10\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-10\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">11</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials10\" itemscope=\"\">\n            <figure class=\"col-sm-3 col-6 img-hover hover-11\" *ngFor=\"let img of imagesRect\">\n              <div>\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">12</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials11\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-12\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">13</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials12\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-13\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-13\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">14</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials13\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-14\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-14\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>Hover Effect <span class=\"digits\">15</span></h5>\n        </div>\n        <div class=\"card-body\">\n          <div class=\"row gallery my-gallery\" id=\"aniimated-thumbnials14\" itemscope=\"\">\n            <figure class=\"col-md-3 col-6 img-hover hover-15\" *ngFor=\"let img of imagesRect\">\n              <div class=\"img-hover hover-15\">\n                <img [src]=\"img.modal.img\" (click)=\"openImageModalRowDescription(img)\" class=\"img-fluid\" />\n              </div>\n            </figure>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\nimport { AdvancedLayout, ButtonEvent, ButtonsConfig, ButtonsStrategy, ButtonType, GalleryService, Image, KS_DEFAULT_BTN_CLOSE, KS_DEFAULT_BTN_DELETE, KS_DEFAULT_BTN_DOWNLOAD, KS_DEFAULT_BTN_EXTURL, KS_DEFAULT_BTN_FULL_SCREEN, PlainGalleryConfig, PlainGalleryStrategy } from '@ks89/angular-modal-gallery';\n\n@Component({\n  selector: 'app-hover-effect',\n  templateUrl: './hover-effect.component.html',\n  styleUrls: ['./hover-effect.component.scss'],\n  encapsulation: ViewEncapsulation.None\n})\nexport class HoverEffectComponent implements OnInit {\n\n  imageIndex = 1;\n  galleryId = 1;\n  isPlaying = true;\n\n  imagesRect: Image[] = [\n    new Image(\n      0,\n      { // modal\n        img: 'assets/images/lightgallry/08.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 1'\n      }, {\n      img: 'assets/images/lightgallry/08.jpg',\n    }\n    ),\n    new Image(\n      1,\n      { // modal\n        img: 'assets/images/lightgallry/09.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 2'\n      }, {\n      img: 'assets/images/lightgallry/09.jpg',\n    }\n    ),\n    new Image(\n      2,\n      { // modal\n        img: 'assets/images/lightgallry/010.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 3'\n      },\n      {\n        img: 'assets/images/lightgallry/010.jpg',\n      }\n    ),\n    new Image(\n      3,\n      { // modal\n        img: 'assets/images/lightgallry/011.jpg',\n        extUrl: 'http://www.google.com',\n        description: 'Image Caption 4'\n      },\n      {\n        img: 'assets/images/lightgallry/011.jpg',\n      }\n  )];\n\n  constructor(private galleryService: GalleryService) { }\n\n  buttonsConfigDefault: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.DEFAULT\n  };\n\n  buttonsConfigSimple: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.SIMPLE\n  };\n\n  buttonsConfigAdvanced: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.ADVANCED\n  };\n\n  buttonsConfigFull: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.FULL\n  };\n  \n  buttonsConfigCustom: ButtonsConfig = {\n    visible: true,\n    strategy: ButtonsStrategy.CUSTOM,\n    buttons: [\n      KS_DEFAULT_BTN_FULL_SCREEN,\n      KS_DEFAULT_BTN_DELETE,\n      KS_DEFAULT_BTN_EXTURL,\n      KS_DEFAULT_BTN_DOWNLOAD,\n      KS_DEFAULT_BTN_CLOSE\n    ]\n  };\n\n  customPlainGalleryRowConfig: PlainGalleryConfig = {\n    strategy: PlainGalleryStrategy.CUSTOM,\n    layout: new AdvancedLayout(-1, true)\n  };\n\n  customPlainGalleryRowDescConfig: PlainGalleryConfig = {\n    strategy: PlainGalleryStrategy.CUSTOM,\n    layout: new AdvancedLayout(-1, true)\n  };\n\n  openImageModalRow(image: Image) {\n    const index: number = this.getCurrentIndexCustomLayout(image, this.imagesRect);\n    this.customPlainGalleryRowConfig = Object.assign({}, this.customPlainGalleryRowConfig, { layout: new AdvancedLayout(index, true) });\n  }\n\n  openImageModalRowDescription(image: Image) {\n    const index: number = this.getCurrentIndexCustomLayout(image, this.imagesRect);\n    this.customPlainGalleryRowDescConfig = Object.assign({}, this.customPlainGalleryRowDescConfig, { layout: new AdvancedLayout(index, true) });\n  }\n\n  private getCurrentIndexCustomLayout(image: Image, images: Image[]): number {\n    return image ? images.indexOf(image) : -1;\n  };\n\n  isShownAutoNavigate = false;\n\n\n  onButtonBeforeHook(event: ButtonEvent) {\n    if (!event || !event.button) {\n      return;\n    }\n\n    if (event.button.type === ButtonType.DELETE) {\n      this.imagesRect = this.imagesRect.filter((val: Image) => event.image && val.id !== event.image.id);\n    }\n  }\n\n  onButtonAfterHook(event: ButtonEvent) {\n    if (!event || !event.button) {\n      return;\n    }\n  }\n\n  onCustomButtonBeforeHook(event: ButtonEvent, galleryId: number | undefined) {\n    if (!event || !event.button) {\n      return;\n    }\n\n    if (event.button.type === ButtonType.CUSTOM) {\n      this.addRandomImage();\n\n      setTimeout(() => {\n        this.galleryService.openGallery(galleryId, this.imagesRect.length - 1);\n      }, 0);\n    }\n  }\n\n  onCustomButtonAfterHook(event: ButtonEvent, galleryId: number | undefined) {\n    if (!event || !event.button) {\n      return;\n    }\n  }\n\n  addRandomImage() {\n    const imageToCopy: Image = this.imagesRect[Math.floor(Math.random() * this.imagesRect.length)];\n    const newImage: Image = new Image(this.imagesRect.length - 1 + 1, imageToCopy.modal, imageToCopy.plain);\n    this.imagesRect = [...this.imagesRect, newImage];\n  }\n\n  ngOnInit() { }\n\n}\n","import { IMasonryGalleryImage, MasonryGalleryComponent } from 'ngx-masonry-gallery';\nimport { Component, AfterViewInit, ChangeDetectorRef, ViewChild, OnInit } from '@angular/core';\nimport { NgxMasonryOptions } from 'ngx-masonry';\n\n@Component({\n  selector: 'app-mesonry',\n  templateUrl: './mesonry.component.html',\n  styleUrls: ['./mesonry.component.scss']\n})\nexport class MesonryComponent implements OnInit {\n\n  private readonly numberOfInitiallyShownImages = 8;\n  private readonly numberOfImages: number = 23;\n  public readonly multipleImagesCount: number = 3;\n\n  public initialImages?: IMasonryGalleryImage[];\n  public usedImages: IMasonryGalleryImage[] = [];\n  public pool: IMasonryGalleryImage[] = [];\n\n  private urls: string[] = [\n    'assets/images/masonry/1.jpg',\n    'assets/images/masonry/2.jpg',\n    'assets/images/masonry/3.jpg',\n    'assets/images/masonry/4.jpg',\n    'assets/images/masonry/5.jpg',\n    'assets/images/masonry/6.jpg',\n    'assets/images/masonry/7.jpg',\n    'assets/images/masonry/8.jpg',\n    'assets/images/masonry/9.jpg',\n    'assets/images/masonry/10.jpg',\n    'assets/images/masonry/11.jpg',\n    'assets/images/masonry/12.jpg'\n  ];\n\n  constructor() {\n    // init initial images\n    const images: IMasonryGalleryImage[] = [];\n    for (let i = 1; i <= this.numberOfInitiallyShownImages; i++) {\n      const image = this.pool[Math.floor(Math.random() * this.pool.length)];\n      images.push(image);\n      this.usedImages.push(image);\n    }\n    this.initialImages = images;\n  }\n\n  @ViewChild('masonryGallery',{static: true}) masonryGallery: MasonryGalleryComponent;\n\n  ngOnInit() { }\n\n  public get images(): IMasonryGalleryImage[] {\n    return this.urls.map(m => <IMasonryGalleryImage>{\n      imageUrl: m\n    });\n  }\n\n}","<app-breadcrumb [title]=\"'Masonry Gallery'\" [items]=\"['Apps', 'Gallery']\" [active_item]=\"'Masonry Gallery'\"></app-breadcrumb>\n<div class=\"container-fluid\">\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <h5>MASONRY GALLERY</h5>\n        </div>\n        <div class=\"card-body photoswipe-pb-responsive\" itemprop=\"associatedMedia\" itemscope=\"\">\n          <ngx-masonry-gallery class=\"custom-mesonry\" #masonryGallery [width]=\"250\" [images]=\"images\">\n          </ngx-masonry-gallery>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>"]}